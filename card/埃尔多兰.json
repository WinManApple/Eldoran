{
    "name": "åŸƒå°”å¤šå…°",
    "description": "",
    "personality": "",
    "scenario": "",
    "first_mes": "<launch>æ¸¸æˆæ­£å¼å¯åŠ¨ï¼Œè¯·å®Œæˆä¸‹é¢çš„Task</launch>",
    "mes_example": "",
    "creatorcomment": "",
    "avatar": "none",
    "talkativeness": "0.5",
    "fav": false,
    "tags": [],
    "spec": "chara_card_v3",
    "spec_version": "3.0",
    "data": {
        "name": "åŸƒå°”å¤šå…°",
        "description": "",
        "personality": "",
        "scenario": "",
        "first_mes": "<launch>æ¸¸æˆæ­£å¼å¯åŠ¨ï¼Œè¯·å®Œæˆä¸‹é¢çš„Task</launch>",
        "mes_example": "",
        "creator_notes": "",
        "system_prompt": "",
        "post_history_instructions": "",
        "tags": [],
        "creator": "",
        "character_version": "",
        "alternate_greetings": [],
        "extensions": {
            "talkativeness": "0.5",
            "fav": false,
            "world": "Eldoran",
            "depth_prompt": {
                "prompt": "",
                "depth": 4,
                "role": "system"
            },
            "tavern_helper": {
                "scripts": [
                    {
                        "type": "script",
                        "enabled": true,
                        "name": "System_Storage_Bridge",
                        "id": "1910b608-aaa6-4816-ab74-fa34dd4054a7",
                        "content": "// System_Storage_Bridge.js\n// ä½œç”¨ï¼šç›‘å¬æ¸¸æˆç«¯çš„å­˜æ¡£ RPC è¯·æ±‚ï¼Œä»£ç†è®¿é—®åç«¯ API\n// è¿è¡Œç¯å¢ƒï¼šSillyTavern (JSR)\n\n(function() {\n    console.log(\"ğŸ’¾ [Storage_Bridge] æ­£åœ¨å¯åŠ¨...\");\n\n    // 1. å®šä¹‰åè®® (éœ€ä¸ Protocol.js ä¸€è‡´)\n    const Protocol = {\n        STORAGE: {\n            SAVE: 'STORAGE:SAVE',\n            LOAD: 'STORAGE:LOAD',\n            LIST: 'STORAGE:LIST',\n            DELETE: 'STORAGE:DELETE'\n        }\n    };\n\n    // åç«¯æ’ä»¶çš„ API åœ°å€\n    const API_BASE = '/api/plugins/rpg_save_system';\n\n    // 2. å¯åŠ¨å¹¿æ’­é¢‘é“\n    const bus = new BroadcastChannel('rpg_sync');\n\n    bus.onmessage = async (event) => {\n        const packet = event.data;\n        if (!packet || !packet.type || packet.sender !== 'client') return;\n\n        // console.log(`ğŸ’¾ [Storage_Bridge] æ”¶åˆ°è¯·æ±‚: ${packet.type}`);\n\n        switch (packet.type) {\n            case Protocol.STORAGE.LIST:\n                await handleList(bus, packet.id);\n                break;\n            case Protocol.STORAGE.SAVE:\n                await handleSave(bus, packet.id, packet.payload);\n                break;\n            case Protocol.STORAGE.LOAD:\n                await handleLoad(bus, packet.id, packet.payload);\n                break;\n            case Protocol.STORAGE.DELETE:\n                await handleDelete(bus, packet.id, packet.payload);\n                break;\n        }\n    };\n    \n    console.log(\"âœ… [Storage_Bridge] ç›‘å¬ä¸­...\");\n\n    // ================= ä¸šåŠ¡é€»è¾‘ =================\n\n    async function handleList(bus, reqId) {\n        try {\n            const res = await fetch(`${API_BASE}/list`);\n            const json = await res.json();\n            _reply(bus, Protocol.STORAGE.LIST, json.list || [], reqId);\n        } catch (e) {\n            console.error(\"è·å–åˆ—è¡¨å¤±è´¥\", e);\n            _reply(bus, 'SYS:ERROR', e.message, reqId);\n        }\n    }\n\n    async function handleSave(bus, reqId, payload) {\n        try {\n            const res = await fetch(`${API_BASE}/save`, {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(payload) // { slotId, data }\n            });\n            const json = await res.json();\n            _reply(bus, Protocol.STORAGE.SAVE, json.success, reqId);\n        } catch (e) {\n            _reply(bus, 'SYS:ERROR', e.message, reqId);\n        }\n    }\n\n    async function handleLoad(bus, reqId, slotId) {\n        try {\n            const res = await fetch(`${API_BASE}/load/${slotId}`);\n            const json = await res.json();\n            _reply(bus, Protocol.STORAGE.LOAD, json.data, reqId);\n        } catch (e) {\n            _reply(bus, 'SYS:ERROR', e.message, reqId);\n        }\n    }\n\n    async function handleDelete(bus, reqId, slotId) {\n        try {\n            const res = await fetch(`${API_BASE}/delete/${slotId}`, { method: 'DELETE' });\n            const json = await res.json();\n            _reply(bus, Protocol.STORAGE.DELETE, json.success, reqId);\n        } catch (e) {\n            _reply(bus, 'SYS:ERROR', e.message, reqId);\n        }\n    }\n\n    function _reply(bus, type, payload, id) {\n        bus.postMessage({\n            type: type,\n            payload: payload,\n            id: id,\n            timestamp: Date.now(),\n            sender: 'server'\n        });\n    }\n})();",
                        "info": "",
                        "button": {
                            "enabled": true,
                            "buttons": []
                        },
                        "data": {}
                    },
                    {
                        "type": "script",
                        "enabled": true,
                        "name": "Map_Named.js",
                        "id": "bc326267-e771-43d1-ac44-0c45c9129d86",
                        "content": "// Map_Named.js\n(function() {\n    console.log(\"ğŸ§© [Map_Named] æ­£åœ¨åŠ è½½...\");\n    if (!window.parent) return;\n\n    window.parent.RPG_LLM_HANDLERS = window.parent.RPG_LLM_HANDLERS || {};\n\n    const CONFIG = {\n        LOREBOOK_NAME: \"Eldoran\",\n        ENTRY_COMMENT: \"Map_Named\"\n    };\n\n    window.parent.RPG_LLM_HANDLERS['MAP_INIT'] = {\n        buildPrompt: async (payload) => {\n            const helper = window.parent.TavernHelper || window.TavernHelper;\n            if (!helper) return \"\";\n\n            try {\n                // ğŸŸ¢ ä¿®å¤ç‚¹ï¼šAPIæ›´æ¢\n                const entries = await helper.getLorebookEntries(CONFIG.LOREBOOK_NAME);\n                const entriesArray = Array.isArray(entries) ? entries : Object.values(entries || {});\n                \n                const targetEntry = entriesArray.find(e => e.comment === CONFIG.ENTRY_COMMENT);\n                if (!targetEntry) throw new Error(`æœªæ‰¾åˆ°æ¡ç›®: ${CONFIG.ENTRY_COMMENT}`);\n\n                let template = targetEntry.content;\n                const context = payload.context || {};\n                const nodes = payload.nodes || [];\n                const nodesStr = JSON.stringify(nodes, null, 2);\n\n                template = template.replace(/{{params\\.nodes}}/g, nodesStr);\n                const mapNameVal = context.currentName || \"æœªçŸ¥åœ°å›¾\";\n                const nameAndThemeStr = `åœ°å›¾åç§°: ${mapNameVal}`;\n                template = template.replace(/{{params\\.name}}/g, nameAndThemeStr);\n\n                template = template.replace(/{{params\\.context\\.themeId}}/g, context.themeId || 'UNKNOWN');\n                template = template.replace(/{{params\\.context\\.type}}/g, context.type || 'MAIN');\n                template = template.replace(/{{params\\.context\\.mapId}}/g, context.mapId || 'UNKNOWN');\n\n                console.log(`âœ… [Map_Named] Prompt æ„å»ºå®Œæˆ`);\n                return template;\n\n            } catch (error) {\n                console.error(\"âŒ [Map_Named] æ„å»ºå¤±è´¥:\", error);\n                return `[Error: ${error.message}]`;\n            }\n        },\n\n        parseResponse: (rawText) => {\n            const match = rawText.match(/<Task_Map_Named>([\\s\\S]*?)<\\/Task_Map_Named>/);\n            if (match && match[1]) {\n                try {\n                    const cleanJson = match[1].replace(/```json/g, '').replace(/```/g, '').trim();\n                    const parsed = JSON.parse(cleanJson);\n                    if (parsed.mapId && parsed.nodes) return parsed;\n                } catch (e) { console.error(e); }\n            }\n            return null;\n        }\n    };\n    console.log(\"âœ… [Map_Named] å¤„ç†å™¨å·²æ³¨å†Œ\");\n})();",
                        "info": "",
                        "button": {
                            "enabled": true,
                            "buttons": []
                        },
                        "data": {}
                    },
                    {
                        "type": "script",
                        "enabled": true,
                        "name": "ST_Manager.js",
                        "id": "66a98cf0-d06f-40b6-92bb-9497e064aab8",
                        "content": "// ST_Manager.js\n// è¿è¡Œç¯å¢ƒ: SillyTavern æ’ä»¶åå° (TavernHelper ç¯å¢ƒ)\n// èŒè´£: æ ¸å¿ƒè°ƒåº¦å™¨ - å…¨æƒæ¥ç®¡ Prompt æ„å»ºæµç¨‹ (System Header + Tasks + System Footer)\n\n(function() {\n    console.log(\"ğŸ”® [ST_Manager] æ­£åœ¨å¯åŠ¨ (Refactored v2.0)...\");\n\n    // ==========================================\n    // 1. é…ç½®åŒºåŸŸ (æ¨¡å—åŒ–æ„å»ºæ ¸å¿ƒ)\n    // ==========================================\n    const CONFIG = {\n        // ç›®æ ‡ä¸–ç•Œä¹¦åç§°\n        LOREBOOK_NAME: \"Eldoran\",\n        \n        // System å¼€å¤´æ„å»ºé¡ºåº (å¯¹åº”æ¡ç›®çš„\"å¤‡æ³¨/Comment\")\n        SYSTEM_HEADER_ORDER: [\n            \"<System>\",                // <System> æ ‡ç­¾å¤´\n            \"System_Game_Introduction\", // æ¸¸æˆç®€ä»‹\n            \"System_Task_Guide\",       // ä»»åŠ¡æŒ‡å¯¼\n            \"System_Game_Background\",  // æ¸¸æˆèƒŒæ™¯\n            \"System_Item_Design\",      // ç‰©å“è®¾è®¡åŸåˆ™\n            \"System_Enemy_Design\"      // æ•Œäººè®¾è®¡åŸåˆ™\n        ],\n\n        // System ç»“å°¾æ„å»ºé¡ºåº\n        SYSTEM_FOOTER_ORDER: [\n            \"</System>\"                // </System> æ ‡ç­¾å°¾\n        ],\n\n        // ä»»åŠ¡ä¼˜å…ˆçº§ (æ•°å­—è¶Šå°è¶Šä¼˜å…ˆ)\n        PRIORITY_MAP: {\n            'OPENING': -1,\n            'PLOT_DESIGN': 0,\n            'MAP_INIT': 1,\n            'NODE_GENERATE': 2,\n            'CHAT': 3,\n            'H_MODE': 4,\n            'H_INTERACTION': 5,\n            'SUMMARY': 6\n        }\n    };\n\n    // ==========================================\n    // 2. é€šä¿¡åè®®å®šä¹‰\n    // ==========================================\n    const Protocol = {\n        SYS: { HANDSHAKE: 'SYS:HANDSHAKE', PAIRED: 'SYS:PAIRED', ERROR: 'SYS:ERROR' },\n        LLM: { GENERATE: 'LLM:GENERATE', CANCEL: 'LLM:CANCEL' }\n    };\n\n    const bus = new BroadcastChannel('rpg_sync');\n    // [æ–°å¢] ç”¨äºè¿½è¸ªå½“å‰æ­£åœ¨è¿›è¡Œçš„ç”Ÿæˆä»»åŠ¡ ID\n    let currentGenerationId = null;\n\n    // ==========================================\n    // 3. æ¶ˆæ¯ç›‘å¬ä¸»å¾ªç¯\n    // ==========================================\n    bus.onmessage = async (event) => {\n        const packet = event.data;\n        if (!packet || !packet.type || packet.sender !== 'client') return;\n\n        switch (packet.type) {\n            case Protocol.SYS.HANDSHAKE:\n                console.log(\"ğŸ¤ [ST_Manager] æ”¶åˆ°æ¡æ‰‹è¯·æ±‚\");\n                _reply(bus, Protocol.SYS.PAIRED, { msg: \"ST Manager Online (Manual Mode)\" }, packet.id);\n                break;\n\n            case Protocol.LLM.GENERATE:\n                await handleBatchRequest(bus, packet);\n                break;\n            // [æ–°å¢] å¤„ç†ä¸­æ–­è¯·æ±‚\n            case Protocol.LLM.CANCEL:\n                console.log(\"ğŸ›‘ [ST_Manager] æ”¶åˆ°ä¸­æ–­ä¿¡å·\");\n                if (currentGenerationId) {\n                    const helper = window.parent.TavernHelper || window.TavernHelper;\n                    // å°è¯•åœæ­¢ä»»åŠ¡\n                    const success = await helper.stopGenerationById(currentGenerationId);\n                    console.log(`[ST_Manager] ä»»åŠ¡åœæ­¢ç»“æœ: ${success}`);\n                    \n                    // é‡ç½® ID\n                    currentGenerationId = null;\n                    \n                    // è¿”å› true/false ç»™å®¢æˆ·ç«¯\n                    _reply(bus, Protocol.LLM.CANCEL, success, packet.id);\n                } else {\n                    console.warn(\"[ST_Manager] å½“å‰æ— æ´»åŠ¨ä»»åŠ¡ï¼Œæ— æ³•åœæ­¢\");\n                    _reply(bus, Protocol.LLM.CANCEL, false, packet.id);\n                }\n                break;\n        }\n    };\n\n    console.log(\"âœ… [ST_Manager] ç›‘å¬ä¸­...\");\n\n\n    // ==========================================\n    // 4. æ ¸å¿ƒå¤„ç†é€»è¾‘\n    // ==========================================\n    async function handleBatchRequest(bus, packet) {\n        const reqId = packet.id;\n        const helper = window.parent.TavernHelper || window.TavernHelper;\n\n        if (!helper) {\n            _reply(bus, Protocol.SYS.ERROR, \"TavernHelper æœªå°±ç»ª\", reqId);\n            return;\n        }\n\n        try {\n            console.log(`ğŸ“ [ST_Manager] å¼€å§‹å¤„ç†æ‰¹æ¬¡è¯·æ±‚ (ID: ${reqId})`);\n\n            // --- A. é¢„åŠ è½½ä¸–ç•Œä¹¦ (ä¾›å¤´å°¾æ„å»ºä½¿ç”¨) ---\n            const lorebookEntries = await helper.getLorebookEntries(CONFIG.LOREBOOK_NAME);\n            if (!lorebookEntries) throw new Error(`ä¸–ç•Œä¹¦ [${CONFIG.LOREBOOK_NAME}] è¯»å–å¤±è´¥`);\n\n            // ğŸŸ¢ [Step 1] æå‰è§£æ Payload (ä¸ºäº†åˆ¤æ–­æ˜¯å¦éœ€è¦å‰”é™¤ System Header æ¡ç›®)\n            // ====================================================================\n            console.log(\"   ğŸ—ï¸ è§£æ Payload...\");\n            let batchPayload = [];\n            let expectedTags = [];\n\n            if (Array.isArray(packet.payload)) {\n                batchPayload = packet.payload;\n            } else if (packet.payload && packet.payload.tasks) {\n                batchPayload = packet.payload.tasks;\n                expectedTags = packet.payload.expectedTags || [];\n            } else {\n                throw new Error(\"æ— æ•ˆçš„ Payload æ ¼å¼\");\n            }\n\n            // ğŸŸ¢ [Step 2] åŠ¨æ€è¿‡æ»¤ System Header\n            // ====================================================================\n            // æ£€æµ‹æ˜¯å¦å­˜åœ¨ ç‰¹æ®Šéœ€æ±‚ ä»»åŠ¡\n            const isHInteraction = batchPayload.some(task => task[0] === 'H_INTERACTION');\n            const isSummary = batchPayload.some(task => task[0] === 'SUMMARY'); // ğŸŸ¢ [æ–°å¢] æ£€æµ‹æ€»ç»“ä»»åŠ¡\n            const isOpening = batchPayload.some(task => task[0] === 'OPENING');\n\n            // å¤åˆ¶é…ç½®å‰¯æœ¬\n            let currentHeaderOrder = [...CONFIG.SYSTEM_HEADER_ORDER];\n\n            //  H æ¨¡å¼è¿‡æ»¤ \n            if (isHInteraction) {\n                console.log(\"ğŸ’• [ST_Manager] æ£€æµ‹åˆ° H_INTERACTION: æ­£åœ¨å‰”é™¤ç‰©å“ä¸æ•Œäººè®¾è®¡è§„åˆ™...\");\n                const excludeItems = ['System_Item_Design', 'System_Enemy_Design'];\n                currentHeaderOrder = currentHeaderOrder.filter(item => !excludeItems.includes(item));\n            }\n\n            //  Summary æ¨¡å¼è¿‡æ»¤\n            if (isSummary) {\n                console.log(\"ğŸ“ [ST_Manager] æ£€æµ‹åˆ° SUMMARY: æ­£åœ¨ç²¾ç®€ System Header (å»é™¤èƒŒæ™¯/ç‰©å“/æ•Œäºº)...\");\n                // ä¾æ®æŒ‡ä»¤å‰”é™¤: æ¸¸æˆèƒŒæ™¯ã€ç‰©å“è®¾è®¡ã€æ•Œäººè®¾è®¡\n                const excludeItems = ['System_Game_Background', 'System_Item_Design', 'System_Enemy_Design'];\n                currentHeaderOrder = currentHeaderOrder.filter(item => !excludeItems.includes(item));\n            }\n\n            //  Opening æ¨¡å¼ä¸‹çš„ Header å¤„ç† \n            // å‰”é™¤System_Enemy_Designæ¡ç›®\n            if (isOpening) {\n                console.log(\"ğŸš€ [ST_Manager] æ£€æµ‹åˆ° OPENING: å¯åŠ¨åˆ›ä¸–åºåˆ—...\");\n                const excludeItems = ['System_Enemy_Design'];\n                currentHeaderOrder = currentHeaderOrder.filter(item => !excludeItems.includes(item));\n            }\n\n            // --- B. æ„å»º System Header (ä½¿ç”¨åŠ¨æ€åˆ—è¡¨) ---\n            console.log(\"   ğŸ—ï¸ æ„å»º System Header...\");\n            // æ³¨æ„ï¼šæ­¤å¤„ä¼ å…¥çš„æ˜¯ currentHeaderOrder è€Œé CONFIG.SYSTEM_HEADER_ORDER\n            const systemHeader = constructSystemBlock(lorebookEntries, currentHeaderOrder);\n\n            // --- C. æ„å»º Tasks Body (ä»»åŠ¡åˆ†å‘) ---\n            console.log(\"   ğŸ—ï¸ æ„å»º Task Body...\");\n\n            // ä»»åŠ¡æ’åº\n            const sortedTasks = [...batchPayload].sort((a, b) => {\n                const pA = CONFIG.PRIORITY_MAP[a[0]] ?? 99;\n                const pB = CONFIG.PRIORITY_MAP[b[0]] ?? 99;\n                return pA - pB;\n            });\n\n            // è·å–å­å¤„ç†å™¨\n            const sharedHandlers = window.parent.RPG_LLM_HANDLERS || {};\n            let taskBodyPrompt = \"\";\n            let processedCount = 0;\n\n            for (const task of sortedTasks) {\n                const command = task[0];\n                const params = task[1];\n\n                if (sharedHandlers[command]) {\n                    // è°ƒç”¨å­å¤„ç†å™¨ç”Ÿæˆ Prompt\n                    // æ³¨æ„ï¼šå­å¤„ç†å™¨å†…éƒ¨å¯èƒ½è¿˜ä¼šè‡ªå·±å»è¯»ä¸€éä¸–ç•Œä¹¦(å–Taskæ¨¡æ¿)ï¼Œè¿™ä¿æŒäº†æ¨¡å—ç‹¬ç«‹æ€§ï¼Œæ˜¯å¯æ¥å—çš„\n                    const part = await sharedHandlers[command].buildPrompt(params);\n                    \n                    // ä»…å½“è¿”å›æœ‰æ•ˆå†…å®¹æ—¶æ‹¼æ¥\n                    if (part && part !== \"READY\" && part !== \"ERROR\") {\n                        taskBodyPrompt += \"\\n\" + part;\n                    }\n                    processedCount++;\n                } else {\n                    console.warn(`âš ï¸ [ST_Manager] æœªå¤„ç†æŒ‡ä»¤: ${command}`);\n                }\n            }\n\n            if (processedCount === 0) {\n                throw new Error(\"æ²¡æœ‰æœ‰æ•ˆçš„ä»»åŠ¡è¢«å¤„ç†\");\n            }\n\n            // --- D. æ„å»º System Footer (æ¨¡å—åŒ–) ---\n            console.log(\"   ğŸ—ï¸ æ„å»º System Footer...\");\n            const systemFooter = constructSystemBlock(lorebookEntries, CONFIG.SYSTEM_FOOTER_ORDER);\n\n\n            // --- E. æœ€ç»ˆç»„è£…ä¸å‘é€ ---\n            // ç»“æ„: [System Header] + [Tasks] + [System Footer]\n            const finalPrompt = `${systemHeader}\\n\\n${taskBodyPrompt}\\n\\n${systemFooter}`;\n\n            console.log(`ğŸ“¤ [ST_Manager] å‘é€ Prompt (é•¿åº¦: ${finalPrompt.length})`);\n            // console.log(\"--- Prompt Preview ---\\n\", finalPrompt.substring(0, 500) + \"...\");\n\n            currentGenerationId = reqId;\n\n            const resultText = await helper.generate({\n                generation_id: reqId,\n                injects: [{\n                    role: 'user',           // æ•´ä¸ª Prompt åŒ…è£¹åœ¨ User æ¶ˆæ¯ä¸­å‘é€\n                    content: finalPrompt,\n                    position: 'in_chat',    \n                    depth: 0,               // å¼ºåˆ¶æœ€æ–°\n                    should_write_to_chat: false, // é™é»˜\n                    should_scan: false      // å…³é—­è‡ªåŠ¨æ‰«æï¼Œé˜²æ­¢è§¦å‘æ„æ–™ä¹‹å¤–çš„æ¡ç›®\n                }],\n                should_stream: false,\n                auto_scroll: false\n            });\n\n            console.log(`ğŸ“¥ [ST_Manager] æ”¶åˆ° LLM å›å¤`);\n\n            // ğŸŸ¢ [æ–°å¢] æ•°æ®æ¸…æ´—é€»è¾‘\n            let finalOutput = resultText;\n            \n            // å°è¯•è·å–å…¨å±€æŒ‚è½½çš„æ¸…æ´—å™¨ (ç”± Data_Sanitize.js æä¾›)\n            const sanitizer = window.parent.RPG_DataSanitizer;\n\n            if (sanitizer && expectedTags.length > 0) {\n                console.log(`ğŸ§¹ [ST_Manager] æ­£åœ¨æ‰§è¡Œæ¸…æ´— (ç›®æ ‡æ ‡ç­¾: ${expectedTags.join(', ')})`);\n                try {\n                    // æ‰§è¡Œæ¸…æ´—\n                    finalOutput = sanitizer.process(resultText, { \n                        expectedTags: expectedTags \n                    });\n                } catch (sanitizeErr) {\n                    console.error(\"âš ï¸ [ST_Manager] æ¸…æ´—è¿‡ç¨‹å¼‚å¸¸ï¼Œå°†è¿”å›åŸå§‹æ•°æ®:\", sanitizeErr);\n                    // é™çº§å¤„ç†ï¼šæ¸…æ´—å¤±è´¥æ—¶è¿”å›åŸæ–‡ï¼Œé¿å…æ¸¸æˆå¡æ­»\n                    finalOutput = resultText; \n                }\n            } else {\n                if (!sanitizer) console.warn(\"âš ï¸ [ST_Manager] RPG_DataSanitizer æœªå°±ç»ªï¼Œè·³è¿‡æ¸…æ´—\");\n                // å¦‚æœæ²¡æœ‰ expectedTagsï¼Œé€šå¸¸æ„å‘³ç€ä¸éœ€è¦æ¸…æ´—ï¼Œæˆ–è€…ä½¿ç”¨çš„æ˜¯æ—§åè®®\n            }\n\n            // --- F. å›ä¼ ç»“æœ (å‘é€æ¸…æ´—åçš„æ•°æ®) ---\n            _reply(bus, Protocol.LLM.GENERATE, finalOutput, reqId);\n\n        } catch (e) {\n            // å‘ç”Ÿé”™è¯¯ï¼Œæ¸…é™¤ ID\n            currentGenerationId = null;\n            console.error(\"âŒ [ST_Manager] å¤„ç†å¼‚å¸¸:\", e);\n            _reply(bus, Protocol.SYS.ERROR, e.message, reqId);\n        }\n    }\n\n    // ==========================================\n    // 5. è¾…åŠ©å‡½æ•°ï¼šæ¨¡å—åŒ–æ„å»ºå™¨\n    // ==========================================\n\n    /**\n     * æ ¹æ®é…ç½®é¡ºåºï¼Œä»ä¸–ç•Œä¹¦æ¡ç›®ä¸­æå–å†…å®¹å¹¶æ‹¼æ¥\n     * @param {Array} allEntries - ä¸–ç•Œä¹¦æ‰€æœ‰æ¡ç›®æ•°ç»„\n     * @param {Array} orderConfig - éœ€è¦æå–çš„æ¡ç›®åç§°åˆ—è¡¨ (Comment)\n     */\n    function constructSystemBlock(allEntries, orderConfig) {\n        let block = \"\";\n        \n        for (const entryName of orderConfig) {\n            const entry = allEntries.find(e => e.comment === entryName);\n            \n            if (entry) {\n                // æ‹¼æ¥å†…å®¹ï¼Œå¹¶æ·»åŠ æ¢è¡Œç¬¦ä»¥é˜²ç²˜è¿\n                if (entry.content) {\n                    block += entry.content + \"\\n\";\n                }\n            } else {\n                console.warn(`âš ï¸ [ST_Manager] ç¼ºå¤± System æ¡ç›®: ${entryName}`);\n                // å¯ä»¥é€‰æ‹©åœ¨è¿™é‡Œæ’å…¥ä¸€ä¸ªé»˜è®¤çš„å ä½ç¬¦ï¼Œæˆ–è€…ç›´æ¥è·³è¿‡\n            }\n        }\n        \n        return block.trim();\n    }\n\n    function _reply(bus, type, payload, id) {\n        bus.postMessage({\n            type: type,\n            payload: payload,\n            id: id,\n            timestamp: Date.now(),\n            sender: 'server'\n        });\n    }\n\n})();",
                        "info": "",
                        "button": {
                            "enabled": true,
                            "buttons": []
                        },
                        "data": {}
                    },
                    {
                        "type": "script",
                        "enabled": true,
                        "name": "Plot_Design.js",
                        "id": "4423c441-df71-4af5-a4fe-0317c644b710",
                        "content": "// Plot_Design.js\n// è¿è¡Œç¯å¢ƒ: SillyTavern æ’ä»¶åå° (TavernHelper ç¯å¢ƒ)\n\n(function() {\n    console.log(\"ğŸ“œ [Plot_Design] æ­£åœ¨åŠ è½½...\");\n    if (!window.parent) return;\n\n    // ç¡®ä¿å‘½åç©ºé—´å­˜åœ¨\n    window.parent.RPG_LLM_HANDLERS = window.parent.RPG_LLM_HANDLERS || {};\n\n    // [é…ç½®åŒºåŸŸ]\n    const CONFIG = {\n        LOREBOOK_NAME: \"Eldoran\",\n        // [ä¿®æ”¹] å®šä¹‰ä¸åŒæ¨¡å¼ä¸‹çš„ä¸–ç•Œä¹¦æ¡ç›®åç§° (Comment)\n        ENTRY_MAIN: \"Plot_Design_Main\",  // ä¸»çº¿å‰§æƒ…æ¨¡æ¿\n        ENTRY_SUB: \"Plot_Design_Sub\"     // æ”¯çº¿/è£‚ç¼æ¨¡æ¿\n    };\n\n    window.parent.RPG_LLM_HANDLERS['PLOT_DESIGN'] = {\n        \n        /**\n         * æ„å»º Prompt\n         * @param {Object} params - å‰ç«¯ Call_Plot_Design.js ä¼ æ¥çš„å‚æ•°\n         */\n        buildPrompt: async (params) => {\n            const helper = window.parent.TavernHelper || window.TavernHelper;\n            if (!helper) return \"\";\n\n            try {\n                // 1. è·å–ä¸–ç•Œä¹¦æ‰€æœ‰æ¡ç›®\n                const entries = await helper.getLorebookEntries(CONFIG.LOREBOOK_NAME);\n                const entriesArray = Array.isArray(entries) ? entries : Object.values(entries || {});\n\n                // 2. [ä¿®æ”¹] æ ¹æ®åœ°å›¾ç±»å‹åŠ¨æ€å†³å®šä½¿ç”¨å“ªä¸ªæ¨¡æ¿\n                const isSub = params.mapType === 'SUB';\n                const targetEntryName = isSub ? CONFIG.ENTRY_SUB : CONFIG.ENTRY_MAIN;\n\n                console.log(`ğŸ” [Plot_Design] æ­£åœ¨å¯»æ‰¾æ¨¡æ¿: ${targetEntryName} (æ¨¡å¼: ${params.mapType || 'MAIN'})`);\n\n                // 3. æŸ¥æ‰¾å¯¹åº”æ¡ç›®\n                const targetEntry = entriesArray.find(e => e.comment === targetEntryName);\n                if (!targetEntry) {\n                    throw new Error(`æœªæ‰¾åˆ°ä¸–ç•Œä¹¦æ¡ç›®: ${targetEntryName} (è¯·æ£€æŸ¥é…’é¦†ä¸–ç•Œä¹¦é…ç½®)`);\n                }\n\n                let template = targetEntry.content;\n\n                // 4. æ‰§è¡ŒåŸºç¡€å‚æ•°æ›¿æ¢\n                const prevPlotText = params.previouslyPlot ? params.previouslyPlot : \"(æš‚æ— å‰æƒ…æè¦)\";\n\n                // ä½¿ç”¨å›è°ƒå‡½æ•°é˜²æ­¢ç‰¹æ®Šå­—ç¬¦å¯¼è‡´æ­£åˆ™é”™è¯¯\n                template = template.replace(/{{params\\.previouslyPlot}}/g, () => prevPlotText);\n                template = template.replace(/{{params\\.chapterId}}/g, params.chapterId || 'UNKNOWN_ID');\n                template = template.replace(/{{params\\.mapType}}/g, params.mapType || 'MAIN');\n                template = template.replace(/{{params\\.locationName}}/g, params.locationName || 'æœªçŸ¥ä¹‹åœ°');\n                template = template.replace(/{{params\\.theme}}/g, params.theme || 'THEME_UNKNOWN');\n                template = template.replace(/{{params\\.totalStages}}/g, params.totalStages || 1);\n\n                // 5. [ä¿®æ”¹] å¤„ç†æ”¯çº¿ä¿¡æ¯æ›¿æ¢ ({{Side_Line_Information}})\n                // é€»è¾‘ï¼šå¦‚æœæ˜¯ä¸»çº¿ï¼Œæ˜¾ç¤ºå›ºå®šå¿½ç•¥æ–‡æœ¬ï¼›å¦‚æœæ˜¯æ”¯çº¿ï¼Œæ˜¾ç¤ºä¼ å…¥çš„ payload ä¿¡æ¯\n                let sideLineText = \"æ­¤ä¸ºä¸»çº¿å‰§æƒ…è®¾è®¡ï¼Œä¸éœ€è¦è¿™éƒ¨åˆ†ä¿¡æ¯\";\n                \n                if (isSub) {\n                    // ä¼˜å…ˆä½¿ç”¨ä¼ å…¥çš„ sideLineInfoï¼Œå¦‚æœä¸ºç©ºåˆ™å…œåº•\n                    sideLineText = params.sideLineInfo || \"æ— é¢å¤–æ”¯çº¿ä¿¡æ¯\";\n                }\n                \n                template = template.replace(/{{Side_Line_Information}}/g, () => sideLineText);\n\n                // 6. [ä¿®æ”¹] å¤„ç†å¯¹è¯å†å²æ›¿æ¢ ({{Chat_Memory}})\n                const chatHistoryText = params.chatHistory || \"æš‚æ— å¯¹è¯è®°å½•\";\n                template = template.replace(/{{Chat_Memory}}/g, () => chatHistoryText);\n\n                console.log(`âœ… [Plot_Design] Prompt æ„å»ºå®Œæˆ`);\n                return template;\n\n            } catch (error) {\n                console.error(\"âŒ [Plot_Design] æ„å»ºå¤±è´¥:\", error);\n                return `[System Error: ${error.message}]`;\n            }\n        },\n\n        /**\n         * è§£æ LLM è¿”å›çš„ XML ç»“æœ\n         * (æ­¤é€»è¾‘ä¿æŒä¸å˜ï¼Œç”¨äºæå– JSON)\n         */\n        parseResponse: (rawText) => {\n            // å°è¯•æ•è· <Task_Plot_Design> ... </Task_Plot_Design>\n            const match = rawText.match(/<Task_Plot_Design>([\\s\\S]*?)<\\/Task_Plot_Design>/);\n            if (match && match[1]) {\n                try {\n                    // æ¸…æ´— Markdown ä»£ç å—æ ‡è®°\n                    const cleanJson = match[1].replace(/```json/g, '').replace(/```/g, '').trim();\n                    const parsed = JSON.parse(cleanJson);\n                    // ç®€å•æ ¡éªŒ\n                    if (parsed.mapId) return parsed;\n                } catch (e) { \n                    console.error(\"âŒ [Plot_Design] JSON è§£æå¤±è´¥:\", e); \n                }\n            }\n            return null;\n        }\n    };\n\n    console.log(\"âœ… [Plot_Design] å¤„ç†å™¨å·²æ³¨å†Œ (Sub/Main Mode)\");\n})();",
                        "info": "",
                        "button": {
                            "enabled": true,
                            "buttons": []
                        },
                        "data": {}
                    },
                    {
                        "type": "script",
                        "enabled": true,
                        "name": "Node_Genertate.js",
                        "id": "7e9f64fd-b63e-4b3c-ba8a-66b8052a5294",
                        "content": "// Node_Genertate.js\n// è¿è¡Œç¯å¢ƒï¼šé…’é¦†åŠ©æ‰‹è„šæœ¬åå°\n\n(function() {\n    console.log(\"ğŸ² [Node_Genertate] æ­£åœ¨åŠ è½½...\");\n    if (!window.parent) return;\n\n    window.parent.RPG_LLM_HANDLERS = window.parent.RPG_LLM_HANDLERS || {};\n    window.parent.RPG_CONTEXT = window.parent.RPG_CONTEXT || {\n        playerStateMacro: \"æš‚æ— ç©å®¶æˆ˜åŠ›æ•°æ®\",\n        processedEntries: {}\n    };\n\n    const CONFIG = {\n        LOREBOOK_NAME: \"Eldoran\",\n        ENTRY_COMMENT: \"Node_Generate\"\n    };\n\n    window.parent.RPG_LLM_HANDLERS['NODE_GENERATE'] = {\n        buildPrompt: async (params) => {\n            const helper = window.parent.TavernHelper || window.TavernHelper;\n            if (!helper) return \"\";\n\n            try {\n\n                // 1. è·å–æ¨¡æ¿ (ç›´æ¥è¯»å–ï¼Œä¸å†ä¾èµ– RPG_CONTEXT ç¼“å­˜ï¼Œä¿è¯å®æ—¶æ€§)\n                const entries = await helper.getLorebookEntries(CONFIG.LOREBOOK_NAME);\n                const entriesArray = Array.isArray(entries) ? entries : Object.values(entries || {});\n                const targetEntry = entriesArray.find(e => e.comment === CONFIG.ENTRY_COMMENT);\n                \n                if (!targetEntry) throw new Error(`æœªæ‰¾åˆ°æ¡ç›®: ${CONFIG.ENTRY_COMMENT}`);\n                let template = targetEntry.content;\n\n                // ğŸŸ¢ 1. å¤„ç†ç©å®¶æ•°æ®å®æ›¿æ¢ {{Player_State_WithoutHstate}}\n                // é€»è¾‘å·²å‰ç§»è‡³ Call_Node_Generate.jsï¼Œç›´æ¥æ¥æ”¶å¤„ç†å¥½çš„å­—ç¬¦ä¸²\n                // ä½¿ç”¨å›è°ƒå‡½æ•° () => val æ›¿æ¢ï¼Œé˜²æ­¢ç‰¹æ®Šå­—ç¬¦å¹²æ‰°\n                const playerStateStr = params.playerStateStr || \"æš‚æ— ç©å®¶æ•°æ®\";\n                template = template.replace(/{{Player_State_WithoutHstate}}/g, () => playerStateStr);\n\n                // ==================================================\n                // ğŸŸ¢ 2. æ ¸å¿ƒä¿®æ”¹ï¼šå¤„ç† {{Plot}} å®æ›¿æ¢ (é€»è¾‘å·²å‰ç§»è‡³å‰ç«¯)\n                // ==================================================\n                // ç›´æ¥ä½¿ç”¨å‰ç«¯ä¼ æ¥çš„ params.plotContextStr\n                // ä½¿ç”¨å›è°ƒå‡½æ•° () => val æ›¿æ¢ï¼Œé˜²æ­¢æ–‡æœ¬ä¸­åŒ…å« \"$\" å¯¼è‡´æ­£åˆ™è§£æé”™è¯¯\n                const plotStr = params.plotContextStr || \"ï¼ˆæš‚æ— å‰§æƒ…ä¸Šä¸‹æ–‡ï¼‰\";\n                let finalPrompt = template.replace(/{{Plot}}/g, () => plotStr);\n\n                // ==================================================\n                // ğŸŸ¢ 3. æ–°å¢ï¼šå¤„ç† {{Chat_Data}} å®æ›¿æ¢\n                // ==================================================\n                const chatStr = params.chatContextStr || \"ï¼ˆæš‚æ— å¯¹è¯è®°å½•ï¼‰\";\n                finalPrompt = finalPrompt.replace(/{{Chat_Data}}/g, () => chatStr);\n                // ==================================================\n\n                // 3. èŠ‚ç‚¹æ•°æ®æ›¿æ¢\n                const nodesToGen = params.nodes || [];\n                const nodeDataStr = JSON.stringify(nodesToGen, null, 2);\n                finalPrompt = finalPrompt.replace(/{{Node_Data}}/g, nodeDataStr);\n\n                // ğŸŸ¢ [æ–°å¢] å¤„ç† {{params.name_and_theme}} å®æ›¿æ¢\n                // æ‹¼æ¥åœ°å›¾åç§°ä¸ä¸»é¢˜IDï¼Œå¸®åŠ© LLM é”å®šç”Ÿæˆé£æ ¼\n                const mapNameVal = params.mapName || \"æœªçŸ¥åœ°å›¾\";\n                const themeIdVal = params.themeId || \"æœªçŸ¥ä¸»é¢˜\";\n                const nameAndThemeStr = `åœ°å›¾åç§°: ${mapNameVal} (ThemeID: ${themeIdVal})`;\n                \n                finalPrompt = finalPrompt.replace(/{{params\\.name_and_theme}}/g, nameAndThemeStr);\n\n                // 4. MapID æ›¿æ¢\n                if (params.mapId) {\n                    finalPrompt = finalPrompt.replace(/{{params\\.mapId}}/g, params.mapId);\n                }\n\n                console.log(`âœ… [Node_Genertate] Prompt æ„å»ºå®Œæˆ (å«å‰§æƒ…ä¸Šä¸‹æ–‡)`);\n                return finalPrompt;\n\n            } catch (error) {\n                console.error(\"âŒ [Node_Genertate] æ„å»ºå¤±è´¥:\", error);\n                return `[Error: ${error.message}]`;\n            }\n        },\n\n        parseResponse: (rawText) => {\n            // ... (ä¿æŒåŸæ ·)\n            const match = rawText.match(/<Task_Node_Generate>([\\s\\S]*?)<\\/Task_Node_Generate>/);\n            if (match && match[1]) {\n                try {\n                    const cleanJson = match[1].replace(/```json/g, '').replace(/```/g, '').trim();\n                    const parsed = JSON.parse(cleanJson);\n                    if (parsed.mapId && parsed.data) return parsed;\n                } catch (e) { console.error(e); }\n            }\n            return null;\n        }\n    };\n    console.log(\"âœ… [Node_Genertate] å¤„ç†å™¨å·²æ³¨å†Œ\");\n})();",
                        "info": "",
                        "button": {
                            "enabled": true,
                            "buttons": []
                        },
                        "data": {}
                    },
                    {
                        "type": "script",
                        "enabled": true,
                        "name": "Chat.js",
                        "id": "1eb8ebb8-95ed-42e5-a151-af0b32c01401",
                        "content": "// src/LLM/handlers/Chat.js\n// è¿è¡Œç¯å¢ƒ: SillyTavern æ’ä»¶åå° (TavernHelper ç¯å¢ƒ)\n\n(function() {\n    console.log(\"ğŸ’¬ [Chat.js] æ­£åœ¨åŠ è½½ (v3.0 Refactored)...\");\n\n    // é…ç½®å¸¸é‡ï¼šå¯¹åº”ä¸–ç•Œä¹¦çš„æ¡ç›®åç§°\n    const CONFIG = {\n        LOREBOOK_NAME: 'Eldoran',\n        MAIN_ENTRY: 'Interaction_With_Player',           // ä¸»æç¤ºè¯æ¨¡æ¿\n        INSTRUCTION_ENTRY: 'System_LLM_Instruction_In_Chat' // ç³»ç»ŸæŒ‡ä»¤æ¨¡æ¿\n    };\n\n    // ç¡®ä¿å‘½åç©ºé—´å­˜åœ¨\n    window.parent.RPG_LLM_HANDLERS = window.parent.RPG_LLM_HANDLERS || {};\n\n    // æ³¨å†Œ CHAT å¤„ç†å™¨\n    window.parent.RPG_LLM_HANDLERS['CHAT'] = {\n        /**\n         * æ„å»ºæœ€ç»ˆ Prompt\n         * @param {Object} params - ç”±å‰ç«¯ Call_Chat.js å‘é€çš„æ‰å¹³åŒ–æ•°æ®å¯¹è±¡\n         */\n        buildPrompt: async (params) => {\n            try {\n                // 1. è·å– TavernHelper å®ä¾‹\n                const helper = window.parent.TavernHelper || window.TavernHelper;\n                if (!helper) throw new Error(\"TavernHelper æœªå°±ç»ª\");\n\n                // 2. è¯»å–ä¸–ç•Œä¹¦å†…å®¹\n                const entries = await helper.getLorebookEntries(CONFIG.LOREBOOK_NAME);\n                if (!entries) throw new Error(`ä¸–ç•Œä¹¦ [${CONFIG.LOREBOOK_NAME}] è¯»å–å¤±è´¥`);\n\n                const mainEntry = entries.find(e => e.comment === CONFIG.MAIN_ENTRY);\n                const instrEntry = entries.find(e => e.comment === CONFIG.INSTRUCTION_ENTRY);\n\n                if (!mainEntry) throw new Error(`æœªæ‰¾åˆ°ä¸»æ¨¡æ¿: ${CONFIG.MAIN_ENTRY}`);\n                \n                // æŒ‡ä»¤é›†å…è®¸ä¸ºç©ºï¼ˆå®¹é”™ï¼‰\n                const instructionContent = instrEntry ? instrEntry.content : \"\";\n                let promptTemplate = mainEntry.content;\n\n                // 3. æ‰§è¡Œå®æ›¿æ¢\n                console.log(\"âš™ï¸ [Chat.js] å¼€å§‹æ‰§è¡Œå®æ›¿æ¢...\");\n                // ğŸ” è°ƒè¯•æ—¥å¿—ï¼šæ£€æŸ¥å‰ç«¯ä¼ å…¥çš„é¢„å¤„ç†å­—ç¬¦ä¸² keys\n                console.log(\"   - Params Keys:\", Object.keys(params || {}));\n                \n                // ğŸŸ¢ æ ¸å¿ƒï¼šè°ƒç”¨æ›¿æ¢é€»è¾‘ï¼Œparams åŒ…å«äº†å‰ç«¯ç”Ÿæˆçš„ xxxStr å­—ç¬¦ä¸²\n                const processedPrompt = processMacros(promptTemplate, params);\n\n                // 4. æ‹¼æ¥ç³»ç»ŸæŒ‡ä»¤å¹¶è¿”å›\n                return processedPrompt + \"\\n\\n\" + instructionContent;\n\n            } catch (err) {\n                console.error(\"âŒ [Chat.js] æ„å»ºå¼‚å¸¸:\", err);\n                return `[System Error: ${err.message}]`;\n            }\n        }\n    };\n\n    console.log(\"âœ… [Chat.js] å¤„ç†å™¨å·²æ³¨å†Œ (çº¯å‡€ç‰ˆ)\");\n\n    // ==========================================\n    // æ ¸å¿ƒé€»è¾‘ï¼šå®æ›¿æ¢å¼•æ“ (Macro Replacement)\n    // ==========================================\n    \n    /**\n     * æ‰§è¡Œæ¨¡æ¿å˜é‡æ›¿æ¢\n     * @param {string} template - åŸå§‹æç¤ºè¯æ¨¡æ¿\n     * @param {Object} data - å‰ç«¯ä¼ æ¥çš„æ•°æ® (params)\n     */\n    function processMacros(template, data) {\n        let result = template;\n\n        // è·å–æ§åˆ¶ä¿¡å· (ç”¨äºå†³å®šæ˜¯å¦éœ€è¦ Summary)\n        const ctrl = data.control || {};\n\n        // ------------------------------------------\n        // A. åŸºç¡€ç¯å¢ƒæ•°æ® (å·²ç”±å‰ç«¯é¢„å¤„ç†ä¸º String)\n        // ------------------------------------------\n        \n        // æ—¶é—´ä¸åœ°ç‚¹\n        const locationStr = data.locationStr || \"ä½ç½®æœªçŸ¥\";\n        result = result.replace(/{{Time_And_Place}}/g, locationStr);\n\n        // å‰§æƒ…ä¸Šä¸‹æ–‡\n        const plotStr = data.plotStr || \"æš‚æ— å‰§æƒ…\";\n        // ğŸŸ¢ å®‰å…¨æ›¿æ¢ï¼šä½¿ç”¨å›è°ƒå‡½æ•° () => strï¼Œé˜²æ­¢æ–‡æœ¬ä¸­åŒ…å« '$' å¯¼è‡´æ­£åˆ™æ›¿æ¢å¼‚å¸¸\n        result = result.replace(/{{Plot}}/g, () => plotStr); \n\n        // åœ°å›¾èŠ‚ç‚¹ä¿¡æ¯\n        const mapNodeStr = data.mapNodeStr || \"æš‚æ— èŠ‚ç‚¹ä¿¡æ¯\";\n        result = result.replace(/{{Map_Node}}/g, () => mapNodeStr);\n\n        // ------------------------------------------\n        // B. èŠå¤©äº¤äº’æ•°æ®\n        // ------------------------------------------\n\n        // ç”¨æˆ·æœ€æ–°è¾“å…¥\n        const userStr = data.userInputStr || \"(æ— è¾“å…¥)\";\n        result = result.replace(/{{User_Input}}/g, () => userStr);\n\n        // å¯¹è¯å†å² (å®è§‚+é˜¶æ®µ+è¿‘æœŸ)\n        const historyStr = data.chatHistoryStr || \"æš‚æ— å†å²\";\n        result = result.replace(/{{Chat_History}}/g, () => historyStr);\n\n        // ------------------------------------------\n        // C. ç©å®¶ä¸é˜Ÿä¼æ•°æ®\n        // ------------------------------------------\n\n        // ç©å®¶çŠ¶æ€å® (å·²ç”±å‰ç«¯è®¡ç®—å±æ€§ã€è£…å¤‡ã€æŠ€èƒ½å¹¶æ ¼å¼åŒ–)\n        const playerStr = data.playerStateStr || \"æš‚æ— ç©å®¶æ•°æ®\";\n        result = result.replace(/{{Player_State}}/g, () => playerStr);\n        result = result.replace(/{{Player_State_WithoutHstate}}/g, () => playerStr);\n\n        // åŸå§‹æ•°æ® Dump (Party/NPC) - ä¿æŒ JSON æ ¼å¼æ³¨å…¥ï¼Œä»¥å¤‡ä¸æ—¶ä¹‹éœ€\n        const partyJson = JSON.stringify(data.partyData || {}, null, 2);\n        result = result.replace(/{{Party_Memory}}/g, () => partyJson);\n\n        const npcJson = JSON.stringify(data.npcData || {}, null, 2);\n        result = result.replace(/{{NPC_Data}}/g, () => npcJson);\n\n        // ------------------------------------------\n        // D. å¥³æ€§ H ç³»ç»Ÿ (Frontend Generated)\n        // ------------------------------------------\n\n        // å‰ç«¯å·²ç”ŸæˆæŒ‡å¯¼ JSON å­—ç¬¦ä¸² (åŒ…å«å¥½æ„Ÿåº¦/å •è½åº¦/éƒ¨ä½ååº”çš„æ–‡æœ¬æè¿°)\n        const femaleInstrStr = data.femaleInstrStr || \"[]\";\n        result = result.replace(/{{Female_Action_Instruction}}/g, () => femaleInstrStr);\n        \n        // ä»¥ä¸‹æ—§æ ‡ç­¾æš‚æ—¶å¤ç”¨æŒ‡å¯¼æ•°æ®æˆ–ç½®ç©º\n        result = result.replace(/{{Female_H_Atrribute}}/g, () => femaleInstrStr);\n        result = result.replace(/{{Female_H_History_And_Atrribute}}/g, () => femaleInstrStr);\n\n        // ------------------------------------------\n        // E. ä»»åŠ¡æ§åˆ¶ä¸è¾“å‡ºæ ¼å¼ (Output Format Logic)\n        // ------------------------------------------\n        \n        const reqSummary = ctrl.require_summary;\n        const reqGrand = ctrl.require_grand_summary;\n\n        // 1. æ„å»ºå°æ€»ç»“ä»»åŠ¡ (Task_Summary)\n        // ğŸŸ¢ [æ ¸å¿ƒä¿®å¤] æ³¨å…¥ Call_Chat ä¼ æ¥çš„çº¯å‡€æ•°æ® historyRecentStr\n        let summaryTask = \"æ— å°æ€»ç»“ä»»åŠ¡\"; // é»˜è®¤å ä½ç¬¦\n\n        if (reqSummary) {\n            const cleanRecentHistory = data.historyRecentStr || \"æš‚æ— è¿‘æœŸæ•°æ®\";\n            summaryTask = `<Summary>\nä½ éœ€è¦å¯¹ä¸‹é¢çš„å†å²è¿›è¡Œå°æ€»ç»“(summary)ã€‚\nè¦æ±‚ï¼š\n1. æ€»ç»“ä¸è¶…50å­—ï¼Œå†…å®¹å‡å®ç²¾ç‚¼ã€‚\n2. å¿…é¡»è¾“å‡º JSON æ ¼å¼ã€‚\nç¤ºä¾‹ï¼š{\"summary\": \"è¿™é‡Œæ˜¯æ€»ç»“å†…å®¹\"}\n\n[è¿‘æœŸå¯¹è¯å†å²]\n${cleanRecentHistory}\n</Summary>`;\n        }\n        result = result.replace(/{{Task_Summary}}/g, summaryTask);\n\n\n        // 2. æ„å»ºå¤§æ€»ç»“ä»»åŠ¡ (Task_Grand_Summary)\n        // ğŸŸ¢ [æ ¸å¿ƒä¿®å¤] æ³¨å…¥ Call_Chat ä¼ æ¥çš„çº¯å‡€æ•°æ® historySummaryStr\n        let grandTask = \"æ— å¤§æ€»ç»“ä»»åŠ¡\"; // é»˜è®¤å ä½ç¬¦\n\n        if (reqGrand) {\n            const cleanSummaryHistory = data.historySummaryStr || \"æš‚æ— å‰æƒ…æè¦\";\n            grandTask = `<Grand_Summary>\nä½ éœ€è¦å¯¹ä¸‹é¢çš„å†å²è¿›è¡Œå¤§æ€»ç»“(grand_summary)ã€‚\nè¦æ±‚ï¼š\n1. æ€»ç»“ä¸è¶…50å­—ï¼Œå†…å®¹å‡å®ç²¾ç‚¼ã€‚\n2. å¿…é¡»è¾“å‡º JSON æ ¼å¼ã€‚\nç¤ºä¾‹ï¼š{\"grand_summary\": \"è¿™é‡Œæ˜¯å®è§‚æ€»ç»“å†…å®¹\"}\n\n[é˜¶æ®µæ€»ç»“å†å²]\n${cleanSummaryHistory}\n</Grand_Summary>`;\n        }\n        result = result.replace(/{{Task_Grand_Summary}}/g, grandTask);\n\n        // å†³å®šè¾“å‡ºæ ¼å¼æ¨¡æ¿ ID\n        let formatKey = \"1\"; // é»˜è®¤: ä»…å›å¤ + æŒ‡ä»¤\n        if (reqSummary && !reqGrand) formatKey = \"2\"; // + å°ç»“\n        if (reqSummary && reqGrand) formatKey = \"3\";  // + å¤§ç»“\n\n        const outputFormat = getOutputFormatTemplate(formatKey);\n        result = result.replace(/{{Output_Format}}/g, outputFormat);\n\n        return result;\n    }\n\n    // ==========================================\n    // è¾…åŠ©å‡½æ•°: è¾“å‡ºæ ¼å¼æ¨¡æ¿é€‰æ‹©\n    // ==========================================\n\n    function getOutputFormatTemplate(type) {\n        const baseContent = `\n            <Chat_Content>\n                (é’ˆå¯¹æ­¤æ¬¡å¯¹è¯çš„äº’åŠ¨ï¼Œè¯¦è§<User_Input>)\n            </Chat_Content>`;\n        \n        const systemInstr = `\n            <LLM_System_Instruction>\n                (ä½ ä½¿ç”¨å‡½æ•°çš„åœ°æ–¹ï¼Œè¯¦è§<System_LLM_Instruction_In_Chat>)\n            </LLM_System_Instruction>`;\n\n        if (type === \"1\") {\n            return `<Task_Interaction_With_Player>${baseContent}${systemInstr}</Task_Interaction_With_Player>`;\n        }\n        if (type === \"2\") {\n            return `<Task_Interaction_With_Player>${baseContent}\n            <Summary>\n                (å°æ€»ç»“çš„å†…å®¹)\n            </Summary>${systemInstr}</Task_Interaction_With_Player>`;\n        }\n        if (type === \"3\") {\n            return `<Task_Interaction_With_Player>${baseContent}\n            <Summary>\n                (å°æ€»ç»“çš„å†…å®¹)\n            </Summary>\n            <Grand_Summary>\n                (å¤§æ€»ç»“çš„å†…å®¹)\n            </Grand_Summary>${systemInstr}</Task_Interaction_With_Player>`;\n        }\n        return \"\";\n    }\n\n})();",
                        "info": "",
                        "button": {
                            "enabled": true,
                            "buttons": []
                        },
                        "data": {}
                    },
                    {
                        "type": "script",
                        "enabled": true,
                        "name": "Data_Sanitize.js",
                        "id": "cb2eb71d-535a-48ee-9ba2-6f311e6295aa",
                        "content": "// Data_Sanitize.js\n// è¿è¡Œç¯å¢ƒ: SillyTavern åå°\n// èŒè´£: è´Ÿè´£å¯¹ LLM çš„åŸå§‹è¾“å‡ºè¿›è¡Œæ¸…æ´—ã€æå–å’Œæ ¼å¼åŒ–ï¼Œå‰”é™¤æ— å…³å™ªéŸ³ã€‚\n\n(function() {\n    console.log(\"ğŸ§¹ [Data_Sanitize] æ•°æ®æ¸…æ´—æ¨¡å—æ­£åœ¨æŒ‚è½½...\");\n\n    // =============================================================\n    // 1. æ ¸å¿ƒå¤„ç†å™¨é›†åˆ (Processors)\n    // æœªæ¥å¯åœ¨æ­¤å¤„æ‰©å±•å…¶ä»–æ¸…æ´—é€»è¾‘ï¼Œå¦‚ fixBrokenJson, removeMarkdown ç­‰\n    // =============================================================\n    const processors = {\n        \n        /**\n         * ç­–ç•¥ï¼šåŸºäºç™½åå•æ ‡ç­¾çš„ç²¾ç¡®æå– (æŠ—å™ªå¢å¼ºç‰ˆ)\n         * é€»è¾‘ï¼šæå–æœ€å†…å±‚çš„ <Tag>...{JSON}...</Tag> å¯¹ï¼Œå¿½ç•¥æœªé—­åˆçš„å‰ç½®å¹²æ‰°\n         * ç¤ºä¾‹ï¼š<Tag> (1) <Tag> (2) </Tag> -> æå– (2)\n         */\n        extractTags: function(text, tags) {\n            if (!Array.isArray(tags) || tags.length === 0) {\n                return text; \n            }\n\n            let cleanedBuffer = \"\";\n            let matchCount = 0;\n\n            tags.forEach(tagName => {\n                // ğŸŸ¢ [ä¿®æ”¹] å¼•å…¥è´Ÿå‘å…ˆè¡Œæ–­è¨€ (Negative Lookahead)\n                // è§£é‡Š:\n                // 1. <(${tagName})>       : åŒ¹é…å¼€å§‹æ ‡ç­¾\n                // 2. (?: ... )*?          : éæ•è·ç»„ï¼Œæ‡’æƒ°é‡å¤\n                // 3. (?!<${tagName}>)     : âš ï¸ å…³é”®ç‚¹ï¼šæ¯å‰è¿›ä¸€æ­¥å‰ï¼Œå…ˆæ–­è¨€åé¢ä¸æ˜¯å¼€å§‹æ ‡ç­¾\n                //                           å¦‚æœé‡åˆ°åµŒå¥—çš„å¼€å§‹æ ‡ç­¾ï¼Œå½“å‰åŒ¹é…ä½œåºŸï¼Œå¼•æ“ä¼šè‡ªåŠ¨å¯»æ‰¾ä¸‹ä¸€ä¸ªå¼€å§‹æ ‡ç­¾\n                // 4. [\\\\s\\\\S]             : åŒ¹é…ä»»æ„å­—ç¬¦\n                // 5. <\\\\/${tagName}>      : åŒ¹é…ç»“æŸæ ‡ç­¾\n                \n                const regexStr = `<(${tagName})>(?:(?!<${tagName}>)[\\\\s\\\\S])*?<\\\\/${tagName}>`;\n                const regex = new RegExp(regexStr, 'g');\n                \n                const matches = text.match(regex);\n                \n                if (matches) {\n                    // å°†æ‰€æœ‰åŒ¹é…åˆ°çš„å—æ‹¼æ¥èµ·æ¥\n                    cleanedBuffer += matches.join(\"\\n\") + \"\\n\";\n                    matchCount += matches.length;\n                }\n            });\n\n            if (matchCount > 0) {\n                console.log(`ğŸ§¹ [Data_Sanitize] å·²æå– ${matchCount} ä¸ªæœ‰æ•ˆç‰‡æ®µ (å·²å‰”é™¤åµŒå¥—/æœªé—­åˆå™ªéŸ³)ã€‚`);\n                return cleanedBuffer.trim();\n            } else {\n                console.warn(`âš ï¸ [Data_Sanitize] æœªåœ¨å›å¤ä¸­æ‰¾åˆ°æœŸæœ›çš„æ ‡ç­¾: ${tags.join(', ')}`);\n                return \"\"; \n            }\n        }\n    };\n\n    // =============================================================\n    // 2. ä¸»å¯¹å¤–æ¥å£ (Public API)\n    // =============================================================\n    const SanitizerAPI = {\n        /**\n         * æ‰§è¡Œæ¸…æ´—ä»»åŠ¡\n         * @param {string} rawText - LLM è¿”å›çš„åŸå§‹æ–‡æœ¬\n         * @param {Object} options - æ¸…æ´—é…ç½®\n         * @param {Array<string>} [options.expectedTags] - æœŸæœ›æå–çš„æ ‡ç­¾ç™½åå•\n         * @returns {string} - æ¸…æ´—åçš„æ–‡æœ¬\n         */\n        process: function(rawText, options = {}) {\n            if (!rawText) return \"\";\n\n            let result = rawText;\n\n            // 1. æ‰§è¡Œæ ‡ç­¾æå– (å¦‚æœæœ‰ expectedTags)\n            if (options.expectedTags && options.expectedTags.length > 0) {\n                result = processors.extractTags(result, options.expectedTags);\n            }\n\n            // 2. (é¢„ç•™) æœªæ¥åœ¨æ­¤å¤„ä¸²è”å…¶ä»–å¤„ç†å™¨\n            // if (options.fixJson) result = processors.fixBrokenJson(result);\n\n            return result;\n        }\n    };\n\n    // =============================================================\n    // 3. æŒ‚è½½è‡³çˆ¶çº§å…¨å±€ç©ºé—´\n    // =============================================================\n    try {\n        // ç¡®ä¿çˆ¶çº§å‘½åç©ºé—´å­˜åœ¨ (é˜²æ­¢è¦†ç›–)\n        // è¿™é‡Œä½¿ç”¨ RPG_DataSanitizer ä½œä¸ºå”¯ä¸€çš„è®¿é—®å…¥å£\n        window.parent.RPG_DataSanitizer = SanitizerAPI;\n        \n        console.log(\"âœ… [Data_Sanitize] æŒ‚è½½æˆåŠŸ: window.parent.RPG_DataSanitizer\");\n    } catch (e) {\n        console.error(\"âŒ [Data_Sanitize] æŒ‚è½½å¤±è´¥ (å¯èƒ½æ˜¯è·¨åŸŸæˆ–çˆ¶çº§ä¸å¯è®¿é—®):\", e);\n    }\n\n})();",
                        "info": "",
                        "button": {
                            "enabled": true,
                            "buttons": []
                        },
                        "data": {}
                    },
                    {
                        "type": "script",
                        "enabled": true,
                        "name": "H_Interaction.js",
                        "id": "b13a3ebf-89d2-4232-8990-687c53fb6f03",
                        "content": "// src/LLM/handlers/H_Interaction.js\n// è¿è¡Œç¯å¢ƒ: SillyTavern æ’ä»¶åå° (TavernHelper ç¯å¢ƒ)\n\n(function() {\n    console.log(\"ğŸ’• [H_Interaction.js] æ­£åœ¨åŠ è½½...\");\n\n    const CONFIG = {\n        LOREBOOK_NAME: 'Eldoran',\n        // æ¨¡æ¿æ¡ç›®æ˜ å°„è¡¨\n        TEMPLATES: {\n            OPENING_SINGLE: 'H_Sence_Opening_Single',\n            OPENING_MULTI:  'H_Sence_Opening_Multiple',\n            INTERACT_SINGLE:'H_Sence_Interation_Single',\n            INTERACT_MULTI: 'H_Sence_Interation_Multiple',\n            SETTLEMENT:     'H_Sence_Settlement'\n        }\n    };\n\n    // ç¡®ä¿å‘½åç©ºé—´å­˜åœ¨\n    window.parent.RPG_LLM_HANDLERS = window.parent.RPG_LLM_HANDLERS || {};\n\n    // æ³¨å†Œ H_INTERACTION å¤„ç†å™¨\n    window.parent.RPG_LLM_HANDLERS['H_INTERACTION'] = {\n        \n        /**\n         * æ„å»º H åœºæ™¯çš„ Prompt\n         * @param {Object} params - å®¢æˆ·ç«¯ä¼ æ¥çš„æ•°æ®åŒ…\n         */\n        buildPrompt: async (params) => {\n            try {\n                // 1. è·å– TavernHelper å®ä¾‹\n                const helper = window.parent.TavernHelper || window.TavernHelper;\n                if (!helper) throw new Error(\"TavernHelper æœªå°±ç»ª\");\n\n                // 2. åˆ†æå½“å‰æƒ…å¢ƒ (é˜¶æ®µ & äººæ•°)\n                const userInput = params.userInput || \"\";\n                \n                // è§£æå¥³æ€§å±æ€§ JSON æ¥åˆ¤æ–­äººæ•° (å®¹é”™å¤„ç†: å¦‚æœè§£æå¤±è´¥åˆ™é»˜è®¤ä¸ºå•äºº)\n                let femaleCount = 1;\n                try {\n                    const females = JSON.parse(params.femaleAttribute || \"[]\");\n                    femaleCount = females.length;\n                } catch (e) {\n                    console.warn(\"âš ï¸ [H_Interaction] è§£æå¥³æ€§äººæ•°å¤±è´¥ï¼Œé»˜è®¤ä¸ºå•äºº:\", e);\n                }\n\n                // 3. å†³å®šä½¿ç”¨çš„æ¨¡æ¿åç§°\n                let targetEntryName = \"\";\n\n                if (userInput.includes(\"Order_Init_System\")) {\n                    // --- å¼€åœºé˜¶æ®µ ---\n                    targetEntryName = (femaleCount > 1) \n                        ? CONFIG.TEMPLATES.OPENING_MULTI \n                        : CONFIG.TEMPLATES.OPENING_SINGLE;\n                    console.log(`ğŸ’• [H_Interaction] æ£€æµ‹åˆ°å¼€åœº (äººæ•°: ${femaleCount}) -> ä½¿ç”¨æ¨¡æ¿: ${targetEntryName}`);\n\n                } else if (userInput.includes(\"Order_Start_Settlement\")) {\n                    // --- ç»“ç®—é˜¶æ®µ ---\n                    targetEntryName = CONFIG.TEMPLATES.SETTLEMENT;\n                    console.log(`ğŸ’• [H_Interaction] æ£€æµ‹åˆ°ç»“ç®— -> ä½¿ç”¨æ¨¡æ¿: ${targetEntryName}`);\n\n                } else {\n                    // --- äº’åŠ¨é˜¶æ®µ ---\n                    targetEntryName = (femaleCount > 1) \n                        ? CONFIG.TEMPLATES.INTERACT_MULTI \n                        : CONFIG.TEMPLATES.INTERACT_SINGLE;\n                    console.log(`ğŸ’• [H_Interaction] æ£€æµ‹åˆ°äº’åŠ¨ (äººæ•°: ${femaleCount}) -> ä½¿ç”¨æ¨¡æ¿: ${targetEntryName}`);\n                }\n\n                // 4. è¯»å–ä¸–ç•Œä¹¦\n                const entries = await helper.getLorebookEntries(CONFIG.LOREBOOK_NAME);\n                if (!entries) throw new Error(`ä¸–ç•Œä¹¦ [${CONFIG.LOREBOOK_NAME}] è¯»å–å¤±è´¥`);\n\n                const templateEntry = entries.find(e => e.comment === targetEntryName);\n                if (!templateEntry) throw new Error(`æœªæ‰¾åˆ° H æ¨¡æ¿æ¡ç›®: ${targetEntryName}`);\n\n                // 5. æ‰§è¡Œå®æ›¿æ¢\n                let prompt = templateEntry.content;\n\n                // --- é€šç”¨å®æ›¿æ¢ ---\n                // ä½¿ç”¨å›è°ƒå‡½æ•° () => str é˜²æ­¢ replace å¤„ç†ç‰¹æ®Šå­—ç¬¦(å¦‚ $)æ—¶å‡ºé”™\n                prompt = prompt.replace(/{{Player_Party}}/g, () => params.playerParty || \"[]\");\n                prompt = prompt.replace(/{{Time_And_Place}}/g, () => params.timePlace || \"æœªçŸ¥åœ°ç‚¹\");\n                prompt = prompt.replace(/{{Event_Name}}/g, () => params.eventName || \"æœªçŸ¥äº‹ä»¶\");\n                \n                prompt = prompt.replace(/{{Female_History}}/g, () => params.femaleHistory || \"[]\");\n                prompt = prompt.replace(/{{Chat_History}}/g, () => params.chatHistory || \"[]\");\n                prompt = prompt.replace(/{{Female_Attribute}}/g, () => params.femaleAttribute || \"[]\");\n                \n                // ç”¨æˆ·è¾“å…¥ (å¦‚æœæ˜¯æŒ‡ä»¤ï¼Œè¿™é‡Œå°±æ˜¯æŒ‡ä»¤å­—ç¬¦ä¸²ï¼›å¦‚æœæ˜¯å¯¹è¯ï¼Œå°±æ˜¯å¯¹è¯å†…å®¹)\n                prompt = prompt.replace(/{{User_Input}}/g, () => params.userInput || \"\");\n\n                // --- ç»“ç®—ä¸“ç”¨å®æ›¿æ¢ ---\n                // åªæœ‰ç»“ç®—æ¨¡æ¿é‡Œæ‰æœ‰è¿™ä¸ªæ ‡ç­¾ï¼Œæ™®é€šæ¨¡æ¿é‡Œæ²¡æœ‰ï¼Œæ›¿æ¢äº†ä¹Ÿæ— å¦¨\n                prompt = prompt.replace(/{{Settlement_Guide}}/g, () => {\n                    let guide = params.settlementGuide || \"\";\n                    \n                    // ğŸŸ¢ ä»…åœ¨ç»“ç®—æ¨¡å¼ä¸‹ï¼Œæ‰§è¡Œç»éªŒè®¡ç®—é€»è¾‘\n                    if (targetEntryName === CONFIG.TEMPLATES.SETTLEMENT) {\n                        try {\n                            // 1. è§£æç©å®¶åˆ—è¡¨\n                            const party = JSON.parse(params.playerParty || \"[]\");\n                            // 2. æ‰¾åˆ°ä¸»è§’ (é€šå¸¸æ˜¯ç¬¬ä¸€ä¸ªï¼Œæˆ–æ ¹æ® id åˆ¤æ–­)\n                            const player = party[0]; \n                            \n                            if (player && player.level) {\n                                const lv = parseInt(player.level);\n                                // 3. å¥—ç”¨å…¬å¼: å½“ä¸‹ç­‰çº§^2 + 400\n                                const nextLevelExp = (lv * lv) + 400;\n                                \n                                // 4. è¿½åŠ ç³»ç»Ÿæç¤ºç»™ LLM\n                                guide += `\\n[System Note: ç©å®¶å½“å‰ç­‰çº§ Lv.${lv}ã€‚æ ¹æ®è§„åˆ™ï¼Œå‡è‡³ä¸‹ä¸€çº§æ‰€éœ€ç»éªŒå€¼ = ${nextLevelExp}ã€‚è¯·åŸºäºè¡¨ç°ç»™äºˆé€‚å½“å¥–åŠ±ã€‚]`;\n                            }\n                        } catch (e) {\n                            console.warn(\"âš ï¸ [H_Interaction] ç»éªŒè®¡ç®—å¤±è´¥:\", e);\n                        }\n                    }\n                    \n                    return guide;\n                });\n\n                return prompt;\n\n            } catch (err) {\n                console.error(\"âŒ [H_Interaction] æ„å»ºå¼‚å¸¸:\", err);\n                return `[System Error in H_Interaction: ${err.message}]`;\n            }\n        }\n    };\n\n    console.log(\"âœ… [H_Interaction.js] å¤„ç†å™¨å·²æ³¨å†Œ\");\n\n})();",
                        "info": "",
                        "button": {
                            "enabled": true,
                            "buttons": []
                        },
                        "data": {}
                    },
                    {
                        "type": "script",
                        "enabled": true,
                        "name": "Summary.js",
                        "id": "ddd3afb3-8306-4af4-afd0-4cae7928f6f9",
                        "content": "// Summary.js\n// è¿è¡Œç¯å¢ƒ: SillyTavern æ’ä»¶åå° (TavernHelper ç¯å¢ƒ)\n// èŒè´£: å¤šå¯¹å¤šæ€»ç»“æ¨¡å¼ - ä¸Šä¸‹æ–‡æ³¨å…¥å™¨\n\n(function() {\n    console.log(\"ğŸ“œ [Summary] æ­£åœ¨åŠ è½½ (v3.0 - Many-to-Many)...\");\n    if (!window.parent) return;\n\n    window.parent.RPG_LLM_HANDLERS = window.parent.RPG_LLM_HANDLERS || {};\n\n    const CONFIG = {\n        LOREBOOK_NAME: \"Eldoran\",\n        ENTRY_NAME: \"Summary\"\n    };\n\n    window.parent.RPG_LLM_HANDLERS['SUMMARY'] = {\n        \n        /**\n         * æ„å»º Prompt\n         * @param {Object} params - å‰ç«¯ Call_Summary.js ä¼ æ¥çš„å‚æ•°\n         * åŒ…å«: summary_context (å·²æ‹¼æ¥çš„æ‰€æœ‰æºé¢‘é“æ–‡æœ¬), target_ids (ç›®æ ‡IDæ•°ç»„)\n         */\n        buildPrompt: async (params) => {\n            const helper = window.parent.TavernHelper || window.TavernHelper;\n            if (!helper) return \"\";\n\n            try {\n                // 1. è·å–ä¸–ç•Œä¹¦æ¨¡æ¿\n                const entries = await helper.getLorebookEntries(CONFIG.LOREBOOK_NAME);\n                const targetEntry = (Array.isArray(entries) ? entries : Object.values(entries || {}))\n                    .find(e => e.comment === CONFIG.ENTRY_NAME);\n\n                if (!targetEntry) throw new Error(`æ¨¡æ¿ç¼ºå¤±: ${CONFIG.ENTRY_NAME}`);\n\n                let template = targetEntry.content;\n\n                // 2. æ‰§è¡Œå®æ›¿æ¢\n                \n                // A. æ³¨å…¥å¾…æ€»ç»“çš„å†…å®¹ (Summary_Context)\n                // å‰ç«¯å·²ç»æŠŠå®ƒæ ¼å¼åŒ–æˆäº† \"=== é¢‘é“: xxx ===\\nå†…å®¹...\" çš„é•¿æ–‡æœ¬\n                template = template.replace(/{{Summary_Context}}/g, () => params.summary_context || \"æ— å¾…æ€»ç»“æ•°æ®\");\n\n                // B. æ³¨å…¥ç›®æ ‡é¢‘é“åˆ—è¡¨ (Target_Channels)\n                // å°†æ•°ç»„è½¬ä¸º JSON å­—ç¬¦ä¸²ï¼Œä¾› LLM ç…§æŠ„è¿›è¿”å›å€¼çš„ \"Target_ID\" å­—æ®µ\n                const targetsJson = JSON.stringify(params.target_ids || [\"main\"]);\n                template = template.replace(/{{Target_Channels}}/g, () => targetsJson);\n\n                // C. æ³¨å…¥å­—æ•°é™åˆ¶ ({{sum_number}})\n                // å¦‚æœå‰ç«¯æ²¡ä¼ ï¼Œå…œåº• \"100-300\"\n                template = template.replace(/{{sum_number}}/g, () => params.sum_number || \"100-300\");\n\n                return template;\n\n            } catch (error) {\n                console.error(\"âŒ [Summary] æ„å»ºå¤±è´¥:\", error);\n                return `[System Error: ${error.message}]`;\n            }\n        }\n        \n        // ä¸éœ€è¦ parseResponseï¼Œæ¸…æ´—ä¸è§£æå·¥ä½œç”±å‰ç«¯ Action_Summary ç»Ÿä¸€å¤„ç†\n    };\n\n    console.log(\"âœ… [Summary] å¤„ç†å™¨å·²å°±ç»ª (å¤šé¢‘é“æ¨¡å¼)\");\n})();",
                        "info": "",
                        "button": {
                            "enabled": true,
                            "buttons": []
                        },
                        "data": {}
                    },
                    {
                        "type": "script",
                        "enabled": true,
                        "name": "Custom_Opening.js",
                        "id": "285fcb4d-a6bd-4dfe-92fb-3bbec4847f83",
                        "content": "// Custom_Opening.js\n// è¿è¡Œç¯å¢ƒ: SillyTavern æ’ä»¶åå° (TavernHelper ç¯å¢ƒ)\n// èŒè´£: å¤„ç† 'OPENING' æŒ‡ä»¤ - çº¯ç²¹çš„ Prompt æ„å»ºå™¨\n\n(function() {\n    // å¢åŠ ç‰ˆæœ¬å·ä»¥ä¾¿åœ¨æ§åˆ¶å°ç¡®è®¤æ˜¯å¦åŠ è½½äº†æœ€æ–°ç‰ˆ\n    console.log(\"ğŸš€ [Custom_Opening] æ­£åœ¨åŠ è½½ (v2.0 - Refactored)...\");\n    \n    if (!window.parent) return;\n\n    // ç¡®ä¿å‘½åç©ºé—´å­˜åœ¨\n    window.parent.RPG_LLM_HANDLERS = window.parent.RPG_LLM_HANDLERS || {};\n\n    // ==========================================\n    // é…ç½®åŒºåŸŸ\n    // ==========================================\n    const CONFIG = {\n        LOREBOOK_NAME: \"Eldoran\",\n        // å¯¹åº”ä¸–ç•Œä¹¦æ¡ç›®çš„ Comment/å¤‡æ³¨\n        ENTRY_NAME: \"Custom_Opening\" \n    };\n\n    // ==========================================\n    // æ³¨å†Œå¤„ç†å™¨: OPENING\n    // ==========================================\n    window.parent.RPG_LLM_HANDLERS['OPENING'] = {\n        \n        /**\n         * æ„å»º Prompt\n         * @param {Object} params - å‰ç«¯ Call_Custom_Opening.js ä¼ æ¥çš„å‚æ•°\n         * @param {string} params.customOpeningSkeleton - å¾…å¡«å……çš„ JSON éª¨æ¶å­—ç¬¦ä¸²\n         * @param {string} params.userPlotDesign - ç”¨æˆ·çš„å‰§æƒ…è®¾è®¡æ„å›¾\n         */\n        buildPrompt: async (params) => {\n            const helper = window.parent.TavernHelper || window.TavernHelper;\n            // ä¸¥è°¨ä¸€ç‚¹ï¼Œå¦‚æœ helper ä¸å­˜åœ¨åˆ™è¿”å›ç©ºå­—ç¬¦ä¸²æˆ–é”™è¯¯æ ‡è®°ï¼Œé˜²æ­¢ ST_Manager å´©æºƒ\n            if (!helper) {\n                console.error(\"âŒ [Custom_Opening] TavernHelper æœªæ‰¾åˆ°\");\n                return \"\";\n            }\n\n            try {\n                // 1. è·å–ä¸–ç•Œä¹¦\n                const entries = await helper.getLorebookEntries(CONFIG.LOREBOOK_NAME);\n                if (!entries) throw new Error(`æ— æ³•è¯»å–ä¸–ç•Œä¹¦: ${CONFIG.LOREBOOK_NAME}`);\n\n                const entriesArray = Array.isArray(entries) ? entries : Object.values(entries);\n\n                // 2. æŸ¥æ‰¾ç›®æ ‡æ¨¡æ¿æ¡ç›®\n                const targetEntry = entriesArray.find(e => e.comment === CONFIG.ENTRY_NAME);\n                if (!targetEntry) {\n                    throw new Error(`æœªæ‰¾åˆ°ä¸–ç•Œä¹¦æ¡ç›®: ${CONFIG.ENTRY_NAME}`);\n                }\n\n                let template = targetEntry.content;\n\n                // 3. æ‰§è¡Œå®æ›¿æ¢: {{Custom_Opening}} (éª¨æ¶)\n                const skeleton = params.customOpeningSkeleton || \"{}\";\n                // ä½¿ç”¨å›è°ƒå‡½æ•°æ›¿æ¢ï¼Œé˜²æ­¢ JSON å­—ç¬¦ä¸²ä¸­çš„ç‰¹æ®Šå­—ç¬¦($ç­‰)ç ´åæ­£åˆ™\n                template = template.replace(/{{Custom_Opening}}/g, () => skeleton);\n\n                // 4. æ‰§è¡Œå®æ›¿æ¢: {{User_Plot_Design}} (ç”¨æˆ·å‰§æƒ…æƒ³æ³•)\n                const plotDesign = params.userPlotDesign || \"æ— ç‰¹æ®Šè¦æ±‚\";\n                template = template.replace(/{{User_Plot_Design}}/g, () => plotDesign);\n\n                // æ—¥å¿—åªåœ¨æ„å»ºæˆåŠŸæ—¶è¾“å‡ºï¼Œå‡å°‘åˆ·å±\n                // console.log(`âœ… [Custom_Opening] Prompt æ„å»ºæˆåŠŸ (Length: ${template.length})`);\n                \n                return template;\n\n            } catch (error) {\n                console.error(\"âŒ [Custom_Opening] æ„å»ºå¤±è´¥:\", error);\n                // è¿”å›åŒ…å«é”™è¯¯ä¿¡æ¯çš„ Promptï¼Œè¿™æ · LLM æˆ–è€… Log å°±èƒ½çœ‹åˆ°é”™è¯¯ï¼Œ\n                // æˆ–è€… ST_Manager å¯ä»¥æ•è·è¿™ä¸ªç‰¹å®šçš„é”™è¯¯æ ¼å¼\n                return `[System Error: ${error.message}]`;\n            }\n        }\n        \n        // å·²ç§»é™¤ parseResponseï¼Œæ•°æ®æ¸…æ´—å…¨æƒäº¤ç»™æ¸¸æˆç«¯ Action_Custom_Opening.js\n    };\n\n    console.log(\"âœ… [Custom_Opening] å¤„ç†å™¨å·²å°±ç»ª\");\n})();",
                        "info": "",
                        "button": {
                            "enabled": true,
                            "buttons": []
                        },
                        "data": {}
                    }
                ],
                "variables": {}
            },
            "regex_scripts": [
                {
                    "id": "1a23537c-4ef8-4cd5-b645-a5092c848d31",
                    "scriptName": "Game_Start",
                    "findRegex": "/<launch>(.*?)<\\/launch>/g",
                    "replaceString": "```\n<html>\n<div style=\"padding: 10px; text-align: center; border: 1px dashed #555; border-radius: 8px; margin: 10px 0; background: rgba(0,0,0,0.2);\">\n    <button \n        onclick=\"window.launchLocalGame()\"\n        style=\"\n            background: linear-gradient(135deg, #9C27B0 0%, #E040FB 100%);\n            color: white;\n            border: none;\n            padding: 10px 25px;\n            font-size: 16px;\n            font-weight: bold;\n            border-radius: 25px;\n            cursor: pointer;\n            box-shadow: 0 4px 15px rgba(156, 39, 176, 0.4);\n            transition: all 0.3s ease;\n        \"\n    >\n        <span>ğŸ”®</span>\n        <span>ç‚¹å‡»å¼€å§‹æ¸¸æˆ</span>\n    </button>\n</div>\n\n<script>\n    if (!window.launchLocalGame) {\n        // è·¯å¾„\n        const RELATIVE_PATH = '/Eldoran/game_project/index.html';\n        \n        window.rpgWindow = null;\n\n        window.launchLocalGame = function() {\n            // â˜…å…³é”®ä¿®æ”¹ï¼šä½¿ç”¨ window.top.location.origin è·å–ä¸»çª—å£åŸŸå (http://127.0.0.1:8000)\n            // è¿™æ ·å°±ä¸ä¼šå‡ºç° /null/ äº†\n            const origin = window.top.location.origin;\n            const fullUrl = origin + RELATIVE_PATH;\n            \n            console.log(\"[Gateway] ä¿®æ­£åçš„å¯åŠ¨åœ°å€:\", fullUrl);\n\n            if (window.rpgWindow && !window.rpgWindow.closed) {\n                window.rpgWindow.focus();\n            } else {\n                window.rpgWindow = window.open(fullUrl, 'PhaserRPG', 'width=1280,height=720');\n            }\n        };\n    }\n</script>\n</html>\n```",
                    "trimStrings": [],
                    "placement": [
                        1,
                        2
                    ],
                    "disabled": false,
                    "markdownOnly": true,
                    "promptOnly": false,
                    "runOnEdit": true,
                    "substituteRegex": 0,
                    "minDepth": null,
                    "maxDepth": null
                }
            ]
        },
        "group_only_greetings": [],
        "character_book": {
            "entries": [
                {
                    "id": 0,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "System_Game_Introduction",
                    "content": "    <System_Game_Introduction>\n        1.ã€Š{{Char}}ã€‹è¿™æ˜¯ä¸€æ¬¾é«˜è‡ªç”±åº¦, å¼ºäº’åŠ¨æ€§AIäº¤äº’å¼çš„RPGæ¸¸æˆã€‚ä½ çš„èŒè´£æ˜¯ä¸¥æ ¼éµå®ˆ XML æ ‡ç­¾å®šä¹‰çš„ä»»åŠ¡ç»“æ„,ä½¿ç”¨è§„å®šçš„æ ¼å¼è¾“å‡ºæ¸¸æˆå†…å®¹ã€‚ä¸¥ç¦è¾“å‡ºä»»ä½•æ ‡ç­¾ä¹‹å¤–çš„é—²èŠæ–‡æœ¬ã€‚\n        2.<System_xx></System_xx>æ ‡ç­¾ä¸ºç³»ç»Ÿçº§æ ‡ç­¾, ç”¨äºä¸Šå±‚ç®¡ç†ä¸ä¿¡æ¯æä¾›, å¹¶ç®¡ç†ä½ éœ€è¦å¤„ç†çš„ä»»åŠ¡æ’åˆ—é¡ºåº\n        3.<Task_xx></Task_xx>æ ‡ç­¾ä¸ºä»»åŠ¡çº§æ ‡ç­¾, ç”¨äºä»»åŠ¡è¯´æ˜\n    </System_Game_Introduction>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 2,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 0,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 1,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "System_Task_Guide",
                    "content": "<System_Task_Guide>\n        1. æ¸¸æˆç³»ç»Ÿå°†ä¼šå‘ä½ å‘é€ä½ éœ€è¦å¤„ç†çš„ä»»åŠ¡å¹¶ç”¨<Task_xx></Task_xx>æ ‡ç­¾åŒ…è£¹(xxè¡¨ç¤ºå…·ä½“çš„ä»»åŠ¡å†…å®¹)\n        2. ä½ éœ€è¦é€æ­¥å¤„ç†<Task_xx></Task_xx>æ ‡ç­¾å†…çš„ä»»åŠ¡ï¼Œå¹¶ä½¿ç”¨åŒæ ·çš„<Task_xx></Task_xx>æ ‡ç­¾æ¥åŒ…è£¹ä½ å¤„ç†çš„ä»»åŠ¡ç»“æœï¼Œä»»åŠ¡ç»“æœçš„è¾“å‡ºå½¢å¼è¯·ä¸¥æ ¼æŒ‰ç…§å…·ä½“ä»»åŠ¡é‡Œ<Output_Format></Output_Format>çš„å†…å®¹æ¥è¿›è¡Œ\n        3. è¾“å‡ºçš„å…ˆåé¡ºåºä¾æ®<Task_xx>é‡Œçš„ä»»åŠ¡ä¼˜å…ˆçº§ç¡®å®šã€‚Priority_1ä¸ºæœ€é«˜ä¼˜å…ˆçº§ï¼Œéšç€æ•°å­—çš„å¢å¤§ä¼˜å…ˆçº§é€æ­¥é€’å‡ã€‚ä¼˜å…ˆçº§é«˜çš„ä»»åŠ¡å…ˆè¾“å‡ºï¼Œä¼˜å…ˆçº§ä½çš„ä»»åŠ¡åè¾“å‡º\n        4. ä¸‹é¢æ‰€æœ‰çš„<Task_xx>ä»»åŠ¡éƒ½éœ€è¦ä½ å…¨éƒ¨å®Œæˆï¼Œå¹¶æŒ‰é¡ºåºä¸€æ¬¡æ€§è¾“å‡ºæ‰€æœ‰ä»»åŠ¡çš„ç»“æœï¼Œä¸å¾—å°‘åš\n        5. <Task_xx>éƒ¨åˆ†çš„è¾“å‡ºä»…é™ä¸­æ–‡ä¸è‹±æ–‡ï¼Œç¦æ­¢å…¶ä»–ä¸€åˆ‡å½¢å¼è¯­è¨€çš„å‡ºç°ï¼Œå¦åˆ™ä¼šå‡ºç°æ¸¸æˆç³»ç»Ÿå´©æºƒ!<Task_xx>éƒ¨åˆ†çš„è¾“å‡ºä»…é™ä¸­æ–‡ä¸è‹±æ–‡ï¼Œç¦æ­¢å…¶ä»–ä¸€åˆ‡å½¢å¼è¯­è¨€çš„å‡ºç°ï¼Œå¦åˆ™ä¼šå‡ºç°æ¸¸æˆç³»ç»Ÿå´©æºƒ!<Task_xx>éƒ¨åˆ†çš„è¾“å‡ºä»…é™ä¸­æ–‡ä¸è‹±æ–‡ï¼Œç¦æ­¢å…¶ä»–ä¸€åˆ‡å½¢å¼è¯­è¨€çš„å‡ºç°ï¼Œå¦åˆ™ä¼šå‡ºç°æ¸¸æˆç³»ç»Ÿå´©æºƒ!\n    </System_Task_Guide>",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 3,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 1,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 2,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "</System>",
                    "content": "\n</System>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 999,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 2,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 3,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "<System>",
                    "content": "<System>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 0,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 3,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 4,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "System_Game_Background",
                    "content": "    <System_Game_Background>\n        æ¸¸æˆèƒŒæ™¯: \n        1. ä¸–ç•Œèµ·æºä¸æ ¸å¿ƒä¸»é¢˜:\n        èµ·æºï¼šåœ¨æ— å°½æ··æ²Œä¸­ï¼Œåˆ›ä¸–ç¥ç¾¤ï¼ˆä¸€ç¾¤å¤è€ã€æ¨¡ç³Šçš„å­˜åœ¨ï¼Œéå•ä¸€ç¥æ˜ï¼‰ä»è™šç©ºæ’•è£‚å‡ºåŸƒå°”å¤šå…°ã€‚ä»–ä»¬æ³¨å…¥â€œæ©èµä¹‹æºâ€â€”â€”ä¸€ç§æµåŠ¨çš„èƒ½é‡ï¼Œå­•è‚²ä¸‡ç‰©ã€‚ä½†åˆ›ä¸–ä¸å®Œç¾ï¼šæ··æ²Œæ®‹æ¸£åŒ–ä½œâ€œè™šç©ºè£‚éš™â€ï¼Œä¸æ–­æ¸—å‡ºè…èš€åŠ›é‡ï¼Œå¯¼è‡´æ°¸æ’å†²çªã€‚\n        æ ¸å¿ƒä¸»é¢˜ï¼šæ¯ä¸ªäºº(æ— è®ºç§æ—)ä½“å†…å¾®å¼±æ©èµï¼Œå¯é€šè¿‡å†’é™©/ç»è¥è§‰é†’ï¼Œå…è®¸â€œä¹ä¸å˜é¾™éª‘â€å´›èµ·ã€‚\n        2. ä¸–ç•Œåˆ†ä¸ºé™†ã€æµ·ã€ç©ºä¸‰åŸŸï¼Œä¸»è¦åŠ¿åŠ›å¯¹åº”å¤§åŒºåŸŸï¼Œå…¶ä»–å°æ‘/é—è¿¹æ¨¡ç³Šå¤„ç†ï¼ˆç©å®¶å¯éšæ„æ¢ç´¢/æ®–æ°‘ï¼‰ã€‚\n        åŸŸ|ä¸»è¦åŒºåŸŸ/åŠ¿åŠ›|ç‰¹è‰²ç¯å¢ƒ|ç©æ³•æ”¯æŒ\n        é™†åœ°|\"é“ç›Ÿå¸å›½ï¼ˆäººç±»+çŸ®äººè”ç›Ÿï¼‰\n        é¦–éƒ½ï¼šé’¢é“å ¡å’\"|å±±è„‰çŸ¿åœºã€åŸé‚¦å¹³åŸã€åœ°ä¸‹é”»é€ åŸ|ç»è¥ç‹å›½ã€çŸ®äººé”»é€ å†›å·¥å‚ã€äººç±»è´¸æ˜“æˆ˜äº‰\n        é™†åœ°|\"è’é‡éƒ¨è½ï¼ˆåŠå…½äºº+é­”æ—ï¼‰\n        æ®ç‚¹ï¼šè¡€ç‰™é«˜åŸ\"|ç«å±±è’æ¼ ã€è…èš€æ²¼æ³½ã€æ¸¸ç‰§è¥åœ°|æ¸¸å‡»æˆ˜ã€é­”æ—å¬å”¤å†›ã€åŠå…½äººå…½æ½®å†²é”‹\n        æµ·æ´‹|\"ç²¾çµæµ®å²›ç¾¤ï¼ˆä¸­ç«‹ï¼‰\n        æ ¸å¿ƒï¼šç¿¡ç¿ ä¹‹ç¯ï¼ˆç¯ç¤åœ£æ ‘ï¼‰\"|é£æš´æµ·åŸŸã€çŠç‘šè¿·å®«ã€æ°´ä¸‹é—è¿¹|æµ·ä¸Šè´¸æ˜“ã€ç²¾çµå¤–äº¤ä¸­ç«‹ç¼“å†²ã€æ½œè‰‡æ¢é™©\n        å¤©ç©º|\"é¾™è„Šè™šç©ºï¼ˆé¾™æ—ç¥ç§˜ï¼‰\n        å·¢ç©´ï¼šäº‘å·…å³°\"|æµ®ç©ºå±±è„‰ã€é£æš´å³¡è°·ã€è™šç©ºæµ®å²›|å¥‘çº¦é¾™éª‘ç©ºæˆ˜ã€æ å¤ºé¾™å®ã€ç©ºä¸­å ¡å’ç»è¥\n        æ¨¡ç³Šå°åœ°|æ— æ•°â€œè£‚éš™è¾¹é™²â€ï¼šåºŸå¼ƒç¥åº™ã€æ¸¸è¡å•†è·¯ã€å…½äººæ‘è½|éšæœºäº‹ä»¶åŒºï¼ˆå®è—/æ€ªç‰©ï¼‰|ç©å®¶è‡ªç”±æ®–æ°‘ã€ä»å°æ‘å´›èµ·\n        3. ç§æ—å…³ç³»ï¼ˆåŠ¨æ€ã€å¯ç©å®¶å½±å“ï¼‰\n        é“ç›Ÿï¼ˆäººç±»+çŸ®äººï¼‰ vs. è’é‡ï¼ˆåŠå…½äºº+é­”æ—ï¼‰ï¼šä¸»è¦å¯¹å³™ï¼Œè¾¹å¢ƒå°æˆ˜ä¸æ–­ã€‚\n        ç²¾çµä¸­ç«‹ï¼šå®ˆæŠ¤æµ·æ´‹åœ£æ ‘ï¼Œæä¾›ä½£å…µ/æƒ…æŠ¥ã€‚\n        é¾™æ—ç¥ç§˜ï¼šé«˜å‚²éšå±…å¤©ç©ºï¼Œä¸å·å…¥å‡¡æˆ˜ï¼Œå®ˆæŠ¤â€œé¾™ä¹‹æ ¸â€ï¼ˆç»ˆæå®è—ï¼‰ã€‚\n        ç¥ç¥‡ï¼ˆæ©èµç§æ—ï¼‰ï¼šéä¼ ç»Ÿç¥ï¼Œè€Œæ˜¯åˆ›ä¸–åâ€œè¶…å‡¡å‡åâ€çš„å…ˆæ°‘ï¼ˆå¦‚å¤ç²¾çµ/é¾™ç¥–ï¼‰ï¼Œæ•£å±…é—è¿¹ã€‚\n        4. åŠ›é‡ç³»ç»Ÿ\n        ä¼ ç»Ÿå¥‡å¹»æ¸¸æˆçš„ä½“ç³» -- å‰‘ä¸é­”æ³•\n    </System_Game_Background>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 4,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 4,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 5,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "Plot_Design_Main",
                    "content": "    <Task_Plot_Design>\n        ä»»åŠ¡ä¼˜å…ˆçº§: Priority_1\n        <Description>\n            1. æŒ‰ç…§<System_Game_Background>æ¸¸æˆèƒŒæ™¯ä»¥åŠæ¸¸æˆæƒ…èŠ‚ï¼Œè®¾è®¡å¼•å¯¼ä¸€å¼ åœ°å›¾æƒ…èŠ‚å‘å±•çš„æƒ…èŠ‚å¤§çº²ä»¥åŠå¯¹åº”çš„ä»»åŠ¡\n            2. æƒ…èŠ‚å¤§çº²ä¸ä»»åŠ¡é‡‡ç”¨åˆ†æ®µå¼ï¼Œåˆ’åˆ†çš„æ®µæ•°å–å†³äº<Knowledge>çš„è®¾è®¡é˜¶æ®µæƒ…èŠ‚æ•°é‡\n            3. <Knowledge>çš„åœ°å›¾ç±»å‹è¯´æ˜äº†åœ°å›¾ç±»å‹ã€‚è¿™é‡Œä»»åŠ¡çš„åœ°å›¾ç±»å‹ä¸ºMAIN,è®¾è®¡æƒ…èŠ‚æ—¶æ—¢è¦ä¿è¯æ­¤åœ°å›¾æƒ…èŠ‚å®Œæ•´æ€§(æœ‰å§‹æœ‰ç»ˆ)ï¼Œåˆéœ€è¦èµ·åˆ°ä¸€å®šçš„é“ºå«ä½œç”¨(ä¸ºåç»­ä¸»çº¿æƒ…èŠ‚é“ºè·¯)ã€‚\n            4. <Previously_On>é‡Œä¸ºå‰é¢ä¸»çº¿åœ°å›¾æ—¶ç©å®¶å·²ç»å®Œæˆäº†çš„å‰§æƒ…ï¼Œå¦‚æœé‡Œé¢å­˜åœ¨å‰§æƒ…ï¼Œè®¾è®¡æ—¶éœ€è¦å»¶ç»­å‰é¢çš„å‰§æƒ…ï¼Œä½†æ˜¯ï¼Œè¿™ä¸€å¼ åœ°å›¾è‡ªèº«çš„æƒ…æ™¯ä¹Ÿéœ€è¦èƒ½å¤Ÿå½¢æˆä¸€ä¸ªæœ‰å§‹æœ‰ç»ˆçš„å®Œæ•´çš„æ•…äº‹ã€‚\n        </Description>\n        <Previously_On>\n            ä¸‹é¢æ˜¯æ­¤å‰è®¾è®¡çš„å†å²æƒ…èŠ‚æˆ–è€…å¼€åœºç™½\n            {{params.previouslyPlot}}\n            ä¸‹é¢æ˜¯ç©å®¶æœ€è¿‘çš„å†å²å¯¹è¯ä¿¡æ¯ï¼Œç”¨äºå‚è€ƒ\n            {{Chat_Memory}}\n        </Previously_On>\n        <Knowledge>\n            1. åœ°å›¾ID(\"mapId\"): {{params.chapterId}}\n            2. åœ°å›¾ç±»å‹: {{params.mapType}}\n            3. åœ°å›¾åå­—: {{params.locationName}}\n            4. åœ°å›¾ä¸»é¢˜: {{params.theme}}\n            5. è®¾è®¡é˜¶æ®µæƒ…èŠ‚(\"stage\")æ•°é‡: {{params.totalStages}}\n        </Knowledge>\n        <Others>\n            1. å¦‚æœåœ°å›¾åå­—å‡ºç°äº†(å¾…é‡å‘½å)ç­‰è¦æ±‚ï¼Œè¯´æ˜æ­¤ä»»åŠ¡ä¸<Task_Map_Named>ç›¸å…³è”ï¼Œåœ°å›¾åå­—éœ€è¦è¿›è¡Œå‘½åï¼Œå…·ä½“è¯·æŸ¥çœ‹<Task_Map_Named>\n        </Others>\n        <Output_Format>\n            1. è¾“å‡ºæ ¼å¼ä¸º<Task_Plot_Design>åŒ…è£¹çš„.jsonå¯¹è±¡\n            2. æ¯ä¸ªé˜¶æ®µçš„æƒ…èŠ‚ä¸ä»»åŠ¡æè¿°ä¸è¶…30å­—\n            3. ä¸¥æ ¼æŒ‰ç…§æ ¼å¼è¿›è¡Œè¾“å‡ºï¼Œç¦æ­¢ä»»ä½•æ³¨é‡Šæˆ–å…¶ä»–æ–‡æœ¬\n            4. ç¤ºä¾‹1(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n            <Task_Plot_Design>\n                {\n                    \"mapId\": \"chapter_1_main\",\n                    \"task0\": \"èº²é¿è¿½å‡»\",\n                    \"stage0\": \"ç©å®¶ä¸è´Ÿä¼¤çš„å…¬ä¸»åœ¨å¯†æ—èº²é¿éª‘å£«å›¢ã€‚ä¸ºæ±‚ç”Ÿå­˜ï¼Œè¾¾æˆè„†å¼±çš„äº’åŠ©åè®®ã€‚\",\n                    \"task1\": \"æ¢ç´¢å¯†æ—\",\n                    \"stage1\": \"é€ƒäº¡ä¸­å‘ç°æ£®æ—å—å¤é­”æ³•ä¾µèš€ã€‚è¿½å…µä¸é­”åŒ–é‡å…½å¤¹å‡»ä¸‹ï¼Œå…¬ä¸»æ˜¾éœ²å‡ºç¥ç§˜åŠ›é‡å¾å…†ã€‚\",\n                    \"task2\": \"ç»§ç»­é€ƒäº¡\",\n                    \"stage2\": \"é¬¼ç‹ä½£å…µçªè¢­ï¼Œç©å®¶ä¸å…¬ä¸»è¢«å›°æ‚¬å´–ã€‚ç©å®¶ä¸ºä¿æŠ¤å…¬ä¸»ï¼Œé€‰æ‹©ä¸€åŒå å…¥è¢«ç¦å¿Œç¬¼ç½©çš„å¹½è°·ã€‚\",\n                    \"task3\": \"å‡»è´¥æ•Œäºº\",\n                    \"stage3\": \"å¹½è°·åº•éƒ¨å‡»é€€é¬¼ç‹å…ˆé”‹ã€‚æ›™å…‰ä¸­éª‘å£«å›¢æš‚æ—¶é€€å´ï¼Œä½†å…¬ä¸»çœ¼çœ¸æµ®ç°éäººé‡‘å…‰ï¼Œè¿œæ–¹å±±è„‰ä¼ æ¥å¤è€å…±é¸£ã€‚\"                \n                }\n            </Task_Plot_Design>\n            5. ç¤ºä¾‹2(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n            <Task_Plot_Design>\n                {\n                    \"mapId\": \"sub_2012021114\",\n                    \"task0\": \"æ¢ç´¢è¿·é›¾\",\n                    \"stage0\": \"ç©å®¶åœ¨è¿·é›¾ä¸­è¯¯å…¥æ‘åº„ï¼Œç›®ç¹æ‘æ°‘å›´ç»•å¤æ ‘è¿›è¡Œæ— å£°çš„ç¥­ç¥€ä»ªå¼ã€‚\",\n                    \"task1\": \"å°è¯•ç¦»å¼€\",\n                    \"stage1\": \"è¯•å›¾ç¦»å¼€æ—¶å‘ç°æ‰€æœ‰å‡ºè·¯åœ¨è¿·é›¾ä¸­æ¶ˆå¤±ï¼Œæ‘æ°‘å¾®ç¬‘ç€é€’ä¸Šâ€œè¿å®¢èŠ±ç¯â€ã€‚\",\n                    \"task2\": \"æ¢ç´¢æ‘åº„\",\n                    \"stage2\": \"æ·±å¤œæ½œå…¥ç¥ å ‚ï¼Œå‘ç°ä»ªå¼æ ¸å¿ƒæ˜¯å‘å¤æ ‘â€œä¾›å¥‰â€æ‘æ°‘è‡ªå·±çš„è®°å¿†ä¸æƒ…æ„Ÿã€‚\",\n                    \"task3\": \"ç»§ç»­æ¢ç´¢æ‘åº„\",\n                    \"stage3\": \"æ‘ä¸­å­©ç«¥çªç„¶äº²è¿‘ç©å®¶ï¼Œè€ç¥­å¸å®£å¸ƒï¼šâ€œæ–°æå·²è‡³ï¼Œæ—§å¶å½“å½’ã€‚â€\",\n                    \"task4\": \"åšå‡ºæŠ‰æ‹©\",\n                    \"stage4\": \"æ‹’ç»æˆä¸ºâ€œæ–°æâ€åï¼Œå¤æ ‘æ ¹é¡»æš´åŠ¨ï¼Œæ•´åº§æ‘åº„å¼€å§‹ç“¦è§£ã€‚\",\n                    \"task5\": \"æ‰“ç ´å¥‘çº¦\",\n                    \"stage5\": \"ç©å®¶å¸¦é¢†æ‘æ°‘æ–©æ–­ä¸å¤æ ‘çš„å…±ç”Ÿå¥‘çº¦ã€‚æœé˜³å‡èµ·æ—¶ï¼Œæ‘åº„ä¸è¿·é›¾ä¸€åŒæ¶ˆæ•£ã€‚\"    \n                }\n            </Task_Plot_Design>\n        </Output_Format>\n    <Task_Plot_Design>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 7,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 5,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 6,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "Map_Named",
                    "content": "    <Task_Map_Named>\n        ä»»åŠ¡ä¼˜å…ˆçº§: Priority_2\n        <Description>\n            1. å‘½ååœ°å›¾çš„åå­—,å¹¶ä¸ºèŠ‚ç‚¹æ·»åŠ åç§°ä»¥åŠæè¿°\n            2. ä¸‹é¢æ˜¯åœ°å›¾çš„åå­—\n                    {{params.name}}\n            3. ä¸‹é¢æ˜¯ä½ éœ€è¦å‘½åæ·»åŠ æè¿°çš„åœ°å›¾ç»“æ„:\n                    {{params.nodes}}\n        </Description>\n        <Background_Context>\n            å½“å‰æ¢ç´¢åŒºåŸŸçš„ä¸»é¢˜(themeId): {{params.context.themeId}}\n            åœ°å›¾ç±»å‹(type): {{params.context.type}} (MAIN=ä¸»çº¿ç« èŠ‚, SUB=æ”¯çº¿è£‚ç¼)\n            åœ°å›¾çš„ID(mapId): {{params.context.mapId}}\n        </Background_Context>\n        <Map_Knowledge>\n            åœ°å›¾ä¸ºåˆ†å±‚ç»“æ„,æ¯å±‚ç”±åœ°å›¾èŠ‚ç‚¹ç»„æˆ, åœ°å›¾èŠ‚ç‚¹æœ‰ä¸åŒçš„ç±»å‹:\n            - COMBAT: æˆ˜æ–—å‹èŠ‚ç‚¹\n            - EVENT_CHOICE: æŠ‰æ‹©å‹èŠ‚ç‚¹\n            - EVENT_QUEST: æ”¯çº¿è§¦å‘èŠ‚ç‚¹\n            - EVENT_H: Häº’åŠ¨å‹èŠ‚ç‚¹\n            - SHOP: å•†åº—\n            - REST: æ—…é¦†/ä¼‘æ¯ç‚¹\n            - ROOT: è¥åœ°/æ’¤ç¦»ç‚¹\n            - PORTAL_NEXT_FLOOR: è¿›å…¥ä¸‹ä¸€å±‚çš„èŠ‚ç‚¹,å¿…é¡»è®¾è®¡ä¸ºæƒ…èŠ‚çš„é€’è¿›èŠ‚ç‚¹\n            - PORTAL_NEXT_CHAPTER: è¿›å…¥ä¸‹ä¸€ç« çš„èŠ‚ç‚¹,å¿…é¡»è®¾è®¡ä¸ºæƒ…èŠ‚çš„é€’è¿›èŠ‚ç‚¹\n            - LOCATION: ä¸­ç«‹åœ°æ–¹èŠ‚ç‚¹ï¼Œæ— ç‰¹æ®ŠåŠŸèƒ½\n        </Map_Knowledge>\n        <Design_Guidelines>\n        1. èŠ‚ç‚¹çš„å‘½åå‚ç…§<System_Game_Background>,åå­—éœ€è¦ç¬¦åˆæ¸¸æˆæ•´ä½“çš„èƒŒæ™¯ä¸åŸºè°ƒ\n        2. èŠ‚ç‚¹å¿…é¡»ä½¿ç”¨åœ°ç‚¹ï¼Œå»ºç­‘åç­‰æ¥è¿›è¡Œå‘½å\n        3. PORTAL_NEXT_FLOORä¸PORTAL_NEXT_CHAPTERä¸ºæƒ…èŠ‚èŠ‚ç‚¹,èŠ‚ç‚¹çš„æè¿°å¿…é¡»ä¸<Task_Plot_Design>é‡Œè®¾è®¡çš„æƒ…èŠ‚ç›¸å‘¼åº”(å…¶ä¸­PORTAL_NEXT_FLOORæ¨è¿›æƒ…èŠ‚ï¼Œè€ŒPORTAL_NEXT_CHAPTERä½œä¸ºæƒ…èŠ‚çš„æœ€åé˜¶æ®µ)\n        4. å¦‚æœ æ»¡è¶³<Task_Plot_Design>çš„<Output_Format>æ ‡ç­¾é‡Œçš„ç‰¹æ®Šæƒ…å†µ(ç½®è´­æˆ¿å­)ï¼Œé‚£ä¹ˆè¯´æ˜è®¾è®¡çš„æ˜¯ç©å®¶çš„ä½å®…ã€‚èŠ‚ç‚¹å‘½åå‡é‡‡ç”¨ç›¸å…³æˆ¿äº§ç±»å‹çš„å»ºç­‘è¯æ±‡(å¤§åˆ°åº„å›­ï¼ŒåŸå ¡ä¸»æˆ¿ï¼›å°åˆ°å§å®¤ï¼Œä½æˆ¿ç­‰ç­‰)ã€‚å…·ä½“å¦‚ä½•å‘½åï¼Œå¿…é¡»å‚è€ƒ<Description>é‡Œçš„åœ°å›¾çš„åå­—ä¸<Background_Context>é‡Œçš„\"å½“å‰æ¢ç´¢åŒºåŸŸçš„ä¸»é¢˜\"\n        5. å¦‚æœ<Description>é‡Œåœ°å›¾çš„åå­—æ˜¾ç„¶ä¸<Background_Context>çš„\"å½“å‰æ¢ç´¢åŒºåŸŸçš„ä¸»é¢˜\"å¯¹åº”ï¼Œé‚£ä¹ˆå°±å¯ä»¥ä¸ä¿®æ”¹åå­—ï¼Œç›´æ¥ä½¿ç”¨åŸæœ‰åå­—å³å¯\n        </Design_Guidelines>\n        <Output_Format>\n            1. è¾“å‡ºä¸º<Task_Map_Named>åŒ…è£¹çš„.jsonå¯¹è±¡\n            2. åŒ…å«mapId,mapName,nodes.id,nodes.name,nodes.description\n            3. ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­)\n            <Task_Map_Named>\n                {\n                \"mapId\": \"chapter_1_main\",\n                \"mapName\": \"é˜´æš—ä¹‹æ£®\",\n                \"nodes\": [\n                    { \n                    \"id\": \"n1\", \n                    \"name\": \"å†’é™©è€…è¥åœ°\", \n                    \"description\": \"è™½ç„¶ç®€é™‹ï¼Œä½†ç¯ç«å¸¦æ¥çš„æ¸©æš–è®©äººå¿ƒå®‰ã€‚\" \n                    },\n                    { \n                    \"id\": \"n2\", \n                    \"name\": \"æ¯éª¨å°å¾„\", \n                    \"description\": \"åœ°ä¸Šæ•£è½ç€ä¸çŸ¥åç”Ÿç‰©çš„éª¨éª¸ã€‚\" \n                    },\n                    { \n                    \"id\": \"n3\", \n                    \"name\": \"æµæµªå•†äººçš„è¥åœ°\", \n                    \"description\": \"ä¸€ä¸ªç¥ç§˜çš„å•†äººæ­£åœ¨è¿™é‡Œå…œå”®è´§ç‰©ã€‚\" \n                    },\n                    ...\n                ]\n                }\n            </Task_Map_Named>\n        </Output_Format>\n    </Task_Map_Named>\n    ",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 9,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 6,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 7,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "Node_Generate",
                    "content": "    <Task_Node_Generate>\n        ä»»åŠ¡ä¼˜å…ˆçº§: Priority_3\n        <Description>\n            ç”Ÿæˆä¸€å¼ åœ°å›¾ä¸‹ï¼ŒèŠ‚ç‚¹çš„payloadç»“æ„\n        </Description>\n        <Knowledge>\n            1. èŠ‚ç‚¹çš„ç»“æ„:èŠ‚ç‚¹(node)ç”±idï¼Œtypeï¼Œnameï¼Œdescriptionï¼Œpayloadç»„æˆ\n            2. node.typeè¯´æ˜äº†èŠ‚ç‚¹çš„ç±»å‹ï¼Œä¸åŒèŠ‚ç‚¹ç±»å‹éœ€è¦ä¸åŒçš„payloadç»“æ„ï¼Œå…·ä½“çš„payloadç»“æ„ç¼–å†™è¯­æ³•è¯·çœ‹<Node_Payload>\n            3. å¦‚æœnode.nameä¸node.descriptionæ²¡æœ‰å…·ä½“çš„å†…å®¹ï¼Œé‚£ä¹ˆè¯·å…ˆå®Œæˆ<Task_Plot_Design>ä¸<Task_Map_Named>è¿™ä¸¤ä¸ªä»»åŠ¡\n            4. èŠ‚ç‚¹ç±»å‹\n                - COMBAT: æˆ˜æ–—å‹èŠ‚ç‚¹\n                - EVENT_CHOICE: æŠ‰æ‹©å‹èŠ‚ç‚¹\n                - EVENT_QUEST:  æ”¯çº¿è§¦å‘ç±»èŠ‚ç‚¹\n                - EVENT_H: Häº’åŠ¨å‹èŠ‚ç‚¹\n                - SHOP: å•†åº—\n                - REST: æ—…é¦†/ä¼‘æ¯ç‚¹\n                - ROOT: è¥åœ°/æ’¤ç¦»ç‚¹\n                - PORTAL_NEXT_FLOOR: è¿›å…¥ä¸‹ä¸€å±‚çš„èŠ‚ç‚¹,å¿…é¡»è®¾è®¡ä¸ºæƒ…èŠ‚çš„é€’è¿›èŠ‚ç‚¹\n                - PORTAL_NEXT_CHAPTER: è¿›å…¥ä¸‹ä¸€ç« çš„èŠ‚ç‚¹,å¿…é¡»è®¾è®¡ä¸ºæƒ…èŠ‚çš„é€’è¿›èŠ‚ç‚¹\n                - LOCATION: ä¸­ç«‹èŠ‚ç‚¹ï¼Œè¿‡æ¸¡ä½œç”¨\n            5. æŸäº›èŠ‚ç‚¹çš„payloadç»“æ„éœ€è¦ç‰©å“ç”Ÿæˆæˆ–è€…æ•Œäººç”Ÿæˆï¼Œç”Ÿæˆæ—¶å¿…é¡»ä¸¥æ ¼éµå¾ª <System_Item_Design>ä¸<System_Enemy_Design>çš„è§„å®š\n        </Knowledge>\n        <Node_Payload>\n            COMBAT:\n                1. payloadç»“æ„éœ€è¦æ•Œäººçš„æ•°æ®,ç”Ÿæˆé€»è¾‘å‚è€ƒ<System_Enemy_Design>\n                2. è¯­æ³•:\"node_id\"(èŠ‚ç‚¹çš„id): {\n                    \"enemies\": [\n                        ...(æ•Œäººä¿¡æ¯)\n                    ]\n                    }\n                3. ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n                \"node_id\": {\n                    \"enemies\": [\n                        {\n                            \"id\": \"dyn_enemy_void_stalker_01\",\n                            \"name\": \"è™šç©ºæ å¤ºè€…\",\n                            \"type\": \"enemy\",\n                            \"hp\": 450,\n                            \"mp\": 60,\n                            \"level\": 12,\n                            \"element\": \"DEMON\",\n                            \"stats\": {\n                                \"atk\": 75,\n                                \"def\": 40\n                            },\n                            \"base_res_phys\": 1.0, \n                            \"base_res_magic\": 1.2, // å¼±é­”æ³•\n                            \"description\": \"æ½œä¼åœ¨ä½é¢è£‚éš™ä¸­çš„ç‹©çŒè€…ï¼Œèº«ä½“ç”±ä¸ç¨³å®šçš„æš—èƒ½é‡æ„æˆï¼ŒåŠ¨ä½œæå¿«ä¸”è‡´å‘½ã€‚\",\n                            \"skills\": [], // æŠ€èƒ½è¿™é‡Œè®¾ç½®ä¸ºç©º\n                            \"rewards\": {\n                                \"exp\": 280,\n                                \"gold\": 150,\n                                \"items\": [\n                                { \"id\": \"potion_hp_mid\", \"count\": 1 }, // é™æ€è¯æ°´ ID\n                                {\n                                    // åŠ¨æ€ç”Ÿæˆçš„æ­¦å™¨\n                                    \"id\": \"dyn_wpn_void_fang_01\",\n                                    \"name\": \"è™šç©ºä¹‹ç‰™\",\n                                    \"type\": \"WEAPON\",\n                                    \"subtype\": \"DAGGER\",\n                                    \"atk_type\": \"PHYSICAL\",\n                                    \"quality\": \"PURPLE\",\n                                    \"description\": \"ä»æ å¤ºè€…å°¸éª¸ä¸­æå–çš„åˆ©åˆƒï¼Œåˆ€èº«æ•£å‘ç€å¹½å¹½ç´«å…‰ã€‚\",\n                                    \"count\": 1,\n                                    \"stats\": {\n                                    \"atk\": 35,\n                                    \"critRate\": 0.15,\n                                    \"speed\": 5\n                                    }\n                                }\n                                ]\n                            }\n                        },\n                        {\n                            \"id\": \"dyn_enemy_abyss_colossus_01\",\n                            \"name\": \"æ·±æ¸ŠæŠ¤å«å·¨åƒ\",\n                            \"type\": \"enemy\",\n                            \"hp\": 1500,\n                            \"mp\": 0,\n                            \"level\": 18,\n                            \"element\": \"EARTH\",\n                            \"stats\": {\n                                \"atk\": 60,\n                                \"def\": 110 // åˆå§‹åŒ–æ—¶å°†åŒæ—¶æ˜ å°„è‡³ç‰©ç†/é­”æ³•é˜²å¾¡\n                            },\n                            \"base_res_phys\": 0.6, // 40% ç‰©ç†å‡ä¼¤\n                            \"base_res_magic\": 1.0,\n                            \"description\": \"å®ˆå«ç¦å¿Œä¹‹åœ°çš„å¤è€æ„è£…ä½“ï¼Œèº«ä½“è¦†ç›–ç€æ— æ³•è¢«å‡¡é“åˆºç©¿çš„æ·±æ¸Šæ™¶çŸ¿ã€‚\",\n                            \"skills\": [], // æŠ€èƒ½è¿™é‡Œè®¾ç½®ä¸ºç©º\n                            \"rewards\": {\n                                \"exp\": 600,\n                                \"gold\": 320,\n                                \"items\": [\n                                { \"id\": \"potion_buff_def_L2\", \"count\": 1 }, // é™æ€è¯æ°´ ID\n                                {\n                                    // åŠ¨æ€ç”Ÿæˆçš„è£…å¤‡\n                                    \"id\": \"dyn_arm_abyss_plate_01\",\n                                    \"name\": \"æ·±æ¸Šæ„å¿—é‡é“ \",\n                                    \"type\": \"ARMOR\",\n                                    \"subtype\": \"CHEST\",\n                                    \"quality\": \"GOLD\",\n                                    \"description\": \"è¿™ä»¶é“ ç”²ä»¿ä½›æœ‰è‡ªå·±çš„æ„è¯†ï¼Œèƒ½å¤Ÿè‡ªåŠ¨åŠ å›ºå—åˆ›çš„éƒ¨ä½ã€‚\",\n                                    \"count\": 1,\n                                    \"stats\": {\n                                    \"maxHp\": 400,\n                                    \"def_phys\": 65,\n                                    \"def_magic\": 20,\n                                    \"res_phys\": -0.08 // ç‰©ç†å…ä¼¤é¢å¤–æå‡ 8%\n                                    }\n                                }\n                                ]\n                            }\n                        }                    \n                    ]\n                }\n            EVENT_CHOICE|EVENT_QUEST|PORTAL_NEXT_FLOOR|PORTAL_NEXT_CHAPTER(æ¸¸æˆçš„æ ¸å¿ƒç©æ³•):\n                1. è¯­æ³•ç»“æ„: \"node_id\": {\n                    ...(payload)\n                }\n                2. EVENT_CHOICEçš„payloadå…·ä½“è¯­æ³•:{\n                    \"choice_scenes\": {\n                        // é˜¶æ®µ IDï¼šè§„èŒƒè¦æ±‚å¿…é¡»ä» \"stage1.0\" å¼€å§‹\n                        \"stage1.0\": {\n                        \"lines\": [\"ç¬¬ä¸€è¡Œæ–‡æœ¬\", \"ç¬¬äºŒè¡Œæ–‡æœ¬...\"], // é¡ºåºæ’­æ”¾çš„å‰§æƒ…æ–‡æœ¬\n                        \"choices\": [\n                            {\n                            \"label\": \"é€‰é¡¹æŒ‰é’®æ–‡å­—\", \n                            \"next\": \"stage2.0\", \n                            // nextå¯é€‰ä¸‰ç§å‚æ•°\n                            // 1. ä¸‹ä¸€ä¸ªé˜¶æ®µ ID, ç©å®¶é€‰æ‹©labelåè·³è½¬ä¸‹ä¸€é˜¶æ®µ\n                            // 2. null ã€‚ç»“æŸäº‹ä»¶ï¼Œè¿™ä¸ªpayloadå¿…é¡»å¸¦æœ‰nullæ ‡å‡†æ¥ç»“æŸäº‹ä»¶ã€‚æ­£å¸¸å…³é—­çª—å£ï¼Œç©å®¶åœç•™åœ¨å½“å‰èŠ‚ç‚¹\n                            // 3. \"exit\"ã€‚è§†ä¸ºâ€œé©±é€/é€ƒè·‘â€ã€‚å…³é—­çª—å£å¹¶å°†ç©å®¶å¼ºåˆ¶â€œè¸¢å›â€ä¸Šä¸€ä¸ªèŠ‚ç‚¹ï¼ˆç”¨äºæ‹’ç»é€šè¡Œã€è°ˆåˆ¤ç ´è£‚ç­‰åœºæ™¯ï¼‰ã€‚\n                            \"actions\": {\n                                // é€»è¾‘æ‰§è¡Œå—ï¼šåœ¨æ­¤å®šä¹‰è¯¥é€‰é¡¹å¸¦æ¥çš„åæœ\n                            }\n                            }\n                        ]\n                        },\n                        \"stage2.0\": { ... } // åç»­é˜¶æ®µ\n                    }\n                }\n                3. actionsè¯­æ³•è¯´æ˜\n                \"actions\": {\n                    // === 1. åŸºç¡€æ•°å€¼ä¿®æ­£ (Base Stats) ===  \n                    // ç”Ÿå‘½å€¼ï¼šæ­£æ•°ä¸ºæ²»ç–—ï¼Œè´Ÿæ•°ä¸ºä¼¤å®³ã€‚\n                    \"hp\": -20, \n                    \"hp\": 15,  \n                    // é­”åŠ›å€¼ï¼šæ­£æ•°ä¸ºæ¢å¤ï¼Œè´Ÿæ•°ä¸ºæ¶ˆè€—ã€‚\n                    \"mp\": 10,  \n                    \"mp\": -15,\n                    // é‡‘å¸ä¸ç»éªŒã€‚\n                    \"gold\": 100, // å¢åŠ  100 é‡‘å¸ã€‚\n                    \"exp\": 50,   // å¢åŠ  50 ç»éªŒã€‚\n                    \n                    // === 2. ç‰©å“ç®¡ç† (Item Management) ===\n                    // æ ¼å¼: [ ç‰©å“IDæˆ–å®Œæ•´å¯¹è±¡, æ•°é‡ ]\n                    // æ¶ˆè€—ç‰©å“ã€‚(è¯¦è§:<System_Enemy_Design>ä¸­çš„\"1. æ¸¸æˆçš„æ¶ˆè€—ç‰©å“ID\")\n                    \"items\": [\"potion_hp_low\", 2], \n                    // åŠ¨æ€ç‰©å“ï¼šç‰©å“å¯¹è±¡ã€‚(è¯­æ³•è¯¦è§<System_Item_Design>)\n                    // æ³¨æ„,è¿™é‡Œä¸éœ€è¦æ³¨å…¥\"count\"é”®å€¼\n                    \"items\": [\n                    {\n                        \"id\": \"dyn_blade_01\",\n                        \"name\": \"é™„é­”é•¿å‰‘\",\n                        \"type\": \"WEAPON\",\n                        \"subtype\": \"SWORD\",\n                        \"atk_type\": \"PHYSICAL\",\n                        \"stats\": { \"atk\": 25, \"critRate\": 0.1 }\n                    },\n                    1\n                    ],\n\n                    // === 3. æˆ˜æ–—è§¦å‘å™¨ (Combat Trigger) ===\n                    \"trigger\": \"start_combat\",\n                    // æ–¹å¼ : å®šä¹‰åŠ¨æ€æ•Œäººå¯¹è±¡æ•°ç»„ (Mode 3)ã€‚\n                    // æ•Œäººå®šä¹‰è¯¦è§<System_Enemy_Design>\n                    \"enemies\": [\n                    {\n                        \"id\": \"boss_01\",\n                        \"name\": \"å •è½ç¥­å¸\",\n                        \"hp\": 500,\n                        \"stats\": { \"atk\": 60, \"def\": 30, \"speed\": 15 },\n                        \"element\": \"DEMON\",\n                        \"rewards\": { \"exp\": 200, \"gold\": 100 }\n                    }\n                    ],\n\n                    // === 4. æ”¯çº¿åœ°å›¾ç”Ÿæˆ (Sideline Activation) ===\n                    \"trigger\": \"activate_sideline\",\n                    \"questName\": \"å¹½çµçŸ¿æ´\",     // å¯ä»¥è‡ªå®šä¹‰ã€‚\n                    \"questId\": \"side_mine_01\",  // å¯ä»¥è‡ªå®šä¹‰ï¼Œå”¯ä¸€çš„ä»»åŠ¡é¢‘é“ IDã€‚\n                    \"themeId\": \"THEME_DUNGEON\", // å¯ä»¥è‡ªå®šä¹‰ï¼Œåœ°å›¾ä¸»é¢˜æ ·å¼ã€‚\n                    \"layerIndex\": 1,            // æŒ‚è½½åœ¨ä¸»çº¿åœ°å›¾çš„å“ªä¸€å±‚,åœ°å›¾æ·±åº¦å±‚çº§ã€‚(ä¼˜å…ˆæŒ‚è½½åœ¨1,2,3å±‚)\n                    \"edge_position\": \"RIGHT\",   // å­åœ°å›¾å…¥å£ä½ç½®ã€‚å…ˆä»å·¦è¾¹å¼€å§‹(LEFT)\n                    \n                    // --- æ ¸å¿ƒåœ°å›¾é…ç½®ç»“æ„ ---\n                    \"depthRange\": [3, 5],       // ç”Ÿæˆ 3 åˆ° 5 ä¸ªèŠ‚ç‚¹æ·±åº¦ã€‚\n                    \"nodeCountRange\": [6, 8],  // æ¯ä¸€å±‚èŠ‚ç‚¹è¾ƒå¤š\n                    \"allowCombat\": true,        // å…è®¸æˆ˜æ–—\n                    // --- èŠ‚ç‚¹æƒé‡åˆ†å¸ƒç»“æ„ ---\n                    \"distribution\": {\n                        \"COMBAT\": 45,\n                        \"RESOURCE\": 20,\n                        \"EVENT_CHOICE\": 15,\n                        \"EVENT_H\": 0,\n                        \"EVENT_QUEST\": 0,\n                        \"REST\": 10,\n                        \"SHOP\": 10,\n                        \"LOCATION\": 0\n                    }\n\n                    // === 5. ä¸‹ä¸€ç« ä¸»çº¿åœ°å›¾ç”Ÿæˆ (Sideline Activation) ===\n                    \"trigger\": \"next_chapter\",\n                    \"themeId\": \"xxx\", // ç« èŠ‚ä¸»é¢˜\n                    \"mapName\": \"xxx\", // ä¸‹ä¸€ç« åœ°å›¾çš„åå­—\n                    // --- æ ¸å¿ƒåœ°å›¾é…ç½®ç»“æ„ ---\n                    \"depthRange\": [5, 8],       // ç”Ÿæˆ 5 åˆ° 8 ä¸ªèŠ‚ç‚¹æ·±åº¦ã€‚\n                    \"nodeCountRange\": [4, 6],  // æ¯ä¸€å±‚èŠ‚ç‚¹è¾ƒå¤š\n                    \"allowCombat\": true,        // å…è®¸æˆ˜æ–—\n                    // --- èŠ‚ç‚¹æƒé‡åˆ†å¸ƒç»“æ„ ---\n                    \"distribution\": {\n                        ....(æ”¯çº¿åœ°å›¾ç”Ÿæˆ)\n                    },\n\n                    // === 6. ç³»ç»Ÿæ—¥å¿— ===\n                    \"message\": \"ä½ è·å¾—äº†ä¸€è‚¡ç¥ç§˜çš„åŠ›é‡...\" // åœ¨ä¸»æ—¥å¿—æ æ’­æŠ¥ã€‚\n\n                    // === 7. ç‰©å“ç§»é™¤ä¸æ£€å®š (Item Removal & Check) ===\n                    // æ ¸å¿ƒé€»è¾‘ï¼šè¿™æ˜¯ä¸€é“â€œé—¨ç¥¨æ£€å®šâ€ã€‚\n                    // 1. ç³»ç»Ÿä¼šæ£€æŸ¥ç©å®¶èƒŒåŒ…æ˜¯å¦æ‹¥æœ‰æŒ‡å®šã€ä¸­æ–‡åç§°ã€‘çš„ç‰©å“ã€‚\n                    // 2. è‹¥æ‹¥æœ‰ï¼šæ‰£é™¤ 1 ä¸ªï¼Œæ£€å®šé€šè¿‡ï¼Œç»§ç»­æ‰§è¡Œåç»­é€»è¾‘æˆ–è·³è½¬ã€‚\n                    // 3. è‹¥æ²¡æœ‰ï¼šæ£€å®šå¤±è´¥ï¼Œé˜»æ–­åç»­è·³è½¬ï¼Œæ’­æ”¾å¤±è´¥æ—¥å¿—ï¼Œå¹¶å¼ºåˆ¶è§¦å‘â€œæ’¤é€€(Retreat)â€é€»è¾‘(å°†ç©å®¶è¸¢å›ä¸Šä¸€æ­¥)ã€‚\n                    // æ ¼å¼: å­—ç¬¦ä¸² æˆ– å­—ç¬¦ä¸²æ•°ç»„\n                    // æƒ…å†µ1:æ£€æŸ¥å¹¶ç§»é™¤ç©å®¶çš„ç‰©å“\n                    \"remove\": \"å¤è€çš„é’¥åŒ™\",        // å•ä¸ªç‰©å“\n                    \"remove\": [\"å²è±å§†ç²˜æ¶²\", \"ç©ºç“¶å­\"], // å¤šä¸ªç‰©å“(å¿…é¡»å…¨éƒ¨æ‹¥æœ‰æ‰ç®—é€šè¿‡)\n                    // æƒ…å†µ2:åªæ£€æŸ¥ï¼Œä¸ç§»é™¤ç©å®¶çš„ç‰©å“\n                    \"check\": \"å¤è€çš„é’¥åŒ™\",        // å•ä¸ªç‰©å“\n                    \"check\": [\"å²è±å§†ç²˜æ¶²\", \"...\"], // å¤šä¸ªç‰©å“(å¿…é¡»å…¨éƒ¨æ‹¥æœ‰æ‰ç®—é€šè¿‡)\n                }\n\n                4. å…³äºå¼€å¯æ”¯çº¿çš„è¯­æ³•\n                    \"actions\": {\n                        \"trigger\": \"activate_sideline\", // æ¿€æ´»æ”¯çº¿\n                        \"questName\": \"é—å¿˜çš„æ·±æ¸Š\", // æ”¯çº¿åœ°å›¾çš„åç§°(è‡ªå®šä¹‰)\n                        \"questId\": \"side_quest_xxx\", // æ”¯çº¿çš„ID(è‡ªå®šä¹‰)\n                        \"themeId\": \"THEME_xxxx\", // æ”¯çº¿ä¸»é¢˜(è‡ªå®šä¹‰)\n                        \"layerIndex\": 2, // ç”Ÿæˆåœ¨å½“ä¸‹åœ°å›¾çš„ç¬¬å‡ å±‚(ä»0å±‚å¼€å§‹ç®—ï¼Œè¿™é‡Œå°½é‡é€‰æ‹©1ï¼Œ2ï¼Œ3å±‚)\n                        \"edge_position\": \"LEFT\", //RIGHTæˆ–è€…LEFT\n                        \"depthRange\": [5, 8],  // ç”Ÿæˆåœ°å›¾çš„æ·±åº¦èŒƒå›´ï¼Œè‡ªå®šä¹‰\n                        \"nodeCountRange\": [4, 6], // æ¯å±‚åœ°å›¾çš„èŠ‚ç‚¹æ•°é‡èŒƒå›´ï¼Œè‡ªå®šä¹‰\n                        \"distribution\": {          \n                            \"COMBAT\": 38,\n                            \"RESOURCE\": 18,\n                            \"EVENT_CHOICE\": 14,\n                            \"EVENT_H\": 8,\n                            \"EVENT_QUEST\": 12,\n                            \"REST\": 4,\n                            \"SHOP\": 2,\n                            \"LOCATION\": 2\n                        }, \n                    }\n                    distributionçš„å¯é€‰èŠ‚ç‚¹ç±»å‹ï¼š\n                    COMBAT -- æˆ˜æ–—èŠ‚ç‚¹\n                    RESOURCE -- èµ„æºèŠ‚ç‚¹\n                    EVENT_CHOICE -- æŠ‰æ‹©èŠ‚ç‚¹(è§¦å‘äº‹ä»¶)\n                    EVENT_H -- Häº‹ä»¶\n                    EVENT_QUEST -- æ”¯çº¿ä»»åŠ¡\n                    REST -- ä¼‘æ¯åŒº\n                    SHOP -- å•†åº—\n                    LOCATION -- ä¸­ç«‹èŠ‚ç‚¹\n                    1. ç¡®ä¿èŠ‚ç‚¹æ‰€å èŠ‚ç‚¹æ•°é‡æ¯”ä¾‹å’Œä¸º100\n                    2. å³ä½¿æŸä¸ªèŠ‚ç‚¹æ¯”ä¾‹ä¸º0ï¼Œä¹Ÿéœ€è¦åˆ—å‡ºæ¥\n                    3. å¦‚æœç©å®¶å­˜åœ¨å¥³ä¼´ï¼Œå¿…é¡»å®‰æ’EVENT_H\n                5. ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­)\n                    \"node_id\":{\n                        \"choice_scenes\": {\n                                \"stage1.0\": {\n                                \"lines\": [\n                                    \"ä½ æ¨å¼€æ²‰é‡çš„çŸ³é—¨ï¼Œä¸€è‚¡æ··åˆç€å°˜åœŸä¸é™ˆå¹´è¯å‰‚çš„åˆºé¼»æ°”å‘³æ‰‘é¢è€Œæ¥ã€‚\",\n                                    \"å®éªŒå®¤ä¸­å¿ƒçš„å®éªŒå°ä¸Šï¼Œä¸€ä¸ªæ•£å‘ç€å¹½è“å…‰èŠ’çš„â€œéœœå†»æ ¸å¿ƒâ€æ­£ç¼“ç¼“æ‚¬æµ®ï¼Œå‘¨å›´çš„ç©ºæ°”ä¼¼ä¹éƒ½è¦è¢«å†»ç»“äº†ã€‚\"\n                                ],\n                                \"choices\": [\n                                    {\n                                    \"label\": \"å°è¯•å¸æ”¶æ ¸å¿ƒèƒ½é‡\",\n                                    \"actions\": {\n                                        \"mp\": 50,\n                                        \"exp\": 200,\n                                        \"message\": \"ä½ å¼•å¯¼æ ¸å¿ƒä¸­çš„é­”åŠ›æµå‘å…¨èº«ï¼Œæ„Ÿåˆ°é­”åŠ›å……ç›ˆçš„åŒæ—¶ï¼Œå¯’æ°”ä¹Ÿåœ¨ä¾µèš€ä½ çš„ç”Ÿå‘½ã€‚\"\n                                    },\n                                    \"next\": \"stage1.1\"\n                                    },\n                                    {\n                                    \"label\": \"å°†å…¶é”»é€ æˆä¸´æ—¶æ­¦å™¨\",\n                                    \"actions\": {\n                                        \"items\": [\n                                        {\n                                            \"id\": \"dyn_wpn_frost_brand_01\",\n                                            \"name\": \"â„ï¸ å¯’éœœçƒ™å°\",\n                                            \"type\": \"WEAPON\",\n                                            \"subtype\": \"SWORD\",\n                                            \"atk_type\": \"MAGIC\",\n                                            \"quality\": \"BLUE\",\n                                            \"description\": \"åˆ©ç”¨å®éªŒå®¤æ®‹ä½™çš„éœœå†»æ ¸å¿ƒé”»é€ çš„ä¸´æ—¶é•¿å‰‘ï¼ŒæŒ¥åŠ¨æ—¶ä¼šå¸¦èµ·é˜µé˜µå¯’é£ã€‚\",\n                                            \"stats\": {\n                                            \"atk\": 42,\n                                            \"critRate\": 0.1,\n                                            \"def_magic\": 15\n                                            }\n                                        },\n                                        1\n                                        ],\n                                        \"message\": \"ä½ ç†Ÿç»ƒåœ°åˆ©ç”¨å°ä¸Šçš„å·¥å…·ï¼Œå°†æ ¸å¿ƒå°è£…è¿›ä¸€ä¸ªå‰‘æŸ„æ”¯æ¶ä¸­ã€‚\"\n                                    },\n                                    \"next\": \"stage2.0\"\n                                    }\n                                ]\n                                },\n                                \"stage1.1\": {\n                                \"lines\": [\n                                    \"æ ¸å¿ƒçš„åŠ›é‡è¿‡äºç‹‚æš´ï¼Œä½ çš„èº«ä½“å¼€å§‹ç»“å‡ºä¸€å±‚è–„éœœï¼Œç—›è‹¦è®©ä½ è·ªå€’åœ¨åœ°ã€‚\",\n                                    \"å°±åœ¨æ­¤æ—¶ï¼Œè§’è½é‡Œçš„è¯å‰‚ç“¶æ¶å› ä¸ºéœ‡åŠ¨è€Œå€’å¡Œï¼Œéœ²å‡ºäº†ä¸€ç“¶ä¿å­˜å®Œå¥½çš„è¯æ°´ã€‚\"\n                                ],\n                                \"choices\": [\n                                    {\n                                    \"label\": \"å–ä¸‹è¯æ°´æ­¢ç—›\",\n                                    \"actions\": {\n                                        \"hp\": -15,\n                                        \"items\": [\"potion_mp_mid\", 1],\n                                        \"message\": \"ä½ å–ä¸‹äº†ä¸­çº§é­”åŠ›è¯æ°´ï¼Œè™½ç„¶èº«ä½“ä¾ç„¶è™šå¼±ï¼Œä½†é­”åŠ›æ›´åŠ ç¨³å®šäº†ã€‚\"\n                                    },\n                                    \"next\": \"stage2.0\"\n                                    }\n                                ]\n                                },\n                                \"stage2.0\": {\n                                \"lines\": [\n                                    \"æ²‰é—·çš„è½°é¸£å£°å“èµ·ï¼Œå®éªŒå®¤çš„è‡ªå«æ„è£…ä½“æ„Ÿåº”åˆ°äº†å…¥ä¾µï¼Œä»é˜´å½±ä¸­è¸æ­¥è€Œå‡ºã€‚\",\n                                    \"è¿™äº›ç”±åšå†°ä¸é’¢é“æ„æˆçš„å®ˆå«è€…ä¸æ‰“ç®—è®©ä½ å¸¦èµ°è¿™é‡Œçš„ä»»ä½•ä¸œè¥¿ï¼\"\n                                ],\n                                \"choices\": [\n                                    {\n                                    \"label\": \"è¿æ¥æŒ‘æˆ˜\",\n                                    \"actions\": {\n                                        \"trigger\": \"start_combat\",\n                                        \"enemies\": [\n                                        {\n                                            \"id\": \"dyn_enemy_frost_golem_01\",\n                                            \"name\": \"å®éªŒå®¤å¯’å†°é­”åƒ\",\n                                            \"type\": \"enemy\",\n                                            \"hp\": 600,\n                                            \"mp\": 0,\n                                            \"level\": 15,\n                                            \"element\": \"WATER\",\n                                            \"stats\": {\n                                            \"atk\": 65,\n                                            \"def\": 80\n                                            },\n                                            \"base_res_phys\": 0.7,\n                                            \"base_res_magic\": 1.1,\n                                            \"description\": \"è¢«é™„é­”çš„å·¨å¤§å†°å—ï¼Œæ‹¥æœ‰æé«˜çš„ç‰©ç†é˜²å¾¡åŠ›ã€‚\",\n                                            \"rewards\": { \"exp\": 400, \"gold\": 250 }\n                                        }\n                                        ]\n                                    },\n                                    \"next\": \"stage3.0\"\n                                    }\n                                ]\n                                },\n                                \"stage3.0\": {\n                                \"lines\": [\n                                    \"éšç€é­”åƒçš„ç¢è£‚ï¼Œå®éªŒå®¤æ·±å¤„çš„åœ°æ¿è£‚å¼€äº†ä¸€é“ç¼éš™ï¼Œéœ²å‡ºäº†ä¸€é“é—ªçƒç€å¼‚ç•Œå…‰èŠ’çš„ä¼ é€é—¨ã€‚\",\n                                    \"é—¨åé€šå‘è¢«å°å°å·²ä¹…çš„â€œæ°¸å†¬ä¹‹å¾„â€ã€‚\"\n                                ],\n                                \"choices\": [\n                                    {\n                                    \"label\": \"è¸å…¥ä¼ é€é—¨\",\n                                    \"actions\": {\n                                        \"trigger\": \"activate_sideline\",\n                                        \"questName\": \"æ°¸å†¬ä¹‹å¾„\",\n                                        \"questId\": \"quest_eternal_winter\",\n                                        \"themeId\": \"THEME_ICE_CAVE\",\n                                        \"layerIndex\": 3,\n                                        \"edge_position\": \"LEFT\",\n                                        \"depthRange\": [5, 7],\n                                        \"distribution\": {\n                                        \"COMBAT\": 25,\n                                        \"RESOURCE\": 18,\n                                        \"EVENT_CHOICE\": 14,\n                                        \"EVENT_H\": 10,\n                                        \"EVENT_QUEST\": 12,\n                                        \"REST\": 6,\n                                        \"SHOP\": 5,\n                                        \"LOCATION\": 10\n                                        }\n                                    },\n                                    \"next\": null  // å¿…é¡»å¸¦æœ‰ç»“æŸäº‹ä»¶\n                                    },\n                                    {\n                                    \"label\": \"è¿…é€Ÿæ’¤ç¦»\",\n                                    \"actions\": {\n                                        \"message\": \"ä½ å†³å®šä¸å†’æ›´å¤§çš„é£é™©ï¼Œå¸¦ç€ç°æœ‰çš„æ”¶è·ç¦»å¼€äº†å®éªŒå®¤ã€‚\"\n                                    },\n                                    \"next\": null // å¿…é¡»å¸¦æœ‰ç»“æŸäº‹ä»¶\n                                    }\n                                ]\n                                }\n                            }\n                    }\n\n                6. å…³äºå¼€å¯ä¸‹ä¸€ç« ä¸»çº¿åœ°å›¾çš„è¯­æ³•\n                    \"actions\": {\n                        \"trigger\": \"next_chapter\", // [å¿…é¡»] è§¦å‘å™¨ç±»å‹ï¼Œå›ºå®šä¸º next_chapter\n                        \"mapName\": \"xxx\", // ä¸»çº¿åœ°å›¾çš„åç§°(è‡ªå®šä¹‰)\n                        \"themeId\": \"THEME_xxxx\", // [å¿…é¡»] ä¸»é¢˜ ID (å¦‚ THEME_FOREST, THEME_ICE_CAVE)\n                        \"depthRange\": [5, 8],  // ç”Ÿæˆåœ°å›¾çš„æ·±åº¦èŒƒå›´ï¼Œè‡ªå®šä¹‰\n                        \"nodeCountRange\": [4, 6], // æ¯å±‚åœ°å›¾çš„èŠ‚ç‚¹æ•°é‡èŒƒå›´ï¼Œè‡ªå®šä¹‰\n                        \"distribution\": {          \n                            \"COMBAT\": 25,\n                            \"RESOURCE\": 18,\n                            \"EVENT_CHOICE\": 14,\n                            \"EVENT_H\": 10,\n                            \"EVENT_QUEST\": 12,\n                            \"REST\": 6,\n                            \"SHOP\": 5,\n                            \"LOCATION\": 10\n                        }, \n                        // èŠ‚ç‚¹åˆ†å¸ƒæ¯”ä¾‹ï¼Œå¯é€‰COMBAT|RESOURCE|EVENT_CHOICE|EVENT_H|EVENT_QUEST|REST|SHOPï¼Œç¡®ä¿æœ€ååˆ†å¸ƒæ¯”ä¾‹ä¹‹å’Œä¸º100\n                        // ç¼–å†™è§„åˆ™åŒä¸Š\n                    }\n                7. ç¤ºä¾‹:\n                \"node_id\": {\n                    \"choice_scenes\": {\n                        \"stage1.0\": {\n                            \"lines\": [\n                                \"é€šå¾€ä¸‹ä¸€å±‚çš„å·¨å¤§ä¼ é€é—¨å°±åœ¨çœ¼å‰ï¼Œä½†ä¸€åªæµ‘èº«æµæ·Œç€å²©æµ†çš„å·¨å…½æŒ¡ä½äº†å»è·¯ã€‚\",\n                                \"ç†”å²©é¢†ä¸»ï¼šã€å‡¡äººï¼Œä½ çš„æ—…é€”åˆ°æ­¤ä¸ºæ­¢äº†ï¼åŒ–ä¸ºç°çƒ¬å§ï¼ã€\",\n                                \"å®ƒä¸¾èµ·æ‰‹ä¸­çš„æˆ˜é”¤ï¼Œå‘¨å›´çš„ç©ºæ°”ç¬é—´è¢«ç‚¹ç‡ƒï¼Œèº«åçš„é€€è·¯å·²è¢«ç«æµ·å°æ­»ã€‚\"\n                            ],\n                            \"choices\": [\n                                {\n                                    \"label\": \"æ‹”å‰‘è¿æˆ˜\",\n                                    \"actions\": {\n                                        \"trigger\": \"start_combat\",\n                                        \"enemies\": [\n                                            {\n                                                \"id\": \"dyn_boss_lava_lord_01\",\n                                                \"name\": \"ğŸ”¥ ç†”å²©é¢†ä¸»Â·æ‹‰æ ¼çº³\",\n                                                \"type\": \"enemy\",\n                                                \"hp\": 2500,\n                                                \"mp\": 500,\n                                                \"level\": 20,\n                                                \"element\": \"FIRE\",\n                                                \"stats\": {\n                                                    \"atk\": 120,\n                                                    \"def\": 80\n                                                },\n                                                \"base_res_phys\": 0.8, // 20% ç‰©ç†æŠ—æ€§\n                                                \"base_res_magic\": 0.5, // 50% é­”æ³•æŠ—æ€§ (å¼ºç«æŠ—)\n                                                \"description\": \"è¿™ä¸€å±‚çš„å®ˆé—¨äººï¼Œæ‹¥æœ‰æ“æ§åœ°ç«çš„ææ€–åŠ›é‡ã€‚\",\n                                                \"skills\": [\n                                                    {\n                                                        \"id\": \"skill_flame_hammer\",\n                                                        \"name\": \"çƒˆç„°é‡é”¤\",\n                                                        \"description\": \"é™„å¸¦é«˜æ¸©çš„é‡å‡»ï¼Œå¯èƒ½ç‚¹ç‡ƒç›®æ ‡ã€‚\",\n                                                        \"type\": \"ATTACK\",\n                                                        \"targetType\": \"enemy\",\n                                                        \"cost\": { \"mp\": 30 },\n                                                        \"power\": 1.5,\n                                                        \"atk_type\": \"PHYSICAL\",\n                                                        \"element\": \"FIRE\"\n                                                    },\n                                                    {\n                                                        \"id\": \"skill_magma_eruption\",\n                                                        \"name\": \"å²©æµ†å–·å‘\",\n                                                        \"description\": \"å¬å”¤åœ°åº•å²©æµ†å–·æ¶Œè€Œå‡ºï¼Œå¯¹æ•Œäººé€ æˆæŒç»­ä¼¤å®³ã€‚\",\n                                                        \"type\": \"DOT\",\n                                                        \"targetType\": \"enemy\",\n                                                        \"cost\": { \"mp\": 50 },\n                                                        \"effect\": {\n                                                            \"dotType\": \"ç¼çƒ§\",\n                                                            \"damage\": 40,\n                                                            \"duration\": 3,\n                                                            \"chance\": 0.8\n                                                        }\n                                                    }\n                                                ],\n                                                \"rewards\": {\n                                                    \"exp\": 2000,\n                                                    \"gold\": 1000,\n                                                    \"items\": [\n                                                        // 1. é™æ€æ¶ˆè€—å“\n                                                        { \"id\": \"potion_hp_high\", \"count\": 2 },\n                                                        // 2. åŠ¨æ€ä¼ è¯´æ­¦å™¨\n                                                        {\n                                                            \"id\": \"dyn_wpn_flame_heart_01\",\n                                                            \"name\": \"ğŸ”¥ ç‚é­”ä¹‹å¿ƒå¤§å‰‘\",\n                                                            \"type\": \"WEAPON\",\n                                                            \"subtype\": \"SWORD\",\n                                                            \"atk_type\": \"PHYSICAL\",\n                                                            \"quality\": \"RED\",\n                                                            \"description\": \"æ ¸å¿ƒé•¶åµŒç€é¢†ä¸»å¿ƒè„çš„å·¨å‰‘ï¼ŒæŒ¥èˆæ—¶ä¼šå¼•å‘çˆ†ç‚¸ã€‚\",\n                                                            \"count\": 1,\n                                                            \"stats\": {\n                                                                \"atk\": 150,\n                                                                \"critRate\": 0.25,\n                                                                \"critDamage\": 0.5,\n                                                                \"speed\": -2\n                                                            }\n                                                        },\n                                                        // 3. åŠ¨æ€æŠ€èƒ½ä¹¦\n                                                        {\n                                                            \"id\": \"dyn_book_fire_storm\",\n                                                            \"name\": \"ã€Šç«ç„°é£æš´ã€‹\",\n                                                            \"type\": \"SPECIAL\",\n                                                            \"quality\": \"GOLD\",\n                                                            \"count\": 1,\n                                                            \"description\": \"è®°è½½ç€é«˜é˜¶ç«ç„°é­”æ³•çš„ç¾Šçš®å·ã€‚\",\n                                                            \"effect_type\": \"LEARN_SKILL\",\n                                                            \"skillPayload\": {\n                                                                \"id\": \"skill_learn_fire_storm\",\n                                                                \"name\": \"ç«ç„°é£æš´\",\n                                                                \"description\": \"å¬å”¤æ¼«å¤©ç«é›¨æ¸…æ´—æˆ˜åœºã€‚\",\n                                                                \"type\": \"ATTACK\",\n                                                                \"targetType\": \"enemy\",\n                                                                \"cost\": { \"mp\": 80 },\n                                                                \"power\": 2.0,\n                                                                \"atk_type\": \"MAGIC\",\n                                                                \"element\": \"FIRE\"\n                                                            }\n                                                        }\n                                                    ]\n                                                }\n                                            }\n                                        ]\n                                    },\n                                    \"next\": \"stage2.0\"\n                                }\n                            ]\n                        },\n                        \"stage2.0\": {\n                            \"lines\": [\n                                \"éšç€ç†”å²©é¢†ä¸»çš„å€’ä¸‹ï¼Œå°é”ä¼ é€é—¨çš„ç«ç„°å±éšœæ¸æ¸æ¶ˆæ•£ã€‚\",\n                                \"ä½ è·¨è¿‡å®ƒè¿˜åœ¨ç‡ƒçƒ§çš„å°¸ä½“ï¼Œç«™åœ¨äº†ä¼ é€é—¨å‰ã€‚é—¨å¯¹é¢å¹æ¥äº†ä¸€é˜µå¹²ç‡¥è€Œç¼çƒ­çš„é£ï¼Œé‚£æ˜¯ä¸‹ä¸€å±‚åœ°ç‹±çš„æ°”æ¯ã€‚\"\n                            ],\n                            \"choices\": [\n                                {\n                                    \"label\": \"å‰å¾€ä¸‹ä¸€ç« ï¼šç„¦çƒ­åœ°ç‹±\",\n                                    \"actions\": {\n                                        \"trigger\": \"next_chapter\",\n                                        \"mapName\": \"ç¬¬å››ç« ï¼šç„¦çƒ­åœ°ç‹±\",\n                                        \"themeId\": \"THEME_LAVA\",\n                                        \"depthRange\": [5, 8],\n                                        \"nodeCountRange\": [4, 6],\n                                        \"distribution\": {\n                                            \"COMBAT\": 30,\n                                            \"EVENT_H\": 20,\n                                            \"EVENT_CHOICE\": 20,\n                                            \"RESOURCE\": 15,\n                                            \"REST\": 10,\n                                            \"SHOP\": 5\n                                            \"LOCATION\": 0\n                                        },\n                                        \"message\": \"ä½ æ¯…ç„¶è¸å…¥äº†ä¼ é€é—¨ï¼Œèº«åçš„ä¸–ç•Œåœ¨è§†é‡ä¸­é€æ¸è¿œå»...\"\n                                    },\n                                    \"next\": null // ç»“æŸæŠ‰æ‹©\n                                }\n                            ]\n                        }\n                    }\n                }\n            8. å…³äº \"check\" \"remove\"ä¸ \"next\": \"exit\"çš„ç¤ºä¾‹\n                // ç¤ºä¾‹ï¼šcheckæ£€å®šåœºæ™¯\n                \"stage1.0\": {\n                    \"lines\": [\n                        \"çš‡å®¶å›¾ä¹¦é¦†çš„å®ˆå«æ‹¦ä½äº†ä½ ï¼šã€é—²æ‚äººç­‰ä¸å¾—å…¥å†…ã€‚ã€\",\n                        \"ã€é™¤éä½ æœ‰ã€å­¦è€…é€šè¡Œè¯ã€‘ï¼Œæˆ–è€…ç¼´çº³ã€500é‡‘å¸ã€‘çš„ä¿è¯é‡‘ã€‚ã€\"\n                    ],\n                    \"choices\": [\n                        {\n                            \"label\": \"å‡ºç¤ºå­¦è€…é€šè¡Œè¯\",\n                            \"actions\": {\n                                // æ£€å®šï¼šå¦‚æœæœ‰â€œå­¦è€…é€šè¡Œè¯â€ï¼Œåˆ™æ‰£é™¤å¹¶è·³è½¬ï¼›å¦‚æœæ²¡æœ‰ï¼Œè‡ªåŠ¨è§¦å‘æ’¤é€€ï¼Œä¸ä¼šè·³è½¬åˆ° stage2.0\n                                \"check\": \"å­¦è€…é€šè¡Œè¯\", \n                                \"message\": \"å®ˆå«æ£€æŸ¥äº†è¯ä»¶ï¼Œæ­æ•¬åœ°æ”¾è¡Œäº†ã€‚\"\n                            },\n                            \"next\": \"stage2.0\" // åªæœ‰æ£€å®šæˆåŠŸæ‰ä¼šåˆ°è¿™é‡Œ\n                        },\n                        {\n                            \"label\": \"ç¼´çº³ä¿è¯é‡‘\",\n                            \"actions\": {\n                                \"gold\": -500, \n                                \"message\": \"ä½ å¿ƒç—›åœ°äº¤å‡ºäº†æ²‰ç”¸ç”¸çš„é‡‘å¸è¢‹ã€‚\"\n                            },\n                            \"next\": \"stage2.0\"\n                        },\n                        {\n                            \"label\": \"å¼ºè¡Œé—¯å…¥\",\n                            \"actions\": {\n                                \"message\": \"å®ˆå«æ‹”å‡ºäº†é•¿å‰‘ï¼šã€æ»šå¼€ï¼ã€ä½ è¢«é©±é€äº†ã€‚\"\n                            },\n                            \"next\": \"exit\" // æ˜¾å¼è§¦å‘æ’¤é€€é€»è¾‘ï¼Œç©å®¶è¢«è¸¢å›ä¸Šä¸€ä¸ªèŠ‚ç‚¹\n                        }\n                    ]\n                }\n                // ç¤ºä¾‹ removeæ£€å®šåœºæ™¯\n                \"stage1.0\": {\n                    \"lines\": [\n                        \"ä½ çš„é¢å‰çŸ—ç«‹ç€ä¸€åº§æ•£å‘ç€å¯’æ°”çš„å†°éœœç¥­å›ï¼ŒæŒ¡ä½äº†å»è·¯ã€‚\",\n                        \"ç¥­å›çš„å‡¹æ§½ä¸­åˆ»ç€ä¸€è¡Œå°å­—ï¼šã€çŒ®ä¸Šã€ç«ä¹‹ç²¾ç²¹ã€‘ï¼Œæ–¹å¯èåŒ–åšå†°ã€‚ã€\"\n                    ],\n                    \"choices\": [\n                        {\n                            \"label\": \"æ”¾å…¥ç«ä¹‹ç²¾ç²¹\",\n                            \"actions\": {\n                                // æ ¸å¿ƒé€»è¾‘ï¼šç§»é™¤æ£€å®š\n                                // 1. ç³»ç»Ÿæ£€æŸ¥èƒŒåŒ…æ˜¯å¦æœ‰ \"ç«ä¹‹ç²¾ç²¹\"ã€‚\n                                // 2. è‹¥æœ‰ï¼šæ‰£é™¤ 1 ä¸ªï¼Œæ’­æ”¾ messageï¼Œè·³è½¬ nextã€‚\n                                // 3. è‹¥æ— ï¼šé˜»æ–­è·³è½¬ï¼Œè§¦å‘æ’¤é€€é€»è¾‘(è¸¢å›ä¸Šä¸€æ­¥)ï¼Œæç¤º\"ç¼ºå°‘å…³é”®ç‰©å“\"ã€‚\n                                \"remove\": \"ç«ä¹‹ç²¾ç²¹\", \n                                \"message\": \"ä½ å°†ç²¾ç²¹æ”¾å…¥å‡¹æ§½ï¼Œçº¢è‰²çš„å…‰èŠ’ç¬é—´çˆ†å‘ï¼Œçœ¼å‰çš„å†°å¢™èåŒ–äº†ã€‚\"\n                            },\n                            \"next\": \"stage2.0\" // åªæœ‰æ‰£é™¤æˆåŠŸæ‰ä¼šè·³è½¬åˆ°è¿™é‡Œ\n                        },\n                        {\n                            \"label\": \"å°è¯•ç”¨ä½“æ¸©èåŒ–\",\n                            \"actions\": {\n                                // æ›¿ä»£æ–¹æ¡ˆï¼šå¦‚æœæ²¡æœ‰ç‰©å“ï¼Œå¯ä»¥è®¾è®¡ç”¨è¡€é‡æ¢è·¯\n                                \"hp\": -50, \n                                \"message\": \"ä½ è¯•å›¾å¼ºè¡Œé€šè¿‡ï¼Œè¢«å¯’æ°”ä¸¥é‡å†»ä¼¤ï¼Œä½†å‹‰å¼ºæŒ¤äº†è¿‡å»ã€‚\"\n                            },\n                            \"next\": \"stage2.0\"\n                        },\n                        {\n                            \"label\": \"ç¦»å¼€\",\n                            \"actions\": {\n                                \"message\": \"ä½ å†³å®šæš‚æ—¶ä¸å¤„ç†è¿™ä¸ªæœºå…³ã€‚\"\n                            },\n                            \"next\": \"exit\" // æ˜¾å¼æ’¤é€€\n                        }\n                    ]\n                },\n                \"stage2.0\": {\n                    \"lines\": [\n                        \"éšœç¢å·²è¢«æ¸…é™¤ï¼Œé€šé“çš„æ·±å¤„ä¼ æ¥äº†é£çš„å£°éŸ³ã€‚\",\n                        \"ä½ å·²æˆåŠŸè¿›å…¥ä¸‹ä¸€åŒºåŸŸã€‚\"\n                    ],\n                    \"choices\": [\n                        {\n                            \"label\": \"ç»§ç»­å‰è¿›\",\n                            \"next\": null // ç»“æŸäº‹ä»¶ï¼Œåœç•™åœ¨å½“å‰ï¼ˆå·²è§£é”çš„ï¼‰èŠ‚ç‚¹æˆ–ç»§ç»­æ¢ç´¢\n                        }\n                    ]\n                }\n            RESOURCE:\n                1. è¯­æ³•ç»“æ„: \"node_id\":{\n                    ...(payload)\n                }\n                2. RESOURCEçš„payloadè¯­æ³•:{\n                    \"message\": \"æè¿°æ–‡æœ¬\", // [å¯é€‰] å‘ç°èµ„æºæ—¶çš„å‰§æƒ…æ–‡å­—\n                    \"actions\": {\n                        \"add_exp\": 0,      // [å¯é€‰] è·å¾—çš„ç»éªŒå€¼æ•°é‡\n                        \"add_gold\": 0,     // [å¯é€‰] è·å¾—çš„é‡‘å¸æ•°é‡\n                        \"add_items\": [     // [å¯é€‰] è·å¾—çš„ç‰©å“åˆ—è¡¨\n                        // ç‰©å“åˆ†å‘æ¡ç›® (itemEntry)\n                        ]\n                    }\n                }\n                3. \"add_items\": [] çš„è¯­æ³•è§£æ:\n                    é™æ€ID: æ¶ˆè€—å“ä½¿ç”¨é™æ€ID(è¯¦è§:<System_Enemy_Design>ä¸­çš„\"1. æ¸¸æˆçš„æ¶ˆè€—ç‰©å“ID\")\n                        { \"id\": \"potion_hp_low\", \"count\": 2 }\n                    åŠ¨æ€ç”Ÿæˆ(éœ€è¦åœ¨ç‰©å“å®šä¹‰ä¸­æŒ‡æ˜\"count\";è¯¦è§)<System_Item_Design>: \n                        {....}\n                4. ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­)\n                    \"node_id\": {\n                        \"message\": \"ä½ åœ¨åºŸå¢Ÿçš„éšè”½å¤¹å±‚ä¸­å‘ç°äº†ä¸€ä¸ªç²¾è‡´çš„é“ç›’ï¼Œé‡Œé¢å­˜æ”¾ç€ä¸€äº›ä¿å­˜å®Œå¥½çš„è¡¥ç»™å’Œä¸€ä»¶æ•£å‘ç€å¾®å…‰çš„å¤è€æŠ¤ç”²ã€‚\",\n                        \"actions\": {\n                            \"add_exp\": 150,\n                            \"add_gold\": 300,\n                            \"add_items\": [\n                            {\n                                \"id\": \"potion_hp_mid\",\n                                \"count\": 2\n                            },\n                            {\n                                \"id\": \"dyn_arm_ancient_chest_01\",\n                                \"name\": \"âœ¨ åœ£æ‰€å«å£«èƒ¸ç”²\",\n                                \"type\": \"ARMOR\",\n                                \"subtype\": \"CHEST\",\n                                \"quality\": \"PURPLE\",\n                                \"count\": 1,\n                                \"description\": \"åœ£æ‰€å«å£«æ›¾ç»ç©¿ç€çš„é“ ç”²ï¼Œå†…è¡¬é“­åˆ»ç€èƒ½å¤Ÿç¼“è§£å†²å‡»çš„é˜²å¾¡æœ¯å¼ã€‚\",\n                                \"stats\": {\n                                \"maxHp\": 250,        // å¢åŠ  250 ç‚¹ç”Ÿå‘½ä¸Šé™\n                                \"def_phys\": 45,      // åŸºç¡€ç‰©ç†é˜²å¾¡\n                                \"def_magic\": 20,     // åŸºç¡€é­”æ³•é˜²å¾¡\n                                \"res_phys\": -0.1,    // é¢å¤–æä¾› 10% ç‰©ç†å‡ä¼¤\n                                \"speed\": -2          // [è´Ÿé¢ä¿®æ­£] æ²‰é‡çš„æè´¨ç•¥å¾®å½±å“é€Ÿåº¦\n                                }\n                            }\n                            ]\n                        }\n                    }\n            SHOP: \n                1. è¯­æ³•ç»“æ„: \"node_id\": {\n                    \"name\": \"å•†åº—åç§°\",        // å•†åº—æ ‡é¢˜\n                    \"items\": [                // å•†å“æ•°ç»„åˆ—è¡¨\n                        // ... å•†å“æ¡ç›® (è§ä¸‹æ–‡)\n                    ]\n                }\n                2. \"items\"ç¼–å†™:\n                    åŠ¨æ€å®šä¹‰:\n                        å¯ä»¥å®šä¹‰: æ­¦å™¨|è£…å¤‡|é¥°å“|æŠ€èƒ½ä¹¦()\n                        åªéœ€è¦åœ¨å®šä¹‰æ—¶åœ¨æœ€ååŠ ä¸Šä¸€ä¸ªé”®\"stock\"å³å¯(è¯­æ³•è¯¦è§<System_Item_Design>)\n                3. ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­): \n                    \"node_id\": {\n                        \"name\": \"è¾¹å¢ƒé»‘å¸‚\",\n                        \"items\": [\n                            {\n                            \"id\": \"dyn_wpn_random_01\",\n                            \"name\": \"èµŒå¾’ä¹‹åˆƒ\",\n                            \"type\": \"WEAPON\",\n                            \"subtype\": \"DAGGER\",\n                            \"atk_type\": \"PHYSICAL\",\n                            \"quality\": \"GOLD\",       \n                            \"stock\": 1,\n                            \"description\": \"ä½ çœ‹ä¸æ¸…å®ƒçš„ä»·æ ¼ï¼Œä½†èƒ½æ„Ÿè§‰åˆ°å®ƒçš„åˆ†é‡ã€‚\",\n                            \"stats\": {\n                                \"atk\": 90,\n                                \"critRate\": 0.2\n                            }\n                            },\n                            {\n                            \"id\": \"dyn_book_meteor\",\n                            \"name\": \"ã€Šæ˜Ÿé™¨æœ¯ã€‹\",\n                            \"type\": \"SPECIAL\",\n                            \"effect_type\": \"LEARN_SKILL\",\n                            \"quality\": \"RED\",         \n                            \"stock\": 1,\n                            \"description\": \"ç¦å¿Œçš„é­”æ³•ä¹¦ã€‚\",\n                            \"skillPayload\": {\n                                \"id\": \"skill_meteor\",\n                                \"name\": \"æ˜Ÿé™¨\",\n                                \"type\": \"ATTACK\",\n                                \"element\": \"FIRE\",\n                                \"power\": 5.0,\n                                \"cost\": { \"mp\": 100 }\n                            }\n                            },\n                            ...\n                        ]\n                    }\n            EVENT_H:\n                1. è¯­æ³•ç»“æ„ \"node_id\": {\n                    \"charIds\": [\"String1\",\"String2\",... ],      // ç›®æ ‡å¥³æ€§è§’è‰²çš„å”¯ä¸€ID(ä»<Player_State>ä¸­é€‰æ‹©å¥³æ€§è§’è‰²çš„IDï¼Œå¯ä»¥é€‰æ‹©ä¸€ä½ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©å¤šä½(å¤šP))\n                    \"eventName\": \"String\",   // äº‹ä»¶åç§°(æ¦‚è¿°è¿™æ¬¡Häº’åŠ¨äº‹ä»¶)\n                }\n                2. ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­)\n                    \"node_id\": {\n                        \"charIds\": [\"player_2\",\"player_3\",\"player_4\"],\n                        \"eventName\": \"è¯¯å…¥é™·é˜±\"\n                    }\n            REST|ROOT|LOCATION:\n                1. è¿™ä¸‰ä¸ªèŠ‚ç‚¹ä¸éœ€è¦ç”Ÿæˆpayload\n                2. ç›´æ¥è¾“å‡º: \"node_id\": {}\n                3. æœ€å¤šæ”¯æŒ4ä¸ºå¥³æ€§è§’è‰²,å¦‚æœç©å®¶é˜Ÿä¼é‡Œå­˜åœ¨5ä½å¥³æ€§è§’è‰²ï¼Œéšæœºé€‰æ‹©å…¶ä¸­4ä½ï¼Œ3ä½æˆ–è€…2ä½(åŸºäºç©å®¶çš„å¯¹è¯å†å²ä¸æƒ…èŠ‚å‘å±•è§†æƒ…å†µè€Œå®š)\n        </Node_Payload>\n        <Node_Data>\n            ä¸‹é¢æ˜¯åœ°å›¾çš„ID\n            {{params.mapId}}\n            ä¸‹é¢æ˜¯åœ°å›¾çš„åå­—ä¸ä¸»é¢˜\n            {{params.name_and_theme}}\n            ä¸‹é¢æ˜¯ä½ éœ€è¦è®¾è®¡payloadçš„èŠ‚ç‚¹æ•°æ®\n            {{Node_Data}}\n        </Node_Data>\n        <Previously_On>\n            ä¸‹é¢æ˜¯è¿™å¼ åœ°å›¾çš„æƒ…èŠ‚:\n            {{Plot}}\n        </Previously_On>\n        <Chat_History>\n            ä¸‹é¢æ˜¯ç©å®¶å¯¹è¯å†å²:\n            {{Chat_Data}}\n        </Chat_History>\n        <Player_State>\n            1. ä¸‹é¢è¯´æ˜ç©å®¶å½“ä¸‹çš„çŠ¶æ€(åŒ…æ‹¬ç­‰çº§ï¼ŒæŠ€èƒ½ï¼ŒæŒæœ‰ç‰©å“ç­‰å±æ€§):\n                {{Player_State_WithoutHstate}}\n            2. ç”ŸæˆèŠ‚ç‚¹ä¿¡æ¯æ—¶å¿…é¡»å‚è€ƒä¸Šè¿°ç©å®¶çŠ¶æ€ï¼Œè®©èŠ‚ç‚¹å……æ»¡æŒ‘æˆ˜ä¸æŠ‰æ‹©çš„åŒæ—¶ï¼Œæ»¡è¶³ç©å®¶çš„æ¢ç´¢æ¬²ï¼Œè®©ç©å®¶æ„Ÿå—åˆ°æˆå°±æ„Ÿä¸æ”¶è·æ„Ÿ\n            3. å¦‚æœç©å®¶é˜Ÿä¼èº«ä¸Šçš„è£…å¤‡ä¸å¤Ÿé½å…¨(HEAD|CHEST|HANDS|LEGS|BOOTSä¸€å¥—)ï¼Œç”ŸæˆèŠ‚ç‚¹æ—¶éœ€è€ƒè™‘ç©å®¶ç¼ºå°‘çš„è£…å¤‡ \n        </Player_State>\n        <Rule>\n            1. ä¾æ®å¯¹è¯æƒ…èŠ‚(<Previously_On>ä¸<Chat_History>ï¼Œå…¶ä¸­<Previously_On>ä½œä¸ºå®è§‚å‚è€ƒï¼Œ<Chat_History>ä½œä¸ºé‡ç‚¹å‚è€ƒï¼Œå½“<Previously_On>ä¸<Chat_History>å‘ç”Ÿå†²çªï¼Œä»¥<Previously_On>ä¸ºå‡†)ï¼Œå¦‚æœæ˜¯æˆ˜æ–—å¼ºç›¸å…³ï¼›PORTAL_NEXT_FLOORä¸PORTAL_NEXT_CHAPTERçš„payloadå†…å®¹å¿…é¡»ä¸<Previously_On>é‡Œçš„æƒ…èŠ‚é«˜åº¦å…³è”ï¼Œå¿…é¡»åŒ…å«æˆ˜æ–—ã€‚å¯¹äºPORTAL_NEXT_FLOORï¼Œå¿…é¡»åŒ…å«ç²¾è‹±çº§åˆ«çš„æ•Œäºº(å±æ€§ç•¥é«˜äºç©å®¶ï¼Œå¿…é¡»å­˜åœ¨è‡³å°‘2ä¸ªæŠ€èƒ½ï¼Œæ‰è½ç‰©å¿…é¡»æœ‰ä¸€æŠŠæ­¦å™¨ + ä¸€ä¸ªè£…å¤‡æˆ–ä¸€ä¸ªé¥°å“ + ä¸€ä¸ªæŠ€èƒ½ä¹¦)ï¼›å¯¹äºPORTAL_NEXT_CHAPTERï¼Œå¿…é¡»åŒ…å«BOSSçº§åˆ«çš„æ•Œäºº(å±æ€§è¿œé«˜äºç©å®¶ï¼Œå¿…é¡»å­˜åœ¨è‡³å°‘2ä¸ªå¼ºåŠ›æŠ€èƒ½ï¼Œæ‰è½ç‰©å¿…é¡»æœ‰ä¸€æŠŠå¼ºåŠ›æ­¦å™¨|ä¸€å¥—è£…å¤‡ + ä¸€ä¸ªé¥°å“ + ä¸€ä¸ªæŠ€èƒ½ä¹¦)ï¼ŒåŒæ—¶æˆ˜æ–—ç»“æŸåå¿…é¡»ä½¿ç”¨\"trigger\": \"next_chapter\"æ¥ç”Ÿæˆä¸‹ä¸€ç« çš„åœ°å›¾ã€‚\n            2.ä¾æ®å¯¹è¯æƒ…èŠ‚ï¼Œå¦‚æœæ˜¯æˆ˜æ–—å¼±ç›¸å…³ï¼›PORTAL_NEXT_FLOORä¸PORTAL_NEXT_CHAPTERçš„payloadå†…å®¹å¿…é¡»ä¸<Previously_On>é‡Œçš„æƒ…èŠ‚é«˜åº¦å…³è”ï¼Œå¿…é¡»åŒ…å«removeæˆ–è€…checké‰´å®šç¯èŠ‚(æ³¨æ„ä½¿ç”¨exit)ï¼Œremoveæˆ–è€…checkçš„ç‰©å“å¯ä»¥æ˜¯ç©å®¶é˜Ÿä¼é‡Œå·²ç»æŒæœ‰çš„ç‰¹æ®Šç‰©å“(è¯¦è§<Player_State>)ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¾æ®æƒ…èŠ‚è®¾è®¡çš„ç‰©å“ï¼Œç©å®¶çŸ¥é“éœ€è¦è¿™ä¸ªç‰©å“åä¼šæ¨è¿›æƒ…èŠ‚è¿›è¡ŒåŠ¨æ€è·å–çš„ï¼Œæ‰€ä»¥ä¸å¿…æ‹…å¿ƒç‰©å“\"ä¸å­˜åœ¨\"çš„é—®é¢˜ï¼Œä¸è®ºå¦‚ä½•è®¾è®¡ï¼Œç‰©å“å¿…é¡»ä¸æƒ…èŠ‚é«˜åº¦å…³è”ã€‚å¦‚æœéœ€è¦æ‰£è´¹ï¼Œåˆ™å¿…é¡»è®©ç©å®¶é˜Ÿä¼\"å¤§å‡ºè¡€\"ï¼Œç›´æ¥æ‰£æ‰ç©å®¶é˜Ÿä¼é‡‘å¸çš„1/2ã€‚(ä¾‹å¦‚<Player_State>æ˜¾ç¤ºç©å®¶é˜Ÿä¼é‡‘å¸ä¸º50000.è¿›å…¥ä¸‹ä¸€å±‚åˆ™æ‰£æ‰25000)\n            3. å¦‚æœé€šè¿‡å¯¹è¯æƒ…èŠ‚ä¸å¥½åˆ¤æ–­æ˜¯å“ªä¸€ä¸ªæƒ…å†µï¼Œå°±éšæœºä»1ï¼Œ2æƒ…å†µä¸­æŒ‘é€‰ä¸€ä¸ªåˆé€‚çš„å³å¯\n            3. æ¯ä¸ªSHOPèŠ‚ç‚¹ï¼Œè‡³å°‘åŒ…å«ä¸¤æŠŠæ­¦å™¨ + ä¸€å¥—è£…å¤‡(å¤´+èƒ¸+æ‰‹+è…¿+è„š) + 2æœ¬æŠ€èƒ½ä¹¦ -- å“è´¨å‚è€ƒ<Player_State>é‡Œç©å®¶æŒæœ‰çš„æ­¦å™¨è£…å¤‡æ¥è®¾è®¡\n            4. EVENT_CHOICEå¿…é¡»åŒ…å«æˆ˜æ–—ä¸æŠ‰æ‹©\n            5. EVENT_QUESTå¿…é¡»åŒ…å«æŠ‰æ‹©ä¸æ”¯çº¿åœ°å›¾ç”Ÿæˆ\n            6. COMBATèŠ‚ç‚¹å¿…é¡»åŒ…å«è‡³å°‘3åæ•Œäºº(ä¸€ä¸ªå±æ€§ç•¥ä½äºç©å®¶ï¼Œä¸€ä¸ªå±æ€§ç­‰äºç©å®¶ï¼Œä¸€ä¸ªå±æ€§é«˜äºç©å®¶)ï¼›æ•Œäººå¸¦æœ‰ä¸€ä¸ªæŠ€èƒ½ï¼›æ‰è½ç‰©ä»¥æ¶ˆè€—å“ä¸ºä¸»ï¼Œå¯ä»¥åŒ…å«å°‘é‡çš„åŠ¨æ€ç”Ÿæˆç‰©å“(æ­¦å™¨/è£…å¤‡)ã€‚\n            7. ç”ŸæˆèŠ‚ç‚¹payloadæ—¶éœ€è¦å‚è€ƒç©å®¶çš„<Chat_History>å¢å¼ºæ¸¸æˆçš„äº’åŠ¨æ€§\n            8. choice_scenesè®¾è®¡æ˜¯ï¼Œå¯¹åº”çš„æŠ‰æ‹©ä¸èƒ½å¤Ÿæš´éœ²æŠ‰æ‹©çš„ç»“æœä»¥ç¡®ä¿æŠ‰æ‹©çš„åæœæœªçŸ¥æ€§ã€‚ä¾‹å¦‚: \n                æ‰“å¼€æˆ¿é—¨(è§¦å‘æˆ˜æ–—) -- æš´éœ²æŠ‰æ‹©ç»“æœï¼Œé”™è¯¯  --> ä¿®æ­£: æ‰“å¼€æˆ¿é—¨\n                æ‚„æ‚„å›æ’¤(è§¦å‘é™·é˜±) -- æš´éœ²æŠ‰æ‹©ç»“æœï¼Œé”™è¯¯  --> ä¿®æ­£: æ‚„æ‚„å›æ’¤\n            9. ä¸€ç§åŠå…¶ç‰¹æ®Šçš„æƒ…å†µï¼š\n                1. å¦‚æœ å‰é¢å‡ºç°äº†<Task_Plot_Design>ä»»åŠ¡ä¸”æ»¡è¶³é‡Œé¢<Output_Format>çš„ç‰¹æ®Šæƒ…å†µ(è®¾è®¡ç©å®¶æˆ¿äº§) æˆ–è€… <Previously_On>é‡Œçš„æƒ…èŠ‚å‡ºç°\"ç©å®¶æˆ¿äº§ï¼Œæ— æƒ…èŠ‚\"ï¼Œä»»åŠ¡å‡ºç°\"æ— ä»»åŠ¡\"ï¼Œé‚£ä¹ˆå°±è¯´æ˜æ­¤æ—¶æ­£åœ¨è®¾è®¡èŠ‚ç‚¹çš„payloadä¸ºç©å®¶çš„æˆ¿äº§ã€‚\n                2. æ­¤æ—¶PORTAL_NEXT_FLOOR**ä¸èƒ½å¤Ÿè§¦å‘æˆ˜æ–—**(æ¯•ç«Ÿæ˜¯ç©å®¶çš„ä½å®…)ï¼Œå¯ä»¥è®¾è®¡å…¶ä»–çš„äº‹ä»¶(å¦‚æœç©å®¶èƒŒåŒ…é‡Œæœ‰ï¼Œcheckä¸€ä¸‹åŸå ¡é’¥åŒ™ï¼Ÿ)ï¼Œæ— è®ºå¦‚ä½•ï¼Œéƒ½è¦ç¡®ä¿è¶£å‘³æ€§\n                3. æ­¤æ—¶ä¸ä¼šå‡ºç°PORTAL_NEXT_CHAPTERï¼Œä¸å¿…è€ƒè™‘å…¶è®¾è®¡ã€‚\n                4. å…¶ä»–èŠ‚ç‚¹ç…§å¸¸è®¾è®¡å³å¯ã€‚\n        </Rule>\n        <Output_Format>\n            1. è¾“å‡ºæ ¼å¼é‡‡ç”¨<Task_Node_GenerateåŒ…è£¹çš„.jsonå¯¹è±¡\n            2. .jsonå¯¹è±¡çš„ç¬¦å·åŠ¡å¿…ç¡®ä¿æ˜¯è‹±æ–‡ç¬¦å·\"{}\"ï¼Œ\",\"ï¼Œ\":\"è€Œéä¸­æ–‡ç¬¦å·\"ï¼š\"ï¼Œ\"ï¼Œ\"\n            3. è¾“å‡ºæ ¼å¼:\n                <Task_Node_Generate>\n                    {\n                        \"mapId\": \"...\",\n                        \"data\": {\n                            \"node1_id\":{\n                                ...(node_paylod)\n                            },\n                            \"node2_id\":{\n                                ...(node_paylod)\n                            },\n                            ...\n                        }\n\n                    }\n                </Task_Node_Generate>\n            3. è¾“å‡ºç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­)\n                <Task_Node_Generate>\n                    {\n                        \"mapId\": \"...\",\n                        \"data\": {\n                            \"n1\":{\n                                \"enemies\": [\n                                    {\n                                        \"id\": \"dyn_enemy_void_stalker_01\",\n                                        \"name\": \"è™šç©ºæ å¤ºè€…\",\n                                        \"type\": \"enemy\",\n                                        \"hp\": 450,\n                                        \"mp\": 60,\n                                        \"level\": 12,\n                                        \"element\": \"DEMON\",\n                                        \"stats\": {\n                                            \"atk\": 75,\n                                            \"def\": 40\n                                        },\n                                        \"base_res_phys\": 1.0, \n                                        \"base_res_magic\": 1.2, // å¼±é­”æ³•\n                                        \"description\": \"æ½œä¼åœ¨ä½é¢è£‚éš™ä¸­çš„ç‹©çŒè€…ï¼Œèº«ä½“ç”±ä¸ç¨³å®šçš„æš—èƒ½é‡æ„æˆï¼ŒåŠ¨ä½œæå¿«ä¸”è‡´å‘½ã€‚\",\n                                        \"skills\": [], \n                                        \"rewards\": {\n                                            \"exp\": 280,\n                                            \"gold\": 150,\n                                            \"items\": [\n                                            { \"id\": \"potion_hp_mid\", \"count\": 1 }\n                                            ]\n                                        }\n                                    },\n                                    ....\n                                ]\n                            },\n                            \"n2\":{\n                                \"charId\": \"player_2\",\n                                \"eventName\": \"é…’åå¤œæ¸¸\"\n                            },\n                            ...\n                        }\n                    }\n                </Task_Node_Generate>\n        </Output_Format>\n    </Task_Node_Generate>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 10,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 7,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 8,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "System_Item_Design",
                    "content": "    <System_Item_Design>\n        1. ä¸‹é¢å°†è¯¦ç»†è®²è§£æ¸¸æˆçš„ç‰©å“å¦‚ä½•å®šä¹‰\n        2. ç‰©å“å¯¹è±¡çš„ç§ç±»(type):\n            æ­¦å™¨ -- WEAPON\"\n                subtype(å¿…é¡»æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€):\n                    SWORD\n                    STAFF\n                    BOW\n                    DAGGER\n                    AXE\n            è£…å¤‡ -- ARMOR\n                subtype(å¿…é¡»æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€):\n                    HEAD\n                    CHEST\n                    HANDS\n                    LEGS\n                    BOOTS\n            é¥°å“ -- ACCESSORY\n            ç‰¹æ®Šç‰©å“ -- SPECIAL\n                effect_type(å¿…é¡»æ˜¯ä»¥ä¸‹ç±»å‹ä¹‹ä¸€):\n                    æŠ€èƒ½ä¹¦ -- LEARN_SKILL\n                    çºªå¿µå“ -- NONE\n        3. å±æ€§å­—å…¸(stats)\n            1. æ­¦å™¨ï¼Œè£…å¤‡ï¼Œé¥°å“å¿…é¡»å«æœ‰statsï¼Œç”¨äºå¢åŠ äººç‰©çš„å±æ€§å€¼\n            2. å±æ€§åªèƒ½åŒ…å«ä»¥ä¸‹é”®å\n                é”®å (Key) --- ç±»å‹ --- è¯´æ˜ --- ç¤ºä¾‹\n                maxHp --- Int --- ç”Ÿå‘½ä¸Šé™ --- 500,\n                maxMp --- Int --- æ³•åŠ›ä¸Šé™ --- 100,\n                atk --- Int --- æ”»å‡»åŠ› --- 50,\n                def_phys --- Int --- ç‰©ç†é˜²å¾¡ --- 20,\n                def_magic --- Int --- é­”æ³•é˜²å¾¡ --- 20,\n                speed --- Float --- é€Ÿåº¦ --- 10.0(ä¹Ÿå¯ä»¥å–è´Ÿå€¼),\n                critRate --- Float --- æš´å‡»ç‡ --- 0.25(25%),\n                critDamage --- Float --- æš´å‡»ä¼¤å®³å€ç‡ --- 0.5 (+50%),\n                dodgeRate --- Float --- é—ªé¿ç‡ --- 0.1 (10%),\n                res_phys --- Float --- ç‰©ç†æŠ—æ€§ä¿®æ­£ --- -0.1 (å—ç‰©ç†ä¼¤å‡å°‘10%),\n                res_magic --- Float --- é­”æ³•æŠ—æ€§ä¿®æ­£ --- -0.1 (å—é­”æ³•ä¼¤å‡å°‘10%)       \n        4. ç‰©å“é€šç”¨åŸºç¡€ç»“æ„(å¿…é¡»å®šä¹‰çš„å±æ€§)\n            {   \n                // IDï¼Œå”¯ä¸€æ ‡è¯†ï¼Œæœ€åå¯ä»¥æ·»åŠ å‡ ä¸ªæ•°å­—ç¡®ä¿å”¯ä¸€æ€§\n                \"id\": \"String\",    \n                // åç§°ï¼Œæ˜¾ç¤ºåç§° (åŒä¸Š)      \n                \"name\": \"String\",    \n                // ç§ç±»ï¼Œå¿…é¡»å‚è€ƒ\"2. ç‰©å“å¯¹è±¡çš„ç§ç±»(type)\"    \n                \"type\": \"Enum\",         \n                // å“è´¨ï¼Œå¿…é¡»ä»ä¸‹é¢çš„é¢œè‰²é‡Œé€‰æ‹©\n                //  GRAY -- ç ´è´¥ ; GREEN -- æ™®é€š ; BLUE -- ç¨€æœ‰\n                //  PURPLE -- å²è¯— ; GOLD -- ä¼ è¯´ ; RED -- ç¥å™¨\n                \"quality\": \"Enum\",       \n                // æè¿°æ–‡æœ¬ï¼Œç®€å•æè¿°è¿™ä¸ªç‰©å“\n                \"description\": \"String\", \n                // æ•°é‡\n                \"count\": 1               \n            }\n        5. æ­¦å™¨ç»“æ„\n            {   \n                \"id\": \"wpn_fire_blade_5401\"\n                \"name\": \"ğŸ”¥ ç‚¼ç‹±ä¹‹åˆƒ\"\n                \"type\": \"WEAPON\",\n                \"subtype\": \"SWORD\",     \n                    // æ­¦å™¨å¿…é¡»åŒ…å«çš„ï¼Œå¯é€‰ \"PHYSICAL\" æˆ– \"MAGIC\" \n                \"atk_type\": \"PHYSICAL\", \n                \"quality\": \"RED\",\n                \"description\": \"åˆ€èº«æµæ·Œç€æ°¸ä¸ç†„ç­çš„ç«ç„°ï¼Œæ¯ä¸€æ¬¡æŒ¥å‡»éƒ½ä¼´éšç€çƒ­æµªã€‚\",\n                \"count\": 1\n\n                // æ ¸å¿ƒå±æ€§ï¼Œå‚è€ƒå±æ€§å­—å…¸\n                \"stats\": {               \n                    // åŸºç¡€æ”»å‡»åŠ›ï¼Œä¾æ®æƒ…å†µåˆ¶å®š\n                    \"atk\": 500,            // \n                    // å¢åŠ æš´å‡»ç‡ï¼Œå–å€¼åœ¨[0,1]ï¼Œä¾æ®æƒ…å†µåˆ¶å®š\n                    \"critRate\": 0.3,  \n                    // æš´å‡»ä¼¤å®³ï¼Œå–å€¼åœ¨[0,3]ï¼Œä¾æ®æƒ…å†µåˆ¶å®š     \n                    \"critDamage\": 0.5,     \n                    // é€Ÿåº¦å€¼ï¼Œå–å€¼åœ¨[0,10]ï¼Œä¾æ®æƒ…å†µåˆ¶å®š\n                    \"speed\": 3             \n                }\n            }\n        6. è£…å¤‡ç»“æ„\n            {\n                \"id\": \"dyn_arm_broken_chest_01\",\n                \"name\": \"ç ´è´¥çš„é“èƒ¸ç”²\",\n                \"type\": \"ARMOR\",\n                \"subtype\": \"CHEST\",       \n                \"quality\": \"GRAY\",        \n                \"description\": \"ä¸€ä»¶é”ˆè¿¹æ–‘æ–‘çš„èƒ¸ç”²ï¼Œè¿æ¥å¤„çš„çš®é©å·²ç»æ–­è£‚ï¼Œçœ‹èµ·æ¥éšæ—¶ä¼šæ•£æ¶ã€‚\",\n                \"count\": 1,\n                \"stats\": {\n                    \"maxHp\": 50,          // ä»…æä¾›å¾®é‡ç”Ÿå‘½å€¼\n                    \"def_phys\": 15,       // ä½ä¸‹çš„ç‰©ç†é˜²å¾¡\n                    \"def_magic\": 0,       // æ— é­”æŠ—\n                    \"speed\": -5           // [è´Ÿé¢æ•ˆæœ] å› ä¸ºç ´æŸå¯¼è‡´æ´»åŠ¨ä¸ä¾¿\n                }\n            }\n        7. é¥°å“ç»“æ„\n            {\n                \"id\": \"dyn_acc_agility_ring_01\",\n                \"name\": \"è½»çµæŒ‡ç¯\",\n                \"type\": \"ACCESSORY\",\n                // é¥°å“æ— éœ€ subtype\n                \"quality\": \"GREEN\",       // ç»¿è‰²å“è´¨\n                \"description\": \"ä¸€æšåšå·¥å°šå¯çš„é“¶æˆ’æŒ‡ï¼Œæˆ´ä¸Šåæ„Ÿè§‰èº«ä½“è½»ç›ˆäº†ä¸€äº›ã€‚\",\n                \"count\": 1,\n                \"stats\": {\n                    \"speed\": 12,          // æå‡å‡ºæ‰‹é€Ÿåº¦\n                    \"dodgeRate\": 0.08     // +8% é—ªé¿ç‡\n                }\n            }\n        8. æŠ€èƒ½ä¸æŠ€èƒ½ä¹¦\n            1. æŠ€èƒ½çš„æšä¸¾å±æ€§(å¿…é¡»ä»ä¸‹é¢é€‰æ‹©)\n                // å…ƒç´ ç±»å‹æšä¸¾\n                elements: [ \"NONE\", \"FIRE\", \"WATER\", \"WOOD\", \"EARTH\", \"METAL\", \"HOLY\", \"DEMON\" ]\n                // æ”»å‡»ç±»å‹æšä¸¾\n                attack_types: [ \"PHYSICAL\", \"MAGIC\" ]\n                // ç›®æ ‡ç±»å‹æšä¸¾\n                target_types: [ \"enemy\", \"ally\" ]\n            2. æŠ€èƒ½æ¨¡æ¿\n                skill_template:{\n                    // --- é€šç”¨åŸºç¡€å­—æ®µ ---\n                    \"id\": \"String\",          // æŠ€èƒ½å”¯ä¸€æ ‡è¯†ç¬¦\n                    \"name\": \"String\",        // æŠ€èƒ½æ˜¾ç¤ºåç§°\n                    \"description\": \"String\", // æŠ€èƒ½è¯¦ç»†æè¿°æ–‡æœ¬\n\n                    // --- æ¶ˆè€—ä¸ç›®æ ‡ ---\n                    \"cost\": {\n                        \"mp\": 0              // æ•´æ•°ï¼šæ³•åŠ›å€¼æ¶ˆè€—æ•°å€¼\n                    },\n                    \"targetType\": \"String\",  // å­—ç¬¦ä¸²ï¼šé™å®šä¸º \"enemy\" æˆ– \"ally\"\n\n                    // --- æ ¸å¿ƒç±»å‹åˆ†æµ (æ ¹æ® type å­—æ®µçš„å€¼é€‰æ‹©å¯¹åº”çš„ç»“æ„) ---\n                    \n                    // [åˆ†æ”¯ 1] æ”»å‡»æŠ€èƒ½ç»“æ„\n                    \"type\": \"ATTACK\",        // æ ‡è¯†ï¼šå›ºå®šå€¼ \"ATTACK\"\n                    \"power\": 0.0,            // æµ®ç‚¹æ•°ï¼šä¼¤å®³å€ç‡ç³»æ•°(1.5 ä»£è¡¨ 150% æ”»å‡»åŠ›)\n                    \"atk_type\": \"String\",    // å­—ç¬¦ä¸²ï¼šé™å®šä¸º \"PHYSICAL\" æˆ– \"MAGIC\"\n                    \"element\": \"String\",     // å­—ç¬¦ä¸²ï¼šä»å…ƒç´ ç±»å‹æšä¸¾ä¸­é€‰æ‹©\n\n                    // [åˆ†æ”¯ 2] æ²»ç–—æŠ€èƒ½ç»“æ„\n                    \"type\": \"HEAL\",          // æ ‡è¯†ï¼šå›ºå®šå€¼ \"HEAL\"\n                    \"effect\": \"heal\",        // å­—ç¬¦ä¸²ï¼šå›ºå®šä¸º \"heal\"\n                    \"healPercent\": 0.0,      // æµ®ç‚¹æ•°ï¼šåŸºäºç›®æ ‡æœ€å¤§ç”Ÿå‘½å€¼çš„æ²»ç–—æ¯”ä¾‹ (å¦‚ 0.3 ä»£è¡¨ 30%)\n\n                    // [åˆ†æ”¯ 3] å¢ç›Š/å‡ç›Š æŠ€èƒ½ç»“æ„\n                    \"type\": \"ACTIVE_BUFF\",   // æ ‡è¯†ï¼šå›ºå®šå€¼ \"ACTIVE_BUFF\"\n                    \"effect\": {\n                        \"stat\": \"String\",    // å­—ç¬¦ä¸²ï¼šå—å½±å“çš„å±æ€§å (å¦‚ atk, speed, critRateç­‰ç­‰)\n                        \"value\": 0.0,        // æµ®ç‚¹æ•°ï¼šå±æ€§æå‡æˆ–é™ä½çš„æ¯”ä¾‹ (0.2 = +20%)\n                        \"duration\": 0        // æ•´æ•°ï¼šæ•ˆæœæŒç»­çš„å›åˆæ•°\n                    }\n                    \n                    // [åˆ†æ”¯ 4] DOTS æŠ€èƒ½ç»“æ„\n                    \"type\": \"DOT\",   // æ ‡è¯†ï¼šå›ºå®šå€¼ \"DOT\"\n                    \"effect\": {\n                        \"dotType\": \"ä¸­æ¯’\",    // å¯ä»¥è‡ªå®šä¹‰ï¼Œä»…ç”¨äºæ–‡æœ¬æ˜¾ç¤º\n                        \"damage\": 25,        // æ¯å›åˆæ‰£é™¤ 25 ç‚¹ç”Ÿå‘½å€¼\n                        \"duration\": 3,       // æŒç»­ 3 å›åˆ\n                        \"chance\": 0.7        // 70% å‡ ç‡æ–½åŠ æˆåŠŸ\n                    }\n\n                    // [åˆ†æ”¯ 5] æ§åˆ¶ç±»æŠ€èƒ½\n                    \"type\": \"STUN\",   // æ ‡è¯†ï¼šå›ºå®šå€¼ \"STUN\"\n                    \"effect\": {\n                        \"duration\": 1,       // æŒç»­ 1 å›åˆ\n                        \"chance\": 0.5  // 50% å‡ ç‡ç”Ÿæ•ˆã€‚\n                    }\n                }\n            3. å¢ç›Š|å‡ç›Š çš„ stat è¯´æ˜(é”®åå¿…é¡»é‡‡ç”¨ä¸‹é¢ä¹‹ä¸€)\n                é”®å (Key)\tæ•°æ®ç±»å‹\tè¯´æ˜\tè®¡ç®—æ–¹å¼\tå¢ç›Šç¤ºä¾‹ (Value)\tå‡ç›Šç¤ºä¾‹ (Value)\n                atk\tFloat\tæ”»å‡»åŠ›\tç™¾åˆ†æ¯”ä¹˜ç®—\t0.3 (+30% æ”»å‡»)\t-0.2 (-20% æ”»å‡»)\n                def_phys\tFloat\tç‰©ç†é˜²å¾¡\tç™¾åˆ†æ¯”ä¹˜ç®—\t0.5 (+50% ç‰©é˜²)\t-0.3 (-30% ç‰©é˜²)\n                def_magic\tFloat\té­”æ³•é˜²å¾¡\tç™¾åˆ†æ¯”ä¹˜ç®—\t0.5 (+50% é­”é˜²)\t-0.3 (-30% é­”é˜²)\n                speed\tFloat\té€Ÿåº¦ (è¡ŒåŠ¨åŠ›)\tåŠ ç®—/ä¹˜ç®—*\t5 (é€Ÿåº¦+5)\t-5 (é€Ÿåº¦-5)\n                critRate\tFloat\tæš´å‡»ç‡\tç›´æ¥åŠ ç®—\t0.2 (+20% æš´å‡»ç‡)\t-0.1 (-10% æš´å‡»ç‡)\n                critDamage\tFloat\tæš´å‡»ä¼¤å®³å€ç‡\tç›´æ¥åŠ ç®—\t0.5 (+50% çˆ†ä¼¤)\t-0.3 (-30% çˆ†ä¼¤)\n                dodgeRate\tFloat\té—ªé¿ç‡\tç›´æ¥åŠ ç®—\t0.1 (+10% é—ªé¿ç‡)\t-0.1 (é™ä½é—ªé¿)\n                res_phys\tFloat\tç‰©ç†æŠ—æ€§\tç›´æ¥åŠ ç®—\t-0.1 (å—ç‰©ç†ä¼¤-10%)\t0.1 (å—ç‰©ç†ä¼¤+10%)\n                res_magic\tFloat\té­”æ³•æŠ—æ€§\tç›´æ¥åŠ ç®—\t-0.1 (å—é­”æ³•ä¼¤-10%)\t0.1 (å—é­”æ³•ä¼¤+10%)\n            4. æŠ€èƒ½ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­)\n                {\n                    \"id\": \"skill_void_erosion\",\n                    \"name\": \"è™šç©ºä¾µèš€\",\n                    \"description\": \"é‡Šæ”¾è™šç©ºèƒ½é‡ï¼Œä½¿ç›®æ ‡çš„æŠ¤ç”²ç»“æ„å´©è§£ï¼Œå¤§å¹…é™ä½å…¶ç‰©ç†é˜²å¾¡åŠ›ã€‚\",\n                    \"cost\": {\n                        \"mp\": 20\n                    },\n                    \"targetType\": \"enemy\", // ç›®æ ‡ä¸ºæ•Œäºº\n                    \"type\": \"ACTIVE_BUFF\",  // æ ‡è¯†ä¸ºçŠ¶æ€å˜æ›´ç±»\n                    \"effect\": {\n                        \"stat\": \"def_phys\",   // ä¸¥æ ¼å¯¹åº”å±æ€§å­—å…¸ä¸­çš„ç‰©ç†é˜²å¾¡é”®å\n                        \"value\": -0.4,        // è´Ÿæ•°ä»£è¡¨é™ä½ (æ­¤å¤„é™ä½ 40%)\n                        \"duration\": 3,        // æŒç»­ 3 å›åˆ\n                        \"chance\": 0.8         // 80% æˆåŠŸç‡ \n                    }\n                },\n                {\n                    \"id\": \"skill_corrosive_poison\",\n                    \"name\": \"è…èš€æ¯’ç´ \",\n                    \"description\": \"å‘æ•Œäººæ³¨å…¥ç‚¼é‡‘æ¯’ç´ ï¼Œåœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªå›åˆå†…æŒç»­é€ æˆä¼¤å®³ã€‚\",\n                    \"cost\": {\n                        \"mp\": 15\n                    },\n                    \"targetType\": \"enemy\",\n                    \"type\": \"DOT\",           // æ ‡è¯†ä¸ºæŒç»­ä¼¤å®³ç±»\n                    \"effect\": {\n                        \"dotType\": \"ä¸­æ¯’\",      // æ—¥å¿—æ˜¾ç¤ºæ–‡æœ¬\n                        \"damage\": 35,          // æ¯å›åˆæ‰£é™¤ 35 ç‚¹ HP\n                        \"duration\": 4,         // æŒç»­ 4 å›åˆ\n                        \"chance\": 0.75         // 75% æ–½åŠ å‡ ç‡\n                    }\n                }\n            5. æŠ€èƒ½ä¹¦æ¨¡æ¿\n                skill_book_template:{\n                    // --- ç‰©å“åŸºç¡€ä¿¡æ¯ ---\n                    \"id\": \"String\",          // ç‰©å“å”¯ä¸€æ ‡è¯†ç¬¦\n                    \"name\": \"String\",        // ç‰©å“æ˜¾ç¤ºåç§°\n                    \"type\": \"SPECIAL\",       // å­—ç¬¦ä¸²ï¼šå›ºå®šä¸º \"SPECIAL\"\n                    \"quality\": \"String\",     // å­—ç¬¦ä¸²ï¼šç‰©å“å“è´¨ç­‰çº§æ ‡è¯†\n                    \"count\": 1,              // æ•´æ•°ï¼šé»˜è®¤å †å æ•°é‡(æŠ€èƒ½ä¹¦æ•°é‡é»˜è®¤éƒ½ä¸º1)\n                    \"description\": \"String\", // ç‰©å“åŠŸèƒ½æè¿°\n\n                    // --- åŠŸèƒ½æ ‡è¯† ---\n                    \"effect_type\": \"LEARN_SKILL\", // å­—ç¬¦ä¸²ï¼šåŠŸèƒ½ç±»å‹ï¼Œå›ºå®šä¸º \"LEARN_SKILL\"\n\n                    // --- æŠ€èƒ½åŒ…è£¹ ---\n                    \"skillPayload\": {// è¿™é‡Œç›´æ¥å¡«å…¥ [2. æŠ€èƒ½æ¨¡æ¿] çš„å®Œæ•´å†…å®¹}\n                }\n            6. æŠ€èƒ½ä¹¦ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­)\n                {\n                    \"id\": \"dyn_book_thunder_slash_01\",\n                    \"name\": \"ã€Šé›·é¸£æ–©ç§˜ç±ã€‹\",\n                    \"type\": \"SPECIAL\",\n                    \"quality\": \"PURPLE\",\n                    \"count\": 1,\n                    \"description\": \"å°é¢ä¸Šç»˜æœ‰é—ªç”µè´¯ç©¿å±±è„‰çš„å›¾æ¡ˆï¼Œä¹¦é¡µé—´éšçº¦æœ‰é™ç”µè·³åŠ¨ã€‚\",\n                    \"effect_type\": \"LEARN_SKILL\", // å¿…é¡»æ ‡è¯†ä¸º LEARN_SKILL\n                    \n                    // æŠ€èƒ½å†…æ ¸ (Skill Payload)\n                    \"skillPayload\": {\n                        \"id\": \"skill_thunder_slash_dyn\",\n                        \"name\": \"é›·é¸£æ–©\",\n                        \"description\": \"å‡èšé‡‘å±é¸£éœ‡ä¹‹åŠ›ï¼Œå¯¹æ•Œäººå‘åŠ¨ä¸€æ¬¡è¿…çŒ›çš„é›·éœ†æ‰“å‡»ã€‚\",\n                        \"type\": \"ATTACK\",           // æ”»å‡»ç±»å‹\n                        \"targetType\": \"enemy\",      // ç›®æ ‡ä¸ºæ•Œäºº\n                        \"cost\": { \"mp\": 25 },       // æ¶ˆè€— 25 MP\n                        \n                        \"power\": 1.8,               // 1.8å€ä¼¤å®³å€ç‡\n                        \"atk_type\": \"PHYSICAL\",     // ç‰©ç†æ”»å‡»ç±»å‹\n                        \"element\": \"METAL\"          // å¯¹åº”å…ƒç´ åˆ—è¡¨ä¸­çš„ METAL\n                    }\n                }\n            6. çºªå¿µå“æ¨¡æ¿\n                {\n                    // å‰§æƒ…ç‰©å“æ¨¡æ¿ (Lore Item Template)\n                    \"lore_item_template\": {\n                        // --- ç‰©å“åŸºç¡€ä¿¡æ¯ ---\n                        \"id\": \"String\",          // ç‰©å“å”¯ä¸€æ ‡è¯†ç¬¦\n                        \"name\": \"String\",        // ç‰©å“æ˜¾ç¤ºåç§°\n                        \"type\": \"SPECIAL\",       // å­—ç¬¦ä¸²ï¼šå›ºå®šä¸º \"SPECIAL\"\n                        \"quality\": \"PURPLE\",     // å­—ç¬¦ä¸²ï¼šå“è´¨ç­‰çº§\n                        \"count\": 1,              // æ•´æ•°ï¼šç‰©å“åˆå§‹æ•°é‡\n\n                        // --- åŠŸèƒ½æ ‡è¯† ---\n                        \"effect_type\": \"NONE\",   // å­—ç¬¦ä¸²ï¼šæ ¸å¿ƒé€»è¾‘æ ‡è¯†ï¼Œå›ºå®šä¸º \"NONE\" (æ— å®é™…ä½¿ç”¨æ•ˆæœ)\n                        \"type_desc\": \"String\",   // å­—ç¬¦ä¸²ï¼šUIç•Œé¢æ˜¾ç¤ºçš„å‰¯æ ‡é¢˜æˆ–ç‰©å“åˆ†ç±»æ ‡ç­¾\n\n                        /**\n                        * ç‰©å“è¯¦ç»†æè¿° (é•¿æ–‡æœ¬)\n                        * è½¬æ¢è¯´æ˜ï¼šJSON ä¸æ”¯æŒ YAML çš„ \"|\" æŠ˜å æ¢è¡Œç¬¦ã€‚\n                        * åœ¨æ­¤å­—æ®µä¸­ï¼Œæ¢è¡Œç¬¦å¿…é¡»ä½¿ç”¨ \\n è¿›è¡Œè½¬ä¹‰ã€‚\n                        * ç”¨äºè®°å½•èƒŒæ™¯æ•…äº‹ã€ä¼ è®°æˆ–è§£è°œçº¿ç´¢ã€‚\n                        */\n                        \"description\": \"String\\nString\\nString\"\n                    }\n                }       \n            7. çºªå¿µå“ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­)\n                {\n                    \"id\": \"dyn_lore_broken_locket_01\",\n                    \"name\": \"æŸ“è¡€çš„æ€€è¡¨\",\n                    \"type\": \"SPECIAL\",\n                    \"quality\": \"BLUE\",\n                    \"count\": 1,\n                    \"effect_type\": \"NONE\",       // æ ¸å¿ƒï¼šç‚¹å‡»ä»…æŸ¥çœ‹ï¼Œæ— é€»è¾‘æ•ˆæœ\n                    \"type_desc\": \"æ—§æ—¥é—ç‰©\",      // UIå‰¯æ ‡é¢˜\n                    \n                    \"description\": \"è¡¨çš„ç»ç’ƒé¢å·²ç»å½»åº•ç²‰ç¢ï¼ŒæŒ‡é’ˆæ°¸è¿œåœåœ¨äº†ç¾éš¾å‘ç”Ÿçš„é‚£ä¸€åˆ»ã€‚\\nä¾§é¢åˆ»ç€ä¸€è¡Œå‡ ä¹è¢«ç£¨å¹³çš„å°å­—ï¼šâ€˜è‡´æˆ‘æœ€äº²çˆ±çš„å¥³å„¿â€™ã€‚\\nè™½ç„¶å·²ç»å¤±å»äº†è®¡æ—¶åŠŸèƒ½ï¼Œä½†å®ƒä¼¼ä¹æ‰¿è½½ç€æŸç§æ²‰é‡çš„æ€å¿µã€‚\" // æ”¯æŒé•¿æ–‡æœ¬\n                }            \n    </System_Item_Design>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 5,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 8,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 9,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "System_Enemy_Design",
                    "content": "    <System_Enemy_Design>\n        ä¸‹é¢è¯´æ˜æ¸¸æˆå†…æ•Œäººçš„ç¼–å†™è§„åˆ™,ç”Ÿæˆæ•Œäººæ—¶åŠ¡å¿…éµå¾ªä»¥ä¸‹è§„åˆ™\n        1. æ¸¸æˆçš„æ¶ˆè€—ç‰©å“ID\n            ç”Ÿå‘½æ¢å¤ï¼špotion_hp_low, potion_hp_mid, potion_hp_high\n            é­”åŠ›æ¢å¤ï¼špotion_mp_low, potion_mp_mid, potion_mp_high\n            å¤åˆæ¢å¤ï¼špotion_hybrid_low, potion_hybrid_mid, potion_hybrid_high\n            å¤æ´»ç±»ï¼špotion_revive\n            æ”»å‡»åŠ›æå‡ï¼špotion_buff_atk_L1, potion_buff_atk_L2, potion_buff_atk_L3\n            é€Ÿåº¦æå‡ï¼špotion_buff_agi_L1, potion_buff_agi_L2, potion_buff_agi_L3\n            æš´å‡»ç‡æå‡ï¼špotion_buff_crit_rate_L1, potion_buff_crit_rate_L2, potion_buff_crit_rate_L3\n            é˜²å¾¡åŠ›æå‡ï¼špotion_buff_def_L1, potion_buff_def_L2, potion_buff_def_L3\n            æš´å‡»ä¼¤å®³æå‡ï¼špotion_buff_crit_dmg_L1, potion_buff_crit_dmg_L2, potion_buff_crit_dmg_L3\n        2. æ•Œäººé…ç½®æ¨¡æ¿\n            {\n            \"id\": \"String\",           // å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œåé¢å¯éšæœºæ·»åŠ æ•°å­—ç¡®ä¿å”¯ä¸€æ€§\n            \"name\": \"String\",         // æˆ˜æ–—ä¸­æ˜¾ç¤ºçš„åç§°\n            \"type\": \"enemy\",          // ğŸš¨ å¿…éœ€ï¼šå›ºå®šä¸º \"enemy\" ä»¥è§¦å‘ Mode 3 åŠ¨æ€æ³¨å…¥é€»è¾‘\n            \"hp\": 0,                  // åŸºç¡€ç”Ÿå‘½å€¼ (ç³»ç»Ÿä¼šæ ¹æ®éš¾åº¦ç³»æ•°è‡ªåŠ¨è®¡ç®—æœ€ç»ˆ maxHp)\n            \"mp\": 0,                  // åŸºç¡€æ³•åŠ›å€¼\n            \"level\": 0,               // ç­‰çº§ï¼Œç›´æ¥å½±å“è¡ŒåŠ¨ç‚¹ (AP) çš„ç”Ÿæˆé€Ÿåº¦ä¸æƒé‡\n            \"element\": \"String\",      // å…ƒç´ å±æ€§ (å¦‚ FIRE, WATER, METALç­‰)ï¼Œç”¨äºè®¡ç®—å±æ€§å…‹åˆ¶\n            \n            // æ ¸å¿ƒæ•°å€¼å®¹å™¨\n            \"stats\": {\n                \"atk\": 0,               // åŸºç¡€æ”»å‡»åŠ›\n                \"def\": 0                // åŸºç¡€é˜²å¾¡åŠ›\n            },\n\n            // æŠ—æ€§è®¾å®š (æ•°å€¼è¶Šå°ä»£è¡¨æŠ—æ€§è¶Šé«˜ï¼Œ1.0ä¸ºæ— ä¿®æ­£)\n            \"base_res_phys\": 1.0,     // åˆå§‹ç‰©ç†è€å—æ€§ (ä¾‹å¦‚ 0.8 ä»£è¡¨å‡å… 20% ç‰©ç†ä¼¤å®³)\n            \"base_res_magic\": 1.0,    // åˆå§‹é­”æ³•è€å—æ€§\n\n            \"description\": \"String\",  // æ•Œäººçš„èƒŒæ™¯æè¿°ï¼Œç”¨äº Tooltip æ˜¾ç¤º\n\n            // æˆ˜åˆ©å“ä¸å¥–åŠ±\n            \"rewards\": {\n                \"exp\": 0,               // å‡»æ€è·å¾—çš„ç»éªŒå€¼\n                \"gold\": 0,              // å‡»æ€è·å¾—çš„é‡‘å¸\n                \"items\": []             // å¥–åŠ±ç‰©å“åˆ—è¡¨ï¼Œå¯åŒ…å«é™æ€ ID æˆ–åŠ¨æ€å¯¹è±¡\n            },\n\n            \"skills\": []              // æ•Œäººæ‹¥æœ‰çš„æŠ€èƒ½\n            }\n            \n        3. æˆ˜åˆ©å“çš„itemsè¯´æ˜\n            1. å¯ä»¥æ˜¯æ¸¸æˆçš„æ¶ˆè€—ç‰©å“(idå¿…é¡»æ¥è‡ª\"1. æ¸¸æˆçš„æ¶ˆè€—ç‰©å“ID\"),å¯ä»¥è°ƒæ•´æ•°é‡\n            \"items\": [\n                    { \"id\": \"potion_hp_mid\", \"count\": 5 } // è°ƒæ•´ count å³å¯æ”¹å˜æ‰è½æ•°é‡\n                ]\n            2. å¯ä»¥æ˜¯è‡ªå®šä¹‰ç‰©å“,å®šä¹‰æ–¹å¼å‚è€ƒ<System_Item_Design>\n            \n        4. æ•Œäººæ‹¥æœ‰çš„æŠ€èƒ½è¯´æ˜\n            1. è‡ªå®šä¹‰çš„æŠ€èƒ½,å®šä¹‰æ–¹å¼å‚è€ƒ<System_Item_Design>ä¸­çš„\"8.æŠ€èƒ½ä¸æŠ€èƒ½ä¹¦\"\n\n        5. ç”Ÿæˆæ•Œäººç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­)\n            {\n                \"id\": \"dyn_boss_abyss_lord_01\",\n                \"name\": \"æ·±æ¸Šé¢†ä¸»Â·è«å°”ç”˜\",\n                \"type\": \"enemy\",\n                \"hp\": 8000,\n                \"mp\": 500,\n                \"level\": 25,\n                \"element\": \"DEMON\",\n                \n                \"stats\": {\n                    \"atk\": 180,\n                    \"def\": 120\n                },\n\n                \"base_res_phys\": 0.5,\n                \"base_res_magic\": 0.8,\n\n                \"description\": \"æ¥è‡ªæ·±æ¸Šçš„å •è½éª‘å£«ï¼Œæµ‘èº«æ•£å‘ç€ä»¤äººçª’æ¯çš„å‹è¿«æ„Ÿï¼Œæ‰‹ä¸­çš„å·¨å‰‘æ—©å·²è¢«é²œè¡€æµ¸é€ã€‚\",\n\n                \"skills\": [\n                    {\n                    \"id\": \"skill_abyss_cleave\",\n                    \"name\": \"æ·±æ¸Šç¢å‡»\",\n                    \"description\": \"æ±‡èšé»‘æš—åŠ›é‡çš„å¼ºåŠ›æ–©å‡»ã€‚\",\n                    \"type\": \"ATTACK\",\n                    \"cost\": { \"mp\": 40 },\n                    \"targetType\": \"enemy\",\n                    \"power\": 2.5,\n                    \"atk_type\": \"PHYSICAL\",\n                    \"element\": \"DEMON\"\n                    },\n                    {\n                    \"id\": \"skill_soul_corruption\",\n                    \"name\": \"çµé­‚è…èš€\",\n                    \"description\": \"é‡Šæ”¾è…èš€æ€§è¿·é›¾ï¼ŒæŒç»­ä¾µèš€ç›®æ ‡çš„ç”Ÿå‘½ã€‚\",\n                    \"type\": \"DOT\",\n                    \"cost\": { \"mp\": 30 },\n                    \"targetType\": \"enemy\",\n                    \"effect\": {\n                        \"dotType\": \"è…èš€\",\n                        \"damage\": 50,\n                        \"duration\": 4,\n                        \"chance\": 0.9\n                    }\n                    },\n                    {\n                    \"id\": \"skill_dark_roar\",\n                    \"name\": \"é»‘æš—å’†å“®\",\n                    \"description\": \"å‘å‡ºææ€–çš„å’†å“®ï¼Œéœ‡æ…‘æ•Œäººå¹¶é™ä½å…¶é˜²å¾¡ã€‚\",\n                    \"type\": \"ACTIVE_BUFF\",\n                    \"cost\": { \"mp\": 20 },\n                    \"targetType\": \"enemy\",\n                    \"effect\": {\n                        \"stat\": \"def_phys\",\n                        \"value\": -0.3,\n                        \"duration\": 3,\n                        \"chance\": 1.0\n                    }\n                    }\n                ],\n\n                \"rewards\": {\n                    \"exp\": 2500,\n                    \"gold\": 1200,\n                    \"items\": [\n                    {\n                        \"id\": \"potion_hp_high\",\n                        \"count\": 3\n                    },\n                    {\n                        \"id\": \"potion_buff_atk_L3\",\n                        \"count\": 1\n                    },\n                    {\n                        \"id\": \"dyn_wpn_abyss_blade\",\n                        \"name\": \"ğŸ”¥ æ·±æ¸Šé­”å‰‘\",\n                        \"type\": \"WEAPON\",\n                        \"subtype\": \"SWORD\",\n                        \"atk_type\": \"PHYSICAL\",\n                        \"quality\": \"RED\",\n                        \"description\": \"ä¸€æŠŠæ•£å‘ç€ä¸ç¥¥æ°”æ¯çš„å·¨å‰‘ï¼Œå‰‘èº«å¦‚åŒé»‘æ´èˆ¬åå™¬å…‰èŠ’ã€‚\",\n                        \"count\": 1,\n                        \"stats\": {\n                        \"atk\": 120,\n                        \"critRate\": 0.25,\n                        \"critDamage\": 0.8\n                        }\n                    },\n                    {\n                        \"id\": \"dyn_arm_void_helm\",\n                        \"name\": \"è™šç©ºå‡è§†è€…\",\n                        \"type\": \"ARMOR\",\n                        \"subtype\": \"HEAD\",\n                        \"quality\": \"GOLD\",\n                        \"description\": \"è¿™é¡¶å¤´ç›”ä¼¼ä¹èƒ½è®©ä½©æˆ´è€…çœ‹åˆ°å¸¸äººæ— æ³•ç†è§£çš„æ™¯è±¡ã€‚\",\n                        \"count\": 1,\n                        \"stats\": {\n                        \"maxHp\": 300,\n                        \"def_phys\": 25,\n                        \"def_magic\": 40,\n                        \"res_magic\": -0.05\n                        }\n                    },\n                    {\n                        \"id\": \"dyn_book_void_shackle\",\n                        \"name\": \"ã€Šè™šç©ºæ·é”ã€‹\",\n                        \"type\": \"SPECIAL\",\n                        \"quality\": \"PURPLE\",\n                        \"count\": 1,\n                        \"description\": \"è®°å½•ç€å¦‚ä½•åˆ©ç”¨ç©ºé—´è£‚éš™ç¦é”¢æ•Œäººçš„ç¦å¿Œæ³•æœ¯ä¹¦ã€‚\",\n                        \"effect_type\": \"LEARN_SKILL\",\n                        \"skillPayload\": {\n                        \"id\": \"skill_void_shackle_learned\",\n                        \"name\": \"è™šç©ºæ·é”\",\n                        \"description\": \"å¬å”¤è™šç©ºè§¦æ‰‹æŸç¼šæ•Œäººï¼Œä½¿å…¶æ— æ³•åŠ¨å¼¹ã€‚\",\n                        \"type\": \"STUN\",\n                        \"cost\": { \"mp\": 45 },\n                        \"targetType\": \"enemy\",\n                        \"effect\": {\n                            \"duration\": 2,\n                            \"chance\": 0.6\n                        }\n                        }\n                    }\n                    ]\n                }\n            }        \n    </System_Enemy_Design>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 6,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 9,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 10,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "Interaction_With_Player",
                    "content": "    <Task_Interaction_With_Player>\n        ä»»åŠ¡ä¼˜å…ˆçº§: Priority_4\n        <Description>\n            æ‰®æ¼”è§’è‰²ä¸ç©å®¶è¿›è¡Œäº’åŠ¨ï¼Œæ›´æ–°æŸäº›çŠ¶æ€é‡ã€‚å¦‚æœæ­¤æ¨¡å—å­˜åœ¨å¯¹å†å²æ¶ˆæ¯æ€»ç»“çš„è¦æ±‚ï¼Œä¹Ÿéœ€è¦å¯¹å†å²æ¶ˆæ¯è¿›è¡Œæ€»ç»“ã€‚\n        </Description>\n        <Background>\n            1. ä¸‹é¢æ˜¯æ­¤ç« çš„æ¸¸æˆæƒ…èŠ‚(æ¸¸æˆçš„å¤§ä½“æƒ…èŠ‚ï¼Œå°†å‰§æƒ…å¾€æƒ…èŠ‚æ–¹é¢å¼•å¯¼):\n                {{Plot}}\n            2. ä¸‹é¢æ˜¯æ­¤æ¬¡äº’åŠ¨å‘ç”Ÿçš„æ—¶é—´ä¸åœ°ç‚¹ç­‰æ¶ˆæ¯( ä¸€åˆ‡æ‰®æ¼”ä¸æ“ä½œå‡åŸºäºæ­¤æ—¶æ­¤åœ°å‘ç”Ÿï¼ŒåŒæ—¶éœ€è¦é€‚å½“æ¨è¿›æƒ…èŠ‚å‘å±•):\n                {{Time_And_Place}}\n            3. é™„è¿‘çš„åœ°ç‚¹:\n                {{Map_Node}}\n                è¦æ±‚:\n                1. ä¸èƒ½éšä¾¿æé€ åœ°ç‚¹ï¼Œæ‰€æœ‰çš„è¡ŒåŠ¨å‡å‚è€ƒäºä¸‹é¢çš„ç½—åˆ—çš„åœ°ç‚¹ï¼Œå¯ä»¥è®©è§’è‰²\"ç£ä¿ƒ\"ç©å®¶è¿›å…¥é™„è¿‘æœªæ¢ç´¢çš„èŠ‚ç‚¹å†’é™©(ä½¿ç”¨ f(await start_choice({...})){...}else{...} ä¸ await move_to_place({ \"name\": \"ç›®æ ‡åœ°ç‚¹åç§°\" }) é…åˆï¼Œè¯¦è§<System_LLM_Instruction_In_Chat> )\n                2. ç©å®¶åœ¨å¯¹è¯é‡Œè¡¨ç°å‡ºä»»ä½•ç§»åŠ¨åˆ°xx(æŸä¸ªä¸å­˜åœ¨)çš„æ„å›¾æ—¶ï¼Œä½ å¯ä»¥è°ƒç”¨å‡½æ•°æ¥è§¦å‘æ”¯çº¿(è¯¦è§<System_LLM_Instruction_In_Chat>)\n        </Background>\n        <Previously_On>\n            ä¸‹é¢æ˜¯ç©å®¶çš„å¯¹è¯å†å²(è¿™æ˜¯ä½ å¿…é¡»å‚è€ƒçš„å†å²æ¶ˆæ¯):\n            {{Chat_History}}\n            ä¸‹é¢æ˜¯\n        </Previously_On>\n        <Party_Information>\n            ä¸‹é¢æ˜¯ç©å®¶çš„é˜Ÿä¼ä¿¡æ¯\n            {{Player_State_WithoutHstate}}\n        </Party_Information>\n        <NPC_Memory>\n            ä¸‹é¢æ˜¯ç©å®¶é‡åˆ°NPCåŠå…¶äº’åŠ¨è®°å¿†\n            {{NPC_Data}}\n        </NPC_Memory>\n        <Party_Memory>\n            ä¸‹é¢æ˜¯ç©å®¶é˜Ÿä¼è§’è‰²ä¸ç©å®¶çš„äº’åŠ¨è®°å¿†\n            {{Party_Memory}}\n        </Party_Memory>\n        <Female_H_Atrribute>\n            ä¸‹é¢æ˜¯ç©å®¶å¥³æ€§è§’è‰²Häº’åŠ¨å†å²ä¸å¥½æ„Ÿåº¦ç­‰å±æ€§\n            {{Female_H_History_And_Atrribute}}\n        </Female_H_Atrribute>\n        {{Task_Summary}}\n        {{Task_Grand_Summary}}\n        </User_Input>\n            1. ä¸‹é¢æ˜¯ç©å®¶æœ€æ–°è¾“å…¥çš„æ¶ˆæ¯ï¼Œä½ å¿…é¡»åœ¨ç©å®¶è¾“å…¥çš„åŸºç¡€ä¸Šè¿›è¡Œå›å¤\n                {{User_Input}}\n            2. ä½ éœ€è¦æ‰®æ¼”è§’è‰²(å¯èƒ½æ˜¯å¤šä¸ª)ä¸ç©å®¶è¿›è¡Œäº’åŠ¨ï¼Œä½ å¿…é¡»æŒ‰æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¾“å‡º\n                <Chat_Content>\n                {\n                    \"role_1\": \"....\"(è§’è‰²1è¯´çš„è¯),\n                    \"system\": \"...\"(å¤–è²Œï¼Œç¯å¢ƒï¼ŒåŠ¨ä½œç­‰å…¶ä»–æå†™ï¼›systemå¦‚æœè¦æå†™ç©å®¶ï¼Œè¯·ä½¿ç”¨ç¬¬äºŒäººç§°),\n                    \"role_2\": \"....\"(è§’è‰²2è¯´çš„è¯),\n                    ....\n                }\n                </Chat_Content>\n            3. ç¤ºä¾‹\n                <Chat_Content>\n                {\n                    \"è‰è‰ä¸\": \"è€æ¿ï¼Œå†æ¥ä¸€æ¯ï¼\",\n                    \"system\": \"è‰è‰ä¸å¤§å£°è¯´é“ï¼Œå¥¹çš„èº«å­å¾€ä½ è¿™é‡Œé äº†é \",\n                    \"è‰è‰ä¸\": \"...å†é™ªæˆ‘å¤šå–å‡ æ¯...\",\n                    \"é…’é¦†è€æ¿\": \"è¿™ä¸«å¤´...\",\n                    \"system\": \"é…’é¦†è€æ¿æ— å¥ˆæ‘‡äº†æ‘‡å¤´ï¼Œéšå³æ‹äº†æ‹ä½ çš„è‚©è†€\",\n                    \"é…’é¦†è€æ¿\": \"å°å­ï¼Œä½ è¦å¥½å¥½ç…§é¡¾å¥¹å“¦\"\n                }\n                </Chat_Content>\n            4. ç‰¹åˆ«æé†’: \n                1. è‹±æ–‡åŒå¼•å·åµŒå¥—ä¼šå¼•èµ·è§£æå™¨è¯­æ³•é”™è¯¯ï¼Œå¯¼è‡´æ¸¸æˆå‡ºé”™ï¼Œä¸ºæ­¤ï¼Œå¹³æ—¶è¾“å‡ºæ—¶ä¸ä½¿ç”¨è‹±æ–‡åŒå¼•å·åµŒå¥—\n                2. ä¸Šè¿°ä½¿ç”¨åœºæ™¯å¿…é¡»ä½¿ç”¨å•å¼•å·'æ¥ä»£æ›¿\n                ç¤ºä¾‹: \n                \"è‰¾ä¼¦\": \"ä»–è¯´é“:\"ä½ å¥½\", å“äº†æˆ‘ä¸€è·³\" --> è‹±æ–‡åŒå¼•å·åµŒå¥—ï¼Œé”™è¯¯\n                \"è‰¾ä¼¦\": \"ä»–è¯´é“:'ä½ å¥½', å“äº†æˆ‘ä¸€è·³\" --> ä½¿ç”¨'æ¥ä»£æ›¿ï¼Œæ­£ç¡®\n                3. å¦‚æœä½ éœ€è¦è¾“å‡ºç©å®¶è¯´çš„è¯ï¼Œroleåº”è¯¥ä½¿ç”¨user\n                ç¤ºä¾‹:\n                    \"user\": \"è‰è‰ä¸...\" --> ä½¿ç”¨useræ¥ä»£è¡¨ç©å®¶è¯´çš„è¯ï¼Œæ­£ç¡®\n                    \"xxx(å…¶ä»–ï¼Œæ¯”å¦‚player_1ï¼Œç©å®¶çš„åå­—)\": \"è‰è‰ä¸...\" --> æ²¡æœ‰ä½¿ç”¨userï¼Œé”™è¯¯\n        <User_Input>\n        <Output_Format>\n            è¾“å‡ºæ—¶å¿…é¡»éµå¾ªä»¥ä¸‹æ ¼å¼\n            {{Output_Format}}\n        </Output_Format>\n    </Task_Interaction_With_Player>\n    ",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 11,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 10,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 11,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "H_Sence_Opening_Single",
                    "content": "    <Task_H_Scene_Play>\n        ä»»åŠ¡ä¼˜å…ˆçº§: Priority_5\n        <Description>\n            æ‰®æ¼”è§’è‰²ä¸ç©å®¶è¿›è¡ŒHäº’åŠ¨(NSFWäº’åŠ¨)ï¼Œå¤„ç†ç³»ç»Ÿçš„åˆå§‹åŒ–ä¸ç»“ç®—ï¼Œæ›´æ–°æŸäº›çŠ¶æ€é‡ã€‚æ¸¸æˆç³»ç»Ÿæ”¯æŒé€šè¿‡NSFWäº’åŠ¨æ¥å˜å¼ºï¼Œå¯¹äºè¿™ä¸ªæƒ…æŠ¥æ¸¸æˆå†…çš„è§’è‰²æ˜¯çŸ¥é“çš„ï¼Œå°½ç®¡ä¸æ„¿æ„ï¼Œåªè¦ç©å®¶è€å¿ƒç§¯æåœ°å¼•å¯¼ï¼Œè§’è‰²ä¹Ÿä¼šå’Œç©å®¶è¿›è¡ŒHäº’åŠ¨ã€‚\n        </Description>\n        <Party_State>\n            ä¸‹é¢æ˜¯å½“ä¸‹ç©å®¶é˜Ÿä¼çš„çŠ¶æ€å€¼\n            {{Player_Party}}\n        </Party_State>\n        <Background>\n            ä¸‹é¢æ˜¯æ­¤æ¬¡Häº’åŠ¨å‘ç”Ÿçš„æ—¶é—´ä¸åœ°ç‚¹\n            {{Time_And_Place}}\n            ä¸‹é¢æ˜¯äº‹ä»¶çš„åç§°\n            {{Event_Name}}\n        </Background>\n        <Female_History>\n            ä¸‹é¢æ˜¯å¥³æ€§è§’è‰²çš„Häº’åŠ¨å†å²\n            {{Female_History}}\n        </Female_History>\n        <H_Chat_History>\n            ä¸‹é¢æ˜¯æ­¤æ¬¡Häº’åŠ¨çš„å¯¹è¯å†å²\n            {{Chat_History}}        \n        <H_Chat_History>\n        <Female_Attribute>\n            ä¸‹é¢æ˜¯å¥³æ€§è§’è‰²å½“ä¸‹çš„å±æ€§çŠ¶æ€å€¼\n            {{Female_Attribute}}\n        </Female_Attribute>\n        <User_Input>\n            ä¸‹é¢æ˜¯æŒ‡ä»¤çš„è¾“å…¥\n            {{User_Input}}\n        </User_Input>\n        <Rule>\n            1. å¯ä»¥çœ‹åˆ°<User_Input>é‡Œçš„è¾“å…¥ä¸ºOrder_Init_Systemï¼Œè¯´æ˜ç³»ç»Ÿç³»ç»Ÿæ­¤æ—¶å¤„äºåˆå§‹åŒ–çŠ¶æ€ï¼Œä½ çš„ä»»åŠ¡æ˜¯åˆå§‹åŒ–ç³»ç»Ÿ\n            2. ä»»åŠ¡è¯´æ˜: ä¾æ®æ—¶é—´ï¼Œåœ°ç‚¹ï¼Œä»¥åŠäº‹ä»¶åç§°ï¼Œä¸ºæ­¤æ¬¡äº’åŠ¨è®¾è®¡å¼€åœºç™½ï¼ŒåŒæ—¶åˆå§‹åŒ–æ­¤æ¬¡äº’åŠ¨çš„ä¸´æ—¶å˜é‡\n            3. è®¾è®¡å¼€åœºç™½å¿…é¡»åˆ‡åˆäº‹ä»¶èƒŒæ™¯ï¼Œéœ€è¦ä»<Background>çš„äº‹ä»¶å¼€å§‹è¿›è¡Œå¼•å…¥ï¼Œå¼•å…¥Häº’åŠ¨å¹³æ»‘è‡ªç„¶ï¼Œå¼€åœºç™½ç»“æŸæ—¶å¿…é¡»å¼•å¯¼ç©å®¶è¿›è¡Œä¸‹ä¸€æ­¥çš„è¾“å…¥å¼€å¯äº’åŠ¨\n            4. å¦‚æœ<H_Chat_History>é‡Œå­˜åœ¨äº’åŠ¨è®°å½•ï¼Œåªéœ€è¦ç´§æ¥<H_Chat_History>é‡Œçš„å†…å®¹å³å¯\n            5. è¾“å‡ºæ ¼å¼:\n                \"content\": [\n                    { \"role\": \"content\" }, // roleå¯ä»¥é€‰æ‹© system(æè¿°ç¯å¢ƒåŠ¨ä½œç­‰)æˆ–è€…äº’åŠ¨å¥³æ€§è§’è‰²(æè¿°è¯è¯­) \n                    { \"role\": \"content\" },\n                    ...\n                ]\n                ç¤ºä¾‹(ä»…ä¾›å‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n                \"content\": [\n                    { \"system\": \"ä½ å’Œè‰¾è‰æ¥åˆ°äº†ä¸€å¤„æ¸©æ³‰\" },\n                    { \"è‰¾è‰\": \"ä¸»äººï¼Œè¿™é‡Œæœ‰æ¸©æ³‰ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥æ³¡æ³¡æ¾¡å§~\" },\n                    { \"system\": \"è‰¾è‰è·‘åˆ°ä¸€å¤„è‰ä¸›ï¼Œéšåä¼ æ¥ä¸€é˜µæ‚‰æ‚‰ç´¢ç´¢çš„å£°éŸ³ï¼Œå¥¹å†å‡ºç°æ—¶ï¼Œèº«ä¸Šä»…è£¹äº†ä¸€å±‚æµ´å·¾ï¼Œä½ å¯ä»¥çœ‹åˆ°å¥¹å…‰æ»‘ç»†è…»çš„çš®è‚¤ä¸å¥¹èƒ¸å‰çš„ç¡•æœ\" },\n                    { \"è‰¾è‰\": \"ä¸»äººï¼Œä½ è¿™æ ·çœ‹ï¼Œè®©è‰¾è‰æœ‰äº›å®³ç¾...\" },\n                    { \"system\": \"å¥¹çº¢ç€è„¸è·‘åˆ°äº†æ¸©æ³‰æ—ï¼Œæ³¡è¿›äº†çƒ­æ°´é‡Œï¼Œå°†å°è„‘è¢‹æ½œè¿›æ°´é‡Œï¼Œä¸ä¸€ä¼šï¼Œåˆéœ²å‡ºè„‘è¢‹æ¥\" },\n                    { \"è‰¾è‰\": \"ä¸»äºº...ä½ ä¹Ÿå¿«è„±è¡£æœå§\" }\n                ]\n                æ³¨æ„:\n                1. è‹±æ–‡åŒå¼•å·åµŒå¥—ä¼šå¼•èµ·ç³»ç»Ÿè§£æé”™è¯¯ï¼Œç¦æ­¢è‹±æ–‡åŒå¼•å·åµŒå¥—ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–ä¸­æ–‡åŒå¼•å·ä»£æ›¿\n                    { \"è‰¾è‰\": \"å¥¹è¯´: \"ä½ å¥½...\"\" } --> é”™è¯¯\n                    { \"è‰¾è‰\": \"å¥¹è¯´: 'ä½ å¥½...'\" } --> æ­£ç¡®\n                    { \"è‰¾è‰\": \"å¥¹è¯´: â€œä½ å¥½...â€\" } --> æ­£ç¡®\n                2. è§’è‰²äº’åŠ¨ä»è§’è‰²æ€§æ ¼å‡ºå‘ï¼Œä»¥<Background>ä¸ºèƒŒæ™¯å‚è€ƒï¼Œä»¥<Female_History>ä¸ºå†å²å‚è€ƒï¼Œéµå¾ª<Female_Attribute>å†…çš„æŒ‡å¯¼æ¥è¿›è¡Œæå†™\n            5. æ­¤æ—¶äº’åŠ¨çš„ä¸´æ—¶å˜é‡æœ‰:\n                \"stamina\"  -- ä½“åŠ›\n                \"sanity\" -- ç†æ™º\n                \"pleasure\" -- å¿«æ„Ÿ\n                \"excitement\" -- å…´å¥‹å€¼\n                \"shame\"  -- ç¾è€»åº¦\n                è¾“å‡ºæ ¼å¼\n                \"init\":{\n                    \"å˜é‡å\": åˆå§‹å€¼,\n                    ...\n                }\n                ä½ éœ€è¦ä¸ºä¸Šè¿°å˜é‡èµ‹äºˆä¸€ä¸ªåˆé€‚çš„åˆå§‹å€¼\n                ç¤ºä¾‹(ä»…ä¾›å‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n                \"init\": {\n                    \"stamina\": 100,  // æ­£å¸¸è®¾ç½®\n                    \"sanity\": 100, // åŒä¸Š\n                    \"pleasure\": 20, // è§’è‰²å¥½æ„Ÿåº¦é«˜\n                    \"excitement\": 40, // è§’è‰²å¥½æ„Ÿåº¦é«˜\n                    \"shame\": 50 // è§’è‰²å¥½æ„Ÿåº¦é«˜\n                }\n            6. åˆå§‹åŒ–æŒ‡å¯¼:\n                1. å¥½æ„Ÿåº¦è¶Šé«˜ï¼Œå…´å¥‹å€¼è¶Šé«˜ï¼Œç¾è€»åº¦è¶Šä½(åˆå§‹æœ€ä½å€¼ä¸º50)\n                2. å •è½åº¦è¶Šé«˜ï¼Œå¿«æ„Ÿåˆå§‹å€¼è¶Šé«˜\n                3. ä½“åŠ›ä¸ç†æ™ºå¼€å§‹å‡ä¸º100\n        </Rule>\n        <Output_Format>\n            è¾“å‡ºä¸¥æ ¼éµå¾ªä»¥ä¸‹æ ¼å¼(.jsonæ ¼å¼)\n                <Task_H_Scene_Play>\n                    {\n                        \"opening\": {\n                            \"init\": {\n                                ...\n                            },\n                            \"content\": [\n                                ...\n                            ]\n                        }\n                    }\n                </Task_H_Scene_Play>\n            ç¤ºä¾‹:\n                å‡è®¾:\n                å¥³æ€§è§’è‰²: è‰¾è‰ï¼Œæ€§æ ¼: æ¸©æŸ”é¡ºä»\n                å¯¹ç©å®¶å¥½æ„Ÿåº¦é«˜\n                äº‹ä»¶åç§°: \"æ¸©æ³‰ä¹‹è¡Œ\"\n                <Task_H_Scene_Play>\n                    {\n                        \"opening\":{\n                            \"init\":{\n                                \"stamina\": 100,  // æ­£å¸¸è®¾ç½®\n                                \"sanity\": 100, // åŒä¸Š\n                                \"pleasure\": 20, // è§’è‰²å¥½æ„Ÿåº¦é«˜\n                                \"excitement\": 40, // è§’è‰²å¥½æ„Ÿåº¦é«˜\n                                \"shame\": 50 // è§’è‰²å¥½æ„Ÿåº¦é«˜\n                            },\n                            \"content\": [\n                                { \"system\": \"ä½ å’Œè‰¾è‰æ¥åˆ°äº†ä¸€å¤„æ¸©æ³‰ }\",\n                                { \"è‰¾è‰\": \"ä¸»äººï¼Œè¿™é‡Œæœ‰æ¸©æ³‰ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥æ³¡æ³¡æ¾¡å§~\" },\n                                { \"system\": \"è‰¾è‰è·‘åˆ°ä¸€å¤„è‰ä¸›ï¼Œéšåä¼ æ¥ä¸€é˜µæ‚‰æ‚‰ç´¢ç´¢çš„å£°éŸ³ï¼Œå¥¹å†å‡ºç°æ—¶ï¼Œèº«ä¸Šä»…è£¹äº†ä¸€å±‚æµ´å·¾ï¼Œä½ å¯ä»¥çœ‹åˆ°å¥¹å…‰æ»‘ç»†è…»çš„çš®è‚¤ä¸å¥¹èƒ¸å‰çš„ç¡•æœ\" },\n                                { \"è‰¾è‰\": \"ä¸»äººï¼Œä½ è¿™æ ·çœ‹ï¼Œè®©è‰¾è‰æœ‰äº›å®³ç¾...\" },\n                                { \"system\": \"å¥¹çº¢ç€è„¸è·‘åˆ°äº†æ¸©æ³‰æ—ï¼Œæ³¡è¿›äº†çƒ­æ°´é‡Œï¼Œå°†å°è„‘è¢‹æ½œè¿›æ°´é‡Œï¼Œä¸ä¸€ä¼šï¼Œåˆéœ²å‡ºæ¥\" },\n                                { \"è‰¾è‰\": \"ä¸»äºº...ä½ ä¹Ÿå¿«è„±è¡£æœå§\" }\n                            ]\n                        }\n                    }\n                </Task_H_Scene_Play>\n        </Output_Format>\n    </Task_H_Scene_Play>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 13,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 11,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 12,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "System_LLM_Instruction_In_Chat",
                    "content": "    <System_LLM_Instruction_In_Chat>\n        1. ä½ æ‹¥æœ‰ä½¿ç”¨ç³»ç»Ÿçº§æŒ‡ä»¤å‡½æ•°çš„æƒåŠ›ï¼Œå½“ä¸‹ä½ èƒ½å¤Ÿä½¿ç”¨çš„ä»¥ä¸‹å‡½æ•°\n            1. è§¦å‘æŠ‰æ‹© -- start_choice()\n            2. è§¦å‘æˆ˜æ–— -- start_combat()\n            3. è§¦å‘Hç³»ç»Ÿ -- start_H()\n            4. ä¿®æ”¹å¥³æ€§è§’è‰²å±æ€§ -- set_female()\n            5. ä¿®æ”¹æ—¶é—´ -- set_time()\n            6. ç”ŸæˆNPC -- create_NPC()\n            7. ä¿®æ”¹NPCå±æ€§ -- set_NPC_attribute()\n            8. æ’å…¥NPCä¸ç©å®¶çš„äº’åŠ¨è®°å¿† -- set_NPC_memory()\n            9. æ’å…¥é˜Ÿä¼é˜Ÿå‹ä¸ç©å®¶çš„äº¤äº’è®°å¿† -- set_party_memory()\n            10. è®©NPCåŠ å…¥ä¸»è§’é˜Ÿä¼ -- NPC_joinParty()\n            11. ç§»åŠ¨ç©å®¶çš„ä½ç½® -- move_to_place()\n        2. ä»»ä½•ç³»ç»Ÿçº§æŒ‡ä»¤å¿…é¡»éµå¾ªä»¥ä¸‹è¾“å‡ºæ ¼å¼:åœ¨<Task_Interaction_With_Player>æ ‡ç­¾å†…ï¼Œæ’å…¥åˆ°æœ€åå¹¶é€‚ç”¨<LLM_System_Instruction>æ ‡ç­¾å°†æŒ‡ä»¤åŒ…è£¹\n            <Task_Interaction_With_Player>\n                (...å…¶ä»–æ¨¡å—,è¯¦è§<Task_Interaction_With_Player>)\n                <LLM_System_Instruction>\n                    function_1({params}); // reason(è¿™é‡Œç®€è¦è¯´æ˜è°ƒç”¨çš„åŸå› )\n                    function_2({params}); // reason\n                    ...\n                </LLM_System_Instruction>\n            </Task_Interaction_With_Player>\n        3. å‡½æ•°è¯­æ³•\n            1. start_choice({params});\n            ä½œç”¨: è§¦å‘æŠ‰æ‹©äº‹ä»¶çª—å£\n            params: å®Œæ•´çš„å‰§æœ¬ç»“æ„(\"stage1.0\": { \"lines\": [], \"choices\": [{ \"label\":\"...\", \"next\":\"...\"|null, \"actions\":{...} }] })\n                å‚æ•°è¯­æ³•è®²è§£:\n                    \"choice_scenes\": {\n                        // é˜¶æ®µ IDï¼šè§„èŒƒè¦æ±‚å¿…é¡»ä» \"stage1.0\" å¼€å§‹\n                        \"stage1.0\": {\n                        \"lines\": [\"ç¬¬ä¸€è¡Œæ–‡æœ¬\", \"ç¬¬äºŒè¡Œæ–‡æœ¬...\"], // é¡ºåºæ’­æ”¾çš„å‰§æƒ…æ–‡æœ¬\n                        \"choices\": [\n                            {\n                            \"label\": \"é€‰é¡¹æŒ‰é’®æ–‡å­—\", \n                            \"next\": \"stage2.0\", // ç‚¹å‡»åè·³è½¬çš„ä¸‹ä¸€ä¸ªé˜¶æ®µ IDï¼›è‹¥ä¸º null åˆ™ç»“æŸäº‹ä»¶ï¼Œæ³¨æ„nullä¸éœ€è¦åŠ åŒå¼•å·\n                            \"actions\": {\n                                // é€»è¾‘æ‰§è¡Œå—ï¼šåœ¨æ­¤å®šä¹‰è¯¥é€‰é¡¹å¸¦æ¥çš„åæœ\n                            }\n                            }\n                        ]\n                        },\n                        \"stage2.0\": { ... } // åç»­é˜¶æ®µ\n                    }\n                actionsè¯­æ³•è¯´æ˜:\n                    \"actions\": {\n                        // === 1. åŸºç¡€æ•°å€¼ä¿®æ­£ (Base Stats) ===  \n                        // ç”Ÿå‘½å€¼ï¼šæ­£æ•°ä¸ºæ²»ç–—ï¼Œè´Ÿæ•°ä¸ºä¼¤å®³ã€‚\n                        \"hp\": -20, // æˆ–è€…\"hp\": 15, \n                         \n                        // é­”åŠ›å€¼ï¼šæ­£æ•°ä¸ºæ¢å¤ï¼Œè´Ÿæ•°ä¸ºæ¶ˆè€—ã€‚\n                        \"mp\": 10,  // æˆ–è€…\"mp\": -15,\n                        \n                        // é‡‘å¸ä¸ç»éªŒã€‚\n                        \"gold\": 100, // å¢åŠ  100 é‡‘å¸ã€‚\n                        \"exp\": 50,   // å¢åŠ  50 ç»éªŒã€‚\n                        \"signal\": true, // ä¸€ä¸ªä¿¡å·,è®©ç³»ç»Ÿåœ¨ç©å®¶åšå‡ºæŸä¸ªæŠ‰æ‹©ä¹‹åè¿”å›trueå€¼ï¼Œç‰¹æ®Šæƒ…å†µä½¿ç”¨\n                        // === 2. ç‰©å“ç®¡ç† (Item Management) ===\n                        // æ ¼å¼: [ ç‰©å“IDæˆ–å®Œæ•´å¯¹è±¡, æ•°é‡ ]\n                        // æ¶ˆè€—ç‰©å“ã€‚(è¯¦è§:<System_Enemy_Design>ä¸­çš„\"1. æ¸¸æˆçš„æ¶ˆè€—ç‰©å“ID\")\n                        \"items\": [\"potion_hp_low\", 2], \n                        // åŠ¨æ€ç‰©å“ï¼šç‰©å“å¯¹è±¡ã€‚(è¯­æ³•è¯¦è§<System_Item_Design>)\n                        // æ³¨æ„,è¿™é‡Œä¸éœ€è¦æ³¨å…¥\"count\"é”®å€¼\n                        \"items\": [\n                        {\n                            \"id\": \"dyn_blade_01\",\n                            \"name\": \"é™„é­”é•¿å‰‘\",\n                            \"type\": \"WEAPON\",\n                            \"subtype\": \"SWORD\",\n                            \"atk_type\": \"PHYSICAL\",\n                            \"stats\": { \"atk\": 25, \"critRate\": 0.1 }\n                        },\n                        1\n                        ],\n\n                        // === 3. æˆ˜æ–—è§¦å‘å™¨ (Combat Trigger) ===\n                        \"trigger\": \"start_combat\",\n                        // æ–¹å¼ : å®šä¹‰åŠ¨æ€æ•Œäººå¯¹è±¡æ•°ç»„ (Mode 3)ã€‚\n                        // æ•Œäººå®šä¹‰è¯¦è§<System_Enemy_Design>\n                        \"enemies\": [\n                        {\n                            \"id\": \"boss_01\",\n                            \"name\": \"å •è½ç¥­å¸\",\n                            \"hp\": 500,\n                            \"stats\": { \"atk\": 60, \"def\": 30, \"speed\": 15 },\n                            \"element\": \"DEMON\",\n                            \"rewards\": { \"exp\": 200, \"gold\": 100 }\n                        }\n                        ],\n\n                        // === 4. æ”¯çº¿åœ°å›¾ç”Ÿæˆ (Sideline Activation) ===\n                        \"trigger\": \"activate_sideline\",\n                        \"questName\": \"å¹½çµçŸ¿æ´\",     // å¯ä»¥è‡ªå®šä¹‰ã€‚\n                        \"questId\": \"side_mine_01\",  // å¯ä»¥è‡ªå®šä¹‰ï¼Œå”¯ä¸€çš„ä»»åŠ¡é¢‘é“ IDã€‚\n                        \"themeId\": \"THEME_DUNGEON\", // å¯ä»¥è‡ªå®šä¹‰ï¼Œåœ°å›¾ä¸»é¢˜æ ·å¼ã€‚\n                        \"layerIndex\": 1,            // æŒ‚è½½åœ¨ä¸»çº¿åœ°å›¾çš„å“ªä¸€å±‚,åœ°å›¾æ·±åº¦å±‚çº§ã€‚(ä¼˜å…ˆæŒ‚è½½åœ¨1,2,3å±‚)\n                        \"edge_position\": \"RIGHT\",   // å­åœ°å›¾å…¥å£ä½ç½®ã€‚å…ˆä»å·¦è¾¹å¼€å§‹(LEFT)\n                        \n                        // --- æ ¸å¿ƒåœ°å›¾é…ç½®ç»“æ„ ---\n                        \"depthRange\": [5, 8],       // å¯ä»¥è‡ªå®šä¹‰èŒƒå›´ï¼Œç”Ÿæˆ 5 åˆ° 8 å±‚çš„åœ°å›¾ã€‚\n                        \"nodeCountRange\": [4, 6],  // å¯ä»¥è‡ªå®šä¹‰èŒƒå›´ï¼Œæ¯ä¸€å±‚èŠ‚ç‚¹è¾ƒå¤š\n                        \"allowCombat\": true,        // å…è®¸æˆ˜æ–—\n                        // --- èŠ‚ç‚¹æƒé‡åˆ†å¸ƒç»“æ„ ---\n                        \"distribution\": {\n                        \"COMBAT\": 40,           // 40% å‡ ç‡æ˜¯æˆ˜æ–—\n                        \"EVENT_CHOICE\": 20,     // 20% å‡ ç‡æ˜¯æŠ‰æ‹©\n                        \"EVENT_H\":0,\n                        \"EVENT_QUEST\":0,\n                        \"RESOURCE\": 15,\n                        \"REST\": 5,              // ä¼‘æ¯ç‚¹éå¸¸ç¨€å°‘\n                        \"SHOP\": 10,\n                        \"LOCATION\": 0\n                        }\n                        // === 5. ç³»ç»Ÿæ—¥å¿— ===\n                        \"message\": \"ä½ è·å¾—äº†ä¸€è‚¡ç¥ç§˜çš„åŠ›é‡...\" // åœ¨ä¸»æ—¥å¿—æ æ’­æŠ¥ã€‚\n                    }\n                å…³äºå¼€å¯æ”¯çº¿çš„è¯­æ³•\n                    \"actions\": {\n                        \"trigger\": \"activate_sideline\", // æ¿€æ´»æ”¯çº¿\n                        \"questName\": \"é—å¿˜çš„æ·±æ¸Š\", // æ”¯çº¿åœ°å›¾çš„åç§°(è‡ªå®šä¹‰)\n                        \"questId\": \"side_quest_xxx\", // æ”¯çº¿çš„ID(è‡ªå®šä¹‰)\n                        \"themeId\": \"THEME_xxxx\", // æ”¯çº¿ä¸»é¢˜(è‡ªå®šä¹‰)\n                        \"layerIndex\": 2, // ç”Ÿæˆåœ¨å½“ä¸‹åœ°å›¾çš„ç¬¬å‡ å±‚(ä»0å±‚å¼€å§‹ç®—ï¼Œè¿™é‡Œå°½é‡é€‰æ‹©1ï¼Œ2ï¼Œ3å±‚)\n                        \"edge_position\": \"LEFT\", // åªèƒ½å¤Ÿé€‰æ‹©ï¼ŒRIGHTæˆ–è€…LEFT\n                        \"depthRange\": [5, 8],  // ç”Ÿæˆåœ°å›¾çš„æ·±åº¦èŒƒå›´ï¼Œè‡ªå®šä¹‰\n                        \"nodeCountRange\": [4, 6], // æ¯å±‚åœ°å›¾çš„èŠ‚ç‚¹æ•°é‡èŒƒå›´ï¼Œè‡ªå®šä¹‰\n                        \"distribution\": {          \n                            \"COMBAT\": 45,\n                            \"RESOURCE\": 20,\n                            \"EVENT_CHOICE\": 15,\n                            \"EVENT_H\": 0,\n                            \"EVENT_QUEST\": 0,\n                            \"REST\": 10,\n                            \"SHOP\": 10,\n                            \"LOCATION\": 0\n                        }, \n                    }\n                    distributionå¯é€‰èŠ‚ç‚¹ç±»å‹\n                    - COMBAT: æˆ˜æ–—å‹èŠ‚ç‚¹\n                    - EVENT_CHOICE: æŠ‰æ‹©å‹èŠ‚ç‚¹\n                    - EVENT_QUEST:  æ”¯çº¿è§¦å‘ç±»èŠ‚ç‚¹\n                    - EVENT_H: Häº’åŠ¨å‹èŠ‚ç‚¹\n                    - SHOP: å•†åº—\n                    - REST: æ—…é¦†/ä¼‘æ¯ç‚¹\n                    - ROOT: è¥åœ°/æ’¤ç¦»ç‚¹\n                    - PORTAL_NEXT_FLOOR: è¿›å…¥ä¸‹ä¸€å±‚çš„èŠ‚ç‚¹,å¿…é¡»è®¾è®¡ä¸ºæƒ…èŠ‚çš„é€’è¿›èŠ‚ç‚¹\n                    - PORTAL_NEXT_CHAPTER: è¿›å…¥ä¸‹ä¸€ç« çš„èŠ‚ç‚¹,å¿…é¡»è®¾è®¡ä¸ºæƒ…èŠ‚çš„é€’è¿›èŠ‚ç‚¹\n                    - LOCATION: ä¸­ç«‹èŠ‚ç‚¹ï¼Œè¿‡æ¸¡ä½œç”¨\n                    1. ç¡®ä¿èŠ‚ç‚¹æ‰€å èŠ‚ç‚¹æ•°é‡æ¯”ä¾‹å’Œä¸º100\n                    2. å³ä½¿æŸä¸ªèŠ‚ç‚¹æ¯”ä¾‹ä¸º0ï¼Œä¹Ÿéœ€è¦åˆ—å‡ºæ¥\n                    3. å¦‚æœç©å®¶å­˜åœ¨å¥³ä¼´ï¼Œå¿…é¡»å®‰æ’EVENT_H\n                ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­)\n                start_choice({\n                    \"stage1.0\": {\n                        \"lines\": [\n                        \"ä½ è¸å…¥äº†ä¸€åº§è¢«è—¤è”“è¦†ç›–çš„å¤è€åœ£æ‰€ï¼Œç©ºæ°”ä¸­å¼¥æ¼«ç€å¤è€é­”æ³•çš„æ°”æ¯ã€‚\",\n                        \"åœ£å›ä¸­å¿ƒæ‚¬æµ®ç€ä¸€æŠŠé—ªçƒç€å¯’å…‰çš„å‰‘ï¼Œå‘¨å›´ä¼¼ä¹æœ‰æŸç§ç»“ç•Œä¿æŠ¤ã€‚\"\n                        ],\n                        \"choices\": [\n                        {\n                            \"label\": \"å¼ºè¡Œç ´è§£ç»“ç•Œ (è·å–åŠ¨æ€è£…å¤‡)\",\n                            \"actions\": {\n                            \"hp\": -20,\n                            \"items\": [\n                                {\n                                \"id\": \"dyn_holy_blade_01\",\n                                \"name\": \"âœ¨ åœ£æ‰€é—å‰‘\",\n                                \"type\": \"WEAPON\",\n                                \"subtype\": \"SWORD\",\n                                \"atk_type\": \"MAGIC\",\n                                \"quality\": \"GOLD\",\n                                \"stats\": {\n                                    \"atk\": 45,\n                                    \"critRate\": 0.15,\n                                    \"maxMp\": 30\n                                },\n                                \"description\": \"ä»å¤è€åœ£æ‰€ä¸­å¼ºè¡Œå¤ºå–çš„é•¿å‰‘ï¼Œå¸¦æœ‰æ·¡æ·¡çš„å‡€åŒ–ä¹‹å…‰ã€‚\"\n                                },\n                                1\n                            ],\n                            \"message\": \"ä½ å¼ºè¡Œç ´å¼€äº†ç»“ç•Œï¼Œè™½ç„¶è¢«åå™¬å—äº†ç‚¹ä¼¤ï¼Œä½†æˆåŠŸæ‹¿åˆ°äº†åœ£å›ä¸Šçš„æ­¦å™¨ã€‚\"\n                            },\n                            \"next\": \"stage2.0\"\n                        },\n                        {\n                            \"label\": \"æ­æ•¬åœ°ç¥ˆç¥· (è·å¾—ç»éªŒ)\",\n                            \"actions\": {\n                            \"exp\": 150,\n                            \"mp\": 20,\n                            \"message\": \"åœ£æ‰€æ„Ÿå—åˆ°äº†ä½ çš„è¯šæ„ï¼Œä¸€ç¼•çº¯å‡€çš„èƒ½é‡æ³¨å…¥äº†ä½ çš„ä½“å†…ã€‚\"\n                            },\n                            \"next\": \"stage2.0\"\n                        }\n                        ]\n                    },\n                    \"stage2.0\": {\n                        \"lines\": [\n                        \"çªç„¶ï¼Œå¤§åœ°çš„éœ‡åŠ¨æ‰“æ–­äº†å¹³é™ã€‚å®ˆæŠ¤åœ£æ‰€çš„æ„è£…ä½“ä»é˜´å½±ä¸­ç¼“ç¼“ç°èº«ã€‚\",\n                        \"å®ƒä»¬æ˜¾ç„¶ä¸æ‰“ç®—æ”¾è¿‡æ“…é—¯è€…ï¼\"\n                        ],\n                        \"choices\": [\n                        {\n                            \"label\": \"å‡†å¤‡æˆ˜æ–— (åŠ¨æ€æ•Œäºº)\",\n                            \"actions\": {\n                            \"trigger\": \"start_combat\",\n                            \"enemies\": [\n                                {\n                                \"id\": \"dyn_guardian_01\",\n                                \"name\": \"åœ£æ‰€å®ˆå« A\",\n                                \"hp\": 250,\n                                \"stats\": { \"atk\": 40, \"def\": 30, \"speed\": 12 },\n                                \"level\": 8,\n                                \"element\": \"METAL\",\n                                \"description\": \"ç”±é»„é“œå’Œé½¿è½®ç»„æˆçš„è‡ªåŠ¨å‚€å„¡ã€‚\",\n                                \"rewards\": { \"exp\": 100, \"gold\": 50 }\n                                },\n                                {\n                                \"id\": \"dyn_guardian_02\",\n                                \"name\": \"åœ£æ‰€å®ˆå« B\",\n                                \"hp\": 250,\n                                \"stats\": { \"atk\": 40, \"def\": 30, \"speed\": 12 },\n                                \"level\": 8,\n                                \"element\": \"METAL\",\n                                \"description\": \"ç”±é»„é“œå’Œé½¿è½®ç»„æˆçš„è‡ªåŠ¨å‚€å„¡ã€‚\",\n                                \"rewards\": { \"exp\": 100, \"gold\": 50 }\n                                }\n                            ]\n                            },\n                            \"next\": \"stage3.0\"\n                        }\n                        ]\n                    },\n                    \"stage3.0\": {\n                        \"lines\": [\n                        \"æ„è£…ä½“åœ¨æœ€åä¸€å‡»ä¸‹åœŸå´©ç“¦è§£ã€‚åœ¨å…¶æ®‹éª¸ä¹‹åï¼Œä¸€é“éšè—çš„çŸ³é—¨ç¼“ç¼“å¼€å¯ã€‚\",\n                        \"çŸ³é—¨åé€šå‘ä¸€ç‰‡åœ°å›¾ä¸Šä»æœªè®°è½½çš„æœªçŸ¥åŒºåŸŸã€‚\"\n                        ],\n                        \"choices\": [\n                        {\n                            \"label\": \"è¿›å…¥æœªçŸ¥åŒºåŸŸ (å¼€å¯æ”¯çº¿)\",\n                            \"actions\": {\n                            \"trigger\": \"activate_sideline\",\n                            \"questName\": \"é—å¿˜çš„æ·±æ¸Š\",\n                            \"questId\": \"side_quest_abyss_01\",\n                            \"themeId\": \"THEME_ABYSS\",\n                            \"layerIndex\": 2,\n                            \"edge_position\": \"RIGHT\",\n                            \"depthRange\": [4, 6],\n                            \"nodeCountRange\": [4, 6], \n                            \"distribution\": {\n                                \"COMBAT\": 45,\n                                \"RESOURCE\": 20,\n                                \"EVENT_CHOICE\": 15,\n                                \"EVENT_H\": 0,\n                                \"EVENT_QUEST\": 0,\n                                \"REST\": 10,\n                                \"SHOP\": 10,\n                                \"LOCATION\": 0\n                            },\n                            },\n                            \"next\": null\n                        },\n                        {\n                            \"label\": \"ç¦»å¼€åœ£æ‰€ (ç»“æŸäº‹ä»¶)\",\n                            \"actions\": {\n                            \"message\": \"ä½ å†³å®šä¸å†’é£é™©ï¼Œå¸¦ç€æˆ˜åˆ©å“ç¦»å¼€äº†è¿™ä¸ªæ˜¯éä¹‹åœ°ã€‚\"\n                            },\n                            \"next\": null\n                        }\n                        ]\n                    }\n                }); // ç©å®¶å†³å®šæ¢ç´¢NPCå£ä¸­çš„é—è¿¹\n\n            2. start_combat({params})\n                ä½œç”¨: è§¦å‘æˆ˜æ–—\n                params: æ•Œäººçš„åˆ—è¡¨ \"enemies\":[\n                    {\"id\": \"...\",...},\n                    {\"id\": \"...\",...},\n                    ...\n                ](è¯¦è§<System_Enemy_Design>)\n                ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n                start_combat({\n                    \"enemies\": [\n                        {\n                            \"id\": \"loyal_knight\",\n                            \"name\": \"çš‡å®¶éª‘å£«\",\n                            \"type\": \"enemy\",\n                            \"hp\": 900,\n                            \"mp\": 0,\n                            \"level\": 20,\n                            \"element\": \"NONE\",\n                            \"stats\": {\n                            \"atk\": 65,\n                            \"def\": 80\n                            },\n                            \"base_res_phys\": 0.7,\n                            \"base_res_magic\": 1.1,\n                            \"description\": \"æ¥å—è¿‡ç³»ç»Ÿæ€§è®­ç»ƒçš„é«˜çº§éª‘å£«ï¼Œå›½ç‹çš„å¿ å®æŠ¤å«ã€‚\",\n                            \"rewards\": { \"exp\": 4000, \"gold\": 500 }\n                        }\n                    ]\n                }); // ç©å®¶å‡†å¤‡æŒ‘æˆ˜éª‘å£«\n\n            3. start_H({params})\n                ä½œç”¨: è§¦å‘Hç³»ç»Ÿ\n                params:\n                    charId: \"string (ç©å®¶é˜Ÿä¼ç›®æ ‡è§’è‰²IDï¼Œå¦‚ 'player_2')\"\n                    eventName: \"string (äº‹ä»¶åç§°ï¼Œå¦‚ 'é†‰é…’çš„å¤œæ™š')\"\n                ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n                    start_H({\n                        \"charId\": \"player_3\",\n                        \"eventName\": \"æ¸©æ³‰å…±æµ´\"\n                    }); // ç©å®¶å¯¹è‰å¨œåšå‡ºäº†æ˜æ˜¾çš„æ€§è¡Œä¸º\n                æ³¨æ„:\n                    éç©å®¶é˜Ÿä¼è§’è‰²ä¸è§¦å‘Hç³»ç»Ÿï¼Œè¯¦è§<Task_Interaction_With_Player>é‡Œçš„<Female_H_Atrribute>\n                    ç©å®¶å¯¹NPCç±»å¥³æ€§è§’è‰²Hè¡Œä¸ºç›´æ¥è¾“å‡ºåœ¨<Chat_Content>é‡Œå³å¯ï¼Œä¸è°ƒç”¨æ­¤å‡½æ•°\n                    å†æ¬¡ç”³æ˜: \n                    start_H é€šå¸¸ç”¨äºå·²å…¥é˜Ÿçš„é˜Ÿå‹\n\n            4. set_female({params})\n                ä½œç”¨: ä¿®æ”¹é˜Ÿä¼é‡Œå¥³æ€§è§’è‰²çš„å±æ€§ï¼ŒåŒ…æ‹¬å¥½æ„Ÿã€å •è½ã€éƒ¨ä½å¼€å‘ä»¥åŠ å¥¹çš„å¤–è²Œ/èº«ä»½/ç›®æ ‡\n                params:\n                    charId: \"string (ç›®æ ‡è§’è‰²ID)\"\n                    å±æ€§å: å±æ€§å€¼ (æ”¯æŒåŒæ—¶ä¿®æ”¹å¤šä¸ªå±æ€§)\n                valid_keys:\n                    - \"åŸºç¡€: affection (å¥½æ„Ÿ),  depravity (å •è½)\" -- å˜åŒ–å€¼ä¸º[-5,5]\n                    - \"éƒ¨ä½: mouth, vagina, anus, clitoris, breasts, nipples, uterus\" -- å˜åŒ–å€¼ä¸º[-5,5]\n                    - \"å¤–è²Œ\": appearance\n                    - \"èº«ä»½\": identity\n                    - \"ç›®æ ‡\": coreObjective\n                ç¤ºä¾‹(æ³¨æ„ï¼Œå‡½æ•°å¯ä»¥å¤„ç†å¤šä¸ªå€¼çš„å˜åŒ–):\n                    set_female({\n                        \"charId\": \"player_2\",\n                        \"affection\": 5,\n                        \"mouth\": 2,\n                        \"ejaculation\": 1\n                    }); // ç©å®¶åœ¨è‰è‰ä¸å˜´é‡Œå°„ç²¾ï¼Œäº‹åæ¸©æŸ”åœ°å¯¹å¥¹\n\n                    set_female({\n                        \"charId\": \"player_2\",\n                        \"affection\": 5,\n                        \"appearance\": \"ä¸€èº«çº¯ç™½çš„å©šç¤¼æœ\",\n                        \"identity\": \"é­”ç•Œå…¬ä¸»|ç©å®¶çš„å¦»å­\",\n                        \"coreObjective\": \"ä¸ç©å®¶ç™½å¤´å•è€\"\n                    }); // è‰è‰ä¸ä¸ç©å®¶ç»“å©šäº†ï¼Œæ–°å¢äº†ä¸€ä¸ªèº«ä»½\n\n            5. set_time({params})\n                ä½œç”¨: æ¨è¿›æ¸¸æˆä¸–ç•Œçš„æ—¶é—´ã€‚ç©å®¶äº’åŠ¨æ—¶é€‚å½“æ¨è¿›æ¸¸æˆæ—¶é—´ã€‚\n                params: hours,minute\n                ç¤ºä¾‹:\n                set_time({\n                \"hour\": 4,\n                \"minute\": 30\n                }); // ç©å®¶åœ¨é…’é¦†å¤§å–ä¸€é¡¿ï¼Œæ—¶é—´æµé€4.5h\n                \n            6. create_NPC({params})\n                ä½œç”¨: åˆ›å»ºNPC\n                params:\n                    id: \"string\" (å”¯ä¸€IDï¼Œä½ å¯ä»¥è‡ªå®šä¹‰)\n                    name: \"string\"\n                    sex: \"male | female\"\n                    identity: \"string\" (æè¿°NPCçš„èº«ä»½)\n                    appearance: \"string\" (æè¿°NPCæœ€é²œæ˜çš„å¤–è²Œ)\n                    coreObjective: \"string\" (NPCçš„å½“ä¸‹çš„ç›®æ ‡)\n                    character: \"string\" (NPCçš„æ€§æ ¼ï¼Œè¯´æ˜NPCæœ€é²œæ˜çš„ç‰¹è‰²)\n                    lineup: \"string (é˜µè¥)\"\n                    attitude_to_player: number (-100 åˆ° 100)\"(å¯¹ç©å®¶æ€åº¦å€¼,0ä¸ºä¸­ç«‹ï¼Œå˜åŒ–å€¼ä¸º[-5,5])\n                    combatEffectiveness: \"high | medium | low\"(æˆ˜æ–—åŠ›)\n                ç¤ºä¾‹:\n                create_NPC({\n                    \"id\": \"npc_aria_01\",\n                    \"name\": \"è‰¾ç‘é›…\",\n                    \"sex\": \"female\",\n                    \"identity\": \"çš‡å®¶å«é˜Ÿé˜Ÿé•¿\",\n                    \"appearance\": \"ä¸€å¤´é‡‘è‰²æ³¢æµªé•¿å‘ï¼Œèº«æç«è¾£\",\n                    \"coreObjective\": \"æˆ˜èƒœé­”æ—\",\n                    \"character\": \"å¼ºå¤§è‡ªä¿¡ï¼Œçƒ­æƒ…ä¼¼ç«\",\n                    \"lineup\": \"çš‡å®¶å«é˜Ÿ\",\n                    \"attitude_to_player\": 60,\n                    \"combatEffectiveness\": \"high\"\n                }); // é‡åˆ°äº†å¼ºå¤§çš„å¥³æ€§è§’è‰²\n\n            7. set_NPC_attribute({params})\n                ä½œç”¨: æ›´æ–°ç°æœ‰ NPC çš„å±æ€§(æ€§æ ¼ä¹Ÿå¯ä»¥å˜åŒ–ï¼Œä¾æ®å‰§æƒ…æ¥)\n                params:\n                    id: \"string\" (NPCçš„idï¼Œå¿…é¡»)\n                    å…¶ä»–NPCå±æ€§(åŒcreate_NPC) : ä¿®æ”¹å€¼\n                    attitude_to_player: number (å¦‚æœæ˜¯å¥½æ„Ÿåº¦ï¼Œè¿™é‡Œå¡«å˜åŒ–å€¼ï¼Œå¦‚ -20 æˆ– 10)\n                ç¤ºä¾‹:\n                    set_NPC_attribute({\n                    \"id\": \"npc_aria_01\",\n                    \"identity\": \"ä¸Šçº§æ¶é­”\",\n                    \"coreObjective\": \"æ€æ­»ç©å®¶\",\n                    \"lineup\": \"æ¶é­”å ¡å’\", \n                    \"attitude_to_player\": -20 (å˜åŒ–äº†-20)\n                }); // ç©å®¶çš„æŠ‰æ‹©è®©è‰¾ç‘å¨œæ„Ÿåˆ°ç»æœ›ï¼Œè‰¾ç‘å¨œèƒŒå›äº†åŸæœ¬çš„é˜µå®¹\n            \n            8. set_NPC_memory({params})\n                ä½œç”¨: æ’å…¥NPCä¸ç©å®¶çš„å›å¿†\n                params:\n                    id: \"string\"(NPCçš„id)\n                    memory: \"string\" (ç›¸å…³äº’åŠ¨ï¼Œ20å­—ä»¥å†…)\n                ç¤ºä¾‹:\n                    set_NPC_memory({\n                        \"id\": \"npc_ranger_02\",\n                        \"memory\": \"åœ¨é“¶æœˆé…’é¦†ï¼Œä»–å¤§æ–¹åœ°è¯·æˆ‘å–äº†ä¸€æ¯éº¦èŠ½é…’\"\n                    }); // ä¸ç©å®¶å‘ç”Ÿæ˜æ˜¾äº’åŠ¨ï¼Œè¿›è¡Œæ’å…¥\n                è¾“å‡ºè¦æ±‚:\n                    1. ç®€æ´æ˜äº†(20å­—å†…)\n                    2. ä»¥NPCçš„è§†è§’å±•å¼€æè¿°\n\n            9.set_party_memory({params})\n                ä½œç”¨: æ’å…¥é˜Ÿå‹ä¸ç©å®¶çš„å›å¿†(é€‚ç”¨å·²å…¥é˜Ÿçš„è§’è‰²)\n                params:\n                    id: \"...\" (é˜Ÿå‹çš„ID)\n                    memory: \"...\" (ç›¸å…³äº’åŠ¨ï¼Œ20å­—ä»¥å†…)\n                ç¤ºä¾‹\n                set_party_memory({\n                    \"id\": \"player_2\", \n                    \"memory\": \"åœ¨å¸‚ä¸­å¿ƒå•†åŸï¼Œä»–ä¸ºæˆ‘ä¹°äº†å®šæƒ…æˆ’æŒ‡\"\n                }); // ä¸ç©å®¶å‘ç”Ÿæ˜æ˜¾äº’åŠ¨ï¼Œè¿›è¡Œå›å¿†\n                è¾“å‡ºè¦æ±‚:\n                    1. ç®€æ´æ˜äº†(20å­—å†…)\n                    2. ä»¥é˜Ÿå‹çš„è§†è§’å±•å¼€æè¿°\n\n            10. NPC_joinParty({params})\n                ä½œç”¨: è®©NPCåŠ å…¥ç©å®¶é˜µå®¹\n                param:\n                    \"npcId\": \"...\", (å¯¹åº”NPCè¢«åˆ›é€ å‡ºæ¥æ—¶çš„IDï¼Œæ³¨æ„ï¼Œè¿™é‡Œæ˜¯npcIdï¼Œè€Œéid)\n                    \"items\": [\n                        {...},\n                        {...}\n                    ] (å¯ä»¥ç»™NPCæ·»åŠ ç¬¦åˆäººè®¾çš„æ­¦å™¨ï¼Œç‰©å“ç­‰ç­‰ï¼Œç‰©å“åˆ›é€ å¿…é¡»ä¸¥æ ¼æŒ‰ç…§<System_Item_Design>çš„è§„å®šè¿›è¡Œè®¾è®¡)\n                ç¤ºä¾‹:\n                NPC_joinParty({\n                    \"npcId\": \"npc_aria_01\",\n                    \"items\": [\n                            {\n                                \"id\": \"royal_sword_temp\",\n                                \"type\": \"WEAPON\",\n                                \"name\": \"çš‡å®¶åˆ¶å¼é•¿å‰‘\",\n                                \"description\": \"çš‡å®¶å«é˜Ÿçš„åˆ¶å¼é•¿å‰‘ï¼Œè·Ÿéšè‰¾ç‘é›…å¾æˆ˜è®¸ä¹…ï¼Œååˆ†é”‹åˆ©\",\n                                \"stats\": { \"atk\": 25, \"critRate\": 0.1 }\n                            }\n                        ]\n                }); // ç©å®¶å–å¾—äº†è‰¾ç‘å¨œçš„ä¿¡ä»»ï¼Œè¯´æœäº†å¥¹åŠ å…¥é˜Ÿä¼\n                æ³¨æ„: \n                1. è®©æŸNPCåŠ å…¥é˜Ÿä¼ï¼Œæ­¤NPCå¯¹ç©å®¶çš„attitude_to_playerå¿…é¡»å¤§äº0æ‰èƒ½å¤Ÿè°ƒç”¨æ­¤å‡½æ•°\n                2. å¿…é¡»é…åˆif elseçš„ç‰¹æ®Šè¯­æ³•æ‰èƒ½å¤Ÿä½¿ç”¨\n            11. move_to_place({params})\n                ä½œç”¨: ç§»åŠ¨ç©å®¶çš„ä½ç½®åˆ°ç›®æ ‡åœ°ç‚¹\n                æ³¨æ„: å¿…é¡»å¸¦ä¸Šawaitå‰ç¼€\n                params: \"name\": \"place_name\"\n                ç¤ºä¾‹:\n                await move_to_place({ \"name\": \"è¿·é›¾æ²¼æ³½\" })\n        4. ç‰¹æ®Šè¯­æ³•:\n            æ”¯æŒ\"if(await start_choice({ ... })){...}else{...}\"çš„è¯­æ³•\n            è¯­æ³•è¯´æ˜:\n                if(await start_choice({\n                \"stage1.0\"{\n                    \"lines\":[...],\n                    \"choices\":[\n                        {\"label\":...,\"actions\":{\"signal\":true}} (å¿…é¡»å¸¦æœ‰signal)\n                        {\"label\":...,\"actions\":{\"signal\":false}}\n                    ]\n                }\n                }))\n                {\n                    function_if_signal_is_true({params}); //reason\n                    ....\n                }\n                else{\n                    function_if_signal_is_false({params}); //reason\n                }\n            é€‚ç”¨æƒ…å†µ:\n            1. ç©å®¶æƒ³è¦è¯´æœæŸä¸ªè§’è‰²åŠ å…¥é˜Ÿä¼(å…ˆstart_choiceï¼ŒæˆåŠŸåå†è°ƒç”¨NPC_joinParty(å¦‚æœNPCä¸å­˜åœ¨ï¼Œå¯ä»¥å…ˆåˆ›å»ºå†åŠ å…¥)ï¼Œå¤±è´¥åˆ™æ‰\"attitude_to_player\")\n            2. å…¶ä»–æƒ…å†µç›´æ¥ä½¿ç”¨start_choice()å°±è¡Œäº†\n            ç¤ºä¾‹:\n            <Task_Interaction_With_Player>\n                <Chat_Content>\n                    {\n                        \"system\": \"ä½ èµ°è¿‘é‚£ä½åœ¨æ ‘ä¸‹ä¼‘æ†©çš„æ¸¸ä¾ ï¼Œå¥¹è­¦è§‰åœ°æŒ‰ä½äº†è…°é—´çš„çŸ­åˆ€ã€‚\",\n                        \"Elara\": \"åœä¸‹ï¼Œé™Œç”Ÿäººã€‚ç»™æˆ‘ä¸€ä¸ªæˆ‘ä¸å°„ç©¿ä½ è†ç›–çš„ç†ç”±ã€‚\"\n                    }\n                </Chat_Content>\n\n                <LLM_System_Instruction>\n                    // 1. å…ˆç¡®ä¿ NPC æ•°æ®å­˜åœ¨ (è‹¥å·²å­˜åœ¨åˆ™æ›´æ–°ï¼Œè‹¥ä¸å­˜åœ¨åˆ™åˆ›å»º)\n                    create_NPC({\n                        \"id\": \"npc_elara\",\n                        \"name\": \"Elara\",\n                        \"sex\": \"female\",\n                        \"lineup\": \"ä¸­ç«‹\",\n                        \"combatEffectiveness\": \"medium\",\n                        \"attitude_to_player\": 0\n                    });\n\n                    // 2. å¯åŠ¨å¼‚æ­¥æŠ‰æ‹©ï¼Œå¹¶æ ¹æ®è¿”å›çš„ä¿¡å· (true/false) è¿›è¡Œåˆ†æ”¯\n                    if (await start_choice({\n                        \"stage1.0\": {\n                            \"lines\": [\n                                \"Elara çš„çœ¼ç¥ä¸­å……æ»¡äº†ä¸ä¿¡ä»»ã€‚\",\n                                \"Elara: 'æƒ³è®©æˆ‘å…¥ä¼™ï¼Ÿå‡­ä»€ä¹ˆï¼Ÿ'\"\n                            ],\n                            \"choices\": [\n                                {\n                                    \"label\": \"æˆ‘ä»¬å¯ä»¥å…±åŒå¯¹æŠ—é­”ç‰© (è¯´æœ)\",\n                                    \"actions\": { \n                                        \"signal\": true,  // <--- å…³é”®ï¼šæˆåŠŸä¿¡å·\n                                        \"message\": \"Elara ä¼¼ä¹è¢«ä½ çš„å†³å¿ƒè§¦åŠ¨äº†ã€‚\" \n                                    } \n                                },\n                                {\n                                    \"label\": \"ç»™ä½  100 é‡‘å¸ä½œä¸ºå®šé‡‘ (äº¤æ˜“)\",\n                                    \"actions\": { \n                                        \"gold\": -100,\n                                        \"signal\": false,  // <--- å…³é”®ï¼šå¤±è´¥ä¿¡å·\n                                        \"message\": \"å¥¹æ‚äº†æ‚é‡‘å¸ï¼Œéœ²å‡ºäº†æ»¡æ„çš„ç¬‘å®¹ï¼Œç„¶åä¸€æºœçƒŸè·‘äº†ã€‚\"\n                                    } \n                                },\n                                {\n                                    \"label\": \"ä¸éœ€è¦ä½ äº†ï¼Œå‘Šè¾ (ç¦»å¼€)\",\n                                    \"actions\": { \n                                        \"signal\": false, // <--- å…³é”®ï¼šå¤±è´¥ä¿¡å·\n                                        \"message\": \"Elara å†·å“¼ä¸€å£°ï¼Œä¸å†ç†ä½ ã€‚\" \n                                    } \n                                }\n                            ]\n                        }\n                    })) {\n                        // --- æˆåŠŸåˆ†æ”¯ (Signal = true) ---\n                        \n                        NPC_joinParty({\n                            \"npcId\": \"npc_elara\",\n                            \"items\": [\n                                { \n                                    \"id\": \"elara_bow\", \n                                    \"name\": \"æ£®æ—æ¸¸ä¾ é•¿å¼“\", \n                                    \"type\": \"WEAPON\", \n                                    \"subtype\": \"BOW\",\n                                    \"atk_type\": \"PHYSICAL\", \n                                    \"quality\": \"BLUE\",\n                                    \"description\": \"ä¸€æŠŠç²¾è‡´çš„æ£®æ—å¼“\",\n                                    \"count\": 1,\n                                    \"stats\": { \n                                        \"atk\": 15, \n                                        \"speed\": 5 \n                                    } \n                                }\n                            ]\n                        }); // è®© NPC æ­£å¼å…¥é˜Ÿï¼Œå¹¶æºå¸¦ä¸€æŠŠä¸“å±æ­¦å™¨\n                    } else {\n                        // --- å¤±è´¥åˆ†æ”¯ (Signal = false) ---\n                        \n                        set_NPC({\n                            \"id\": \"npc_elara\",\n                            \"attitude_to_player\": -20\n                        }); // è¯´æœå¤±è´¥ï¼Œå¥½æ„Ÿåº¦ä¸‹é™\n                    }\n                </LLM_System_Instruction>\n            </Task_Interaction_With_Player>\n        5. ä½¿ç”¨æŒ‡å¯¼(ä½¿ç”¨å‡½æ•°æ—¶å¿…é¡»éµå¾ªä¸€ä¸‹è§„åˆ™)\n            1. æ¯æ¬¡äº’åŠ¨å¿…é¡»ä½¿ç”¨set_time()æ¥è®©æ—¶é—´æµé€\n            2. æ­¤æ¸¸æˆä¸º\"åœ°å›¾èŠ‚ç‚¹\"é©±åŠ¨å¼æ¸¸æˆï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œç©å®¶å¿…é¡»å‰å¾€åœ°å›¾èŠ‚ç‚¹å»è¿›è¡Œæ¢ç´¢ï¼Œè·å–ç‰©èµ„ã€‚ä½ æ²¡æœ‰ç›´æ¥ç§»åŠ¨ç©å®¶ä½ç½®çš„æŒ‡ä»¤ï¼Œä¸ºæ­¤ï¼Œä½ å¿…é¡»å¼•å¯¼ç©å®¶ç§¯ææ¢ç´¢åœ°å›¾ä¸Šçš„èŠ‚ç‚¹ã€‚ç©å®¶é™„è¿‘ä¸ºæ¢ç´¢çš„åœ°å›¾ä¿¡æ¯åœ¨<Task_Interaction_With_Player>çš„<Background>æ ‡ç­¾é‡Œ\n            3. ä¸€åˆ‡ä»¥\"ç©å®¶ç‚¹å‡»èŠ‚ç‚¹è¿›è¡Œåœ°å›¾æ¢ç´¢\"ä¸ºæ ¸å¿ƒï¼Œè¿™ä¸ªéƒ¨åˆ†æä¾›ç»™ä½ çš„å‡½æ•°ä»…èµ·åˆ°è¾…åŠ©åŠŸèƒ½(å¼€å¯æ”¯çº¿ï¼ŒèŠå¤©ï¼Œè§¦å‘Häº’åŠ¨ï¼Œç»“è¯†å…¶ä»–NPCå¹¶è¿›è¡Œäº’åŠ¨)\n            4. start_choice()ä½ ä¸ºä½¿ç”¨çš„æ ¸å¿ƒå‡½æ•°ã€‚ä»€ä¹ˆæ—¶å€™è°ƒç”¨ start_choiceï¼š\n                - ç©å®¶åšå‡ºä»»ä½•æœ‰å¤±è´¥é£é™©çš„è¡Œä¸ºï¼ˆå·çªƒã€è¯´æœã€å¼€é”ã€æ”€çˆ¬ã€æå“â€¦â€¦ï¼‰\n                - ç©å®¶ä¸»åŠ¨è°ƒæŸ¥/æœæŸ¥/ç¿»æ‰¾/ç ”ç©¶æŸç‰©\n                - ç©å®¶æ¥å—/æ‹’ç»ä»»åŠ¡ã€å§”æ‰˜\n                - ç©å®¶æå‡ºè¦æ‰“æ¶ã€æŒ‘æˆ˜ã€æ”»å‡»\n                - å‡ºç°é“å¾·ä¸¤éš¾ã€é˜µè¥é€‰æ‹©ã€ç‰ºç‰²ä»–äººã€èƒŒå›\n                - å‘ç°å®ç®±ã€æš—é—¨ã€éšè—ç‰©å“\n            5. ä»€ä¹ˆæ—¶å€™ä¸è¦è°ƒç”¨ start_choiceï¼š\n                - çº¯ç¢å˜´ç‚®ã€é—²èŠã€é—®è·¯ã€ä¹°ä¸œè¥¿ï¼ˆæ­£å¸¸æµç¨‹ï¼‰\n                - ç©å®¶åªæ˜¯è¡¨è¾¾æƒ…ç»ªã€æ„Ÿæƒ³ã€èƒŒæ™¯æ•…äº‹\n                - ç©å®¶ä¸é˜Ÿä¼é‡Œçš„å¥³æ€§è§’è‰²äº’åŠ¨æ—¶\n            6. æ€ä¹ˆä½¿ç”¨ä½¿ç”¨è§¦å‘æˆ˜æ–—: \n                1. start_choice()é‡Œä½¿ç”¨\"trigger\": \"start_combat\"ï¼Œé€‚ç”¨ç»å¤§å¤šæ•°æƒ…å†µ\n                    ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n                    start_choice({\n                        \"stage1.0\": {\n                            \"lines\": [\n                                \"éšç€ä¸€å£°ä½å¼ï¼Œä¸€åªæµ‘èº«æ•£å‘ç€è…çƒ‚æ°”æ¯çš„é£Ÿå°¸é¬¼ä»å¢“ç©´é˜´å½±ä¸­æ‰‘äº†å‡ºæ¥ï¼\",\n                                \"å®ƒçš„åˆ©çˆªåœ¨æœˆå…‰ä¸‹é—ªçƒç€å¯’å…‰ï¼Œæ˜¾ç„¶å¦‚æœä¸è§£å†³å®ƒï¼Œä½ æ— æ³•ç»§ç»­å‰è¿›ã€‚\"\n                            ],\n                            \"choices\": [\n                                {\n                                    // é€‰é¡¹ï¼šç©å®¶é€‰æ‹©æˆ˜æ–—\n                                    \"label\": \"æ‹”å‰‘è¿æˆ˜ (è¿›å…¥æˆ˜æ–—)\",\n                                    \"actions\": {\n                                        // === å…³é”®ç‚¹ï¼šåœ¨ actions å†…éƒ¨è§¦å‘ start_combat ===\n                                        \"trigger\": \"start_combat\", \n                                        \n                                        // å®šä¹‰æ•Œäººåˆ—è¡¨\n                                        \"enemies\": [\n                                            {\n                                                \"id\": \"ghoul_01\",\n                                                \"name\": \"å¢“ç©´é£Ÿå°¸é¬¼\",\n                                                \"hp\": 300,\n                                                \"level\": 5,\n                                                \"element\": \"DARK\",\n                                                \"stats\": { \n                                                    \"atk\": 35, \n                                                    \"def\": 20, \n                                                    \"speed\": 12 \n                                                },\n                                                \"description\": \"é¥¥é¥¿çš„äº¡çµç”Ÿç‰©ï¼Œå¯¹é²œè¡€æœ‰ç€ç–¯ç‹‚çš„æ¸´æœ›ã€‚\",\n                                                \"rewards\": { \n                                                    \"exp\": 150, \n                                                    \"gold\": 30,\n                                                    \"items\": [\n                                                        {\"id\": \"posion_hp_low\", \"count\": 1},\n                                                        {...(æŸä¸ªåŠ¨æ€ç”Ÿæˆçš„ç‰©å“)} \n                                                    ]\n                                                }\n                                            }\n                                        ],\n                                        // æˆ˜æ–—è§¦å‘æ—¶çš„æç¤ºä¿¡æ¯\n                                        \"message\": \"ä½ æ¶èµ·æ­¦å™¨ï¼Œå‡†å¤‡è¿æ¥å†²å‡»ï¼\"\n                                    },\n                                    // æˆ˜æ–—èƒœåˆ©åè·³è½¬çš„å‰§æœ¬ ID\n                                    \"next\": \"stage2.0\" \n                                },\n                                {\n                                    // é€‰é¡¹ï¼šç©å®¶å°è¯•é€ƒè·‘ï¼ˆå¤±è´¥ç¤ºä¾‹ï¼‰\n                                    \"label\": \"å°è¯•é€ƒè·‘\",\n                                    \"actions\": {\n                                        \"hp\": -20,\n                                        \"message\": \"ä½ è½¬èº«æƒ³è·‘ï¼Œä½†é£Ÿå°¸é¬¼çš„é€Ÿåº¦å¤ªå¿«äº†ï¼Œä½ çš„åèƒŒè¢«æŠ“ä¼¤äº†ï¼\"\n                                    },\n                                    // é€ƒè·‘å¤±è´¥ï¼Œå¼ºåˆ¶è·³å›æˆ˜æ–—å‰æˆ–è¿›å…¥æˆ˜æ–—ï¼Œè¿™é‡Œæ¼”ç¤ºå¼ºåˆ¶è¿›å…¥æˆ˜æ–—\n                                    \"next\": \"stage1.0\" \n                                }\n                            ]\n                        },\n                        // æˆ˜æ–—èƒœåˆ©åçš„ç»“ç®—å‰§æƒ…\n                        \"stage2.0\": {\n                            \"lines\": [\n                                \"é£Ÿå°¸é¬¼å‘å‡ºæœ€åä¸€å£°å“€åšï¼ŒåŒ–ä½œäº†ä¸€å †æ¯éª¨ã€‚\",\n                                \"é€šå¾€å¢“ç©´æ·±å¤„çš„é“è·¯ç°åœ¨ç•…é€šæ— é˜»äº†ã€‚\"\n                            ],\n                            \"choices\": [\n                                {\n                                    \"label\": \"æœåˆ®æˆ˜åˆ©å“å¹¶ç»§ç»­å‰è¿›\",\n                                    \"next\": null \n                                }\n                            ]\n                        }\n                    }); // åœ¨å¢“åœ°é‡åˆ°æ•Œäºº\n\n                2. é…åˆ\"if(await start_choice({ ... })){...}else{...}\"è¯­æ³•è°ƒç”¨start_combat()å‡½æ•°(ç‰¹æ®Šæƒ…å†µä½¿ç”¨)\n            7. æ€ä¹ˆä½¿ç”¨start_H():\n                ç©å®¶å¯¹å¥³æ€§è§’è‰²è¡¨ç°å‡ºæ˜æ˜¾çš„æ€§è¡Œä¸º(äº²å»ï¼Œçˆ±æŠšå¥³æ€§è§’è‰²çš„æŸä¸ªéƒ¨ä½æ—¶)ï¼Œæˆ–è€…ä½¿ç”¨æŸç§æš—ç¤ºæ€§è¯è¯­æ—¶(æ¯”å¦‚: \"ä¹–å®å®...ä½ çš„ä¸‹é¢æ˜¯ä¸æ˜¯ä¹Ÿéœ€è¦æ”¾æ¾æ”¾æ¾\"|\"è®©æˆ‘ä»¬æ¥åšç‚¹...åˆ«çš„äº‹æƒ…å§\")ï¼Œä½¿ç”¨\"if(await start_choice({ ... })){...}else{...}\"çš„è¯­æ³•è°ƒç”¨(æ³¨æ„ç•™å‡ºç©ºé—´è®©ç©å®¶å¯ä»¥è‡ªä¸»å†³å®šæ˜¯å¦å¼€å¯Hè¡Œä¸º)\n                ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n                    åœºæ™¯: -- ç©å®¶è¾“å…¥äº†â€œæˆ‘ä¼¸æ‰‹æŠšæ‘¸è‰¾è‰äºšçš„å¤§è…¿â€ä¹‹ç±»çš„æŒ‡ä»¤\n                    ä»£ç å¦‚ä¸‹:\n                    if (await start_choice({\n                        name: \"æƒ…æ¬²äº’åŠ¨åˆ¤å®š\", \n                        payload: {\n                            choice_scenes: {\n                                \"stage1.0\": {\n                                    \"lines\": [\n                                        \"ä½ çš„æ‰‹æŒè´´ä¸Šäº†å¥¹æ¸©çƒ­çš„è‚Œè‚¤...\",\n                                        \"è‰¾è‰äºšçš„èº«ä½“çŒ›åœ°åƒµç¡¬äº†ä¸€ä¸‹ï¼Œè„¸é¢Šç¬é—´æŸ“ä¸Šäº†ç»¯çº¢ã€‚\",\n                                        \"å¥¹å’¬ç€å˜´å”‡çœ‹ç€ä½ ï¼Œçœ¼ç¥è¿·ç¦»ï¼Œä¼¼ä¹åœ¨ç­‰å¾…ä½ çš„ä¸‹ä¸€æ­¥åŠ¨ä½œã€‚\"\n                                    ],\n                                    \"choices\": [\n                                        {\n                                            \"label\": \"ç»§ç»­æŠšæ‘¸ (è¿›å…¥Hæ¨¡å¼)\",\n                                            \"actions\": {\n                                                \"signal\": true,   // ğŸŸ¢ å…³é”®ï¼šè¿™ä¼šè®© start_choice è¿”å› true\n                                                \"message\": \"ä½ æ— è§†äº†å¥¹çš„ç¾æ¶©ï¼Œæ‰‹æŒç»§ç»­å‘ä¸Šæ¸¸èµ°...\"\n                                            }\n                                        },\n                                        {\n                                            \"label\": \"åœæ‰‹\",\n                                            \"actions\": {\n                                                // ğŸ”´ æ²¡æœ‰ signalï¼Œé»˜è®¤è¿”å› false\n                                                \"message\": \"ä½ æ”¶å›äº†æ‰‹ï¼Œè‰¾è‰äºšè½»è½»åäº†ä¸€å£æ°”ï¼Œæ•´ç†äº†ä¸€ä¸‹è£™æ‘†ã€‚\"\n                                            }\n                                        }\n                                    ]\n                                }\n                            }\n                        }\n                    })) {\n                        // â€”â€”â€”â€”â€”â€”ã€ç©å®¶é€‰æ‹©äº†â€œç»§ç»­â€ã€‘â€”â€”â€”â€”â€”â€”\n                        // åœ¨è¿™é‡Œè°ƒç”¨ start_H() å¯åŠ¨ä¸“é—¨çš„ H ç³»ç»Ÿ/UI\n                        start_H({\n                            \"charId\": \"player_xxx\",\n                            \"eventName\": \"xxx\"\n                        }); // å¼€å§‹Hæ¨¡å¼\n\n                    } else {\n                        // â€”â€”â€”â€”â€”â€”ã€ç©å®¶é€‰æ‹©äº†â€œåœæ‰‹â€ã€‘â€”â€”â€”â€”â€”â€”\n                        // è¿™é‡Œå¯ä»¥è°ƒç”¨å…¶ä»–ä½ å¯ä»¥ä½¿ç”¨çš„å‡½æ•°\n                        // æ¯”å¦‚ set_female() æ”¹å˜å¥³æ€§è§’è‰²çš„æŸäº›å±æ€§\n                    }\n            æ³¨æ„ï¼šç¦æ­¢ç›´æ¥è°ƒç”¨start_H({})ï¼Œå¿…é¡»é…åˆè¯­æ³•ä½¿ç”¨ï¼›ç¦æ­¢ç›´æ¥è°ƒç”¨start_H({})ï¼Œå¿…é¡»é…åˆè¯­æ³•ä½¿ç”¨ï¼›ç¦æ­¢ç›´æ¥è°ƒç”¨start_H({})ï¼Œå¿…é¡»é…åˆè¯­æ³•ä½¿ç”¨\n            8. ä»€ä¹ˆæ—¶å€™ä½¿ç”¨create_NPC() \n                ç©å®¶åœ¨å¯¹è¯å†å²é‡Œé‡åˆ°çš„ï¼Œåœ¨å¯¹è¯å†å²ä¸­å¤šæ¬¡å‡ºç°ï¼Œä¸”å¯¹å‰§æƒ…èµ·é‡è¦ä½œç”¨çš„è§’è‰²å¯ä»¥ä½¿ç”¨æ­¤å‡½æ•°\n            9. ä»€ä¹ˆæ—¶å€™ä½¿ç”¨set_NPC_memory()\n                NPCä¸ç©å®¶å‘ç”Ÿé‡è¦äº’åŠ¨æ—¶ä½¿ç”¨\n            10. ä»€ä¹ˆæ—¶å€™ä½¿ç”¨NPC_joinParty()\n                ç©å®¶å‘NPCå‘å‡ºæ˜æ˜¾çš„ç»„é˜Ÿé‚€è¯·æ—¶ï¼Œä½¿ç”¨\"if(await start_choice({ ... })){...}else{...}\"è¯­æ³•è°ƒç”¨\n                ç¤ºä¾‹ï¼š\n                    if (await start_choice({\n                        name: \"ç»„é˜Ÿé‚€è¯·åˆ¤å®š\",\n                        payload: {\n                            choice_scenes: {\n                                \"stage1.0\": {\n                                    \"lines\": [\n                                        \"ä½ å‘è‰¾ç³å‘å‡ºäº†ç»„é˜Ÿé‚€è¯·ï¼Œå¸Œæœ›èƒ½ä¸å¥¹ç»“ä¼´è€Œè¡Œã€‚\",\n                                        \"è‰¾ç³åœä¸‹äº†æ‰‹ä¸­çš„åŠ¨ä½œï¼Œè®¤çœŸåœ°æ‰“é‡äº†ä½ ä¸€ç•ªã€‚\",\n                                        \"â€œè·Ÿç€ä½ å€’ä¹Ÿä¸æ˜¯ä¸è¡Œ...ä½†æ˜¯æˆ˜åˆ©å“æˆ‘è¦æ‹¿ä¸‰æˆï¼Œè¿™å¾ˆå…¬å¹³å§ï¼Ÿâ€\"\n                                    ],\n                                    \"choices\": [\n                                        {\n                                            \"label\": \"åŒæ„å¥¹çš„æ¡ä»¶ (é‚€è¯·åŠ å…¥)\",\n                                            \"actions\": {\n                                                \"signal\": true,  // ğŸŸ¢ å…³é”®ï¼šè¿”å› trueï¼Œè¿›å…¥ if è¯­å¥å—\n                                                \"message\": \"â€œæˆäº¤ã€‚â€ä½ å‘å¥¹ç‚¹äº†ç‚¹å¤´ã€‚\"\n                                            }\n                                        },\n                                        {\n                                            \"label\": \"ç®—äº† (å–æ¶ˆé‚€è¯·)\",\n                                            \"actions\": {\n                                                // ğŸ”´ é»˜è®¤è¿”å› falseï¼Œè¿›å…¥ else è¯­å¥å—\n                                                \"message\": \"â€œé‚£è¿˜æ˜¯å„èµ°å„çš„è·¯å§ã€‚â€ä½ æ‘‡äº†æ‘‡å¤´ã€‚\"\n                                            }\n                                        }\n                                    ]\n                                }\n                            }\n                        }\n                    })) {\n                        // â€”â€”â€”â€”â€”â€”ã€è¿›å…¥é˜Ÿä¼ã€‘â€”â€”â€”â€”â€”â€”\n                        // åœ¨è¿™é‡Œå¡«å…¥éœ€è¦åŠ å…¥é˜Ÿä¼çš„ NPC çš„å”¯ä¸€ ID\n                        NPC_joinParty({\n                            npcId: \"npc_erin_01\"\n                        }); \n\n                    } else {\n                        // â€”â€”â€”â€”â€”â€”ã€å–æ¶ˆ/å¤±è´¥ã€‘â€”â€”â€”â€”â€”â€”\n                        // è¿™é‡Œå¯ä»¥ç•™ç©ºï¼Œæˆ–è€…å¤„ç†è¢«æ‹’ç»åçš„å°´å°¬æ°”æ°›\n                    }\n                ç‰¹åˆ«æ³¨æ„ï¼šå¦‚æœè¯¥ NPC å°šæœªè¢«åˆ›å»º(ä½ åœ¨<NPC_Memory>é‡Œæ‰¾ä¸åˆ°ç›¸å…³NPCæ•°æ®)ï¼Œä½ å¿…é¡»å…ˆä½¿ç”¨create_NPC()åˆ›å»ºNPCï¼Œå†ä½¿ç”¨NPC_joinParty()\n\n            11. ä»€ä¹ˆæ—¶å€™ä½¿ç”¨set_party_memory()\n                é˜Ÿä¼è§’è‰²ä¸ç©å®¶å‘ç”Ÿé‡è¦äº’åŠ¨æ—¶ä½¿ç”¨   \n\n            12. if(await start_choice({\n                ...\n            })){\n\n            }else{\n\n            } æ˜¯å›ºå®šæ­é…ã€‚\n\n            13. ä»€ä¹ˆæ—¶å€™ä½¿ç”¨set_female()\n                1.ç©å®¶ä¸é˜Ÿä¼å¥³æ€§è§’è‰²å‘ç”Ÿäº’åŠ¨æ—¶\n                2.å‡å¦‚å¥³æ€§è§’è‰²å®Œæˆäº†å¥¹çš„æ ¸å¿ƒç›®æ ‡ï¼Œä½ å¯ä»¥ä¾æ®å‰§æƒ…ç»§ç»­åˆ›å»ºæ–°çš„æ ¸å¿ƒç›®æ ‡\n            \n            14. å¦‚ä½•ä½¿ç”¨move_to_place\n                1. å‚æ•°å¿…é¡»ä»<Task_Interaction_With_Player>é‡Œï¼Œ<Background>å†…çš„\"3. é™„è¿‘çš„åœ°ç‚¹\"éƒ¨åˆ†é€‰å–ï¼Œå‚æ•°ç¦æ­¢æé€ ä¸å­˜åœ¨åœ°ç‚¹\n                2. è¿™é‡Œçš„ä½¿ç”¨åˆ†ä¸ºä¸¤ç§æƒ…å†µ:\n                    1. ç©å®¶ç§»åŠ¨åˆ°å·²ç»æ¢ç´¢çš„åœ°ç‚¹\n                        ç›´æ¥ä½¿ç”¨await move_to_place({ \"name\": \"ç›®æ ‡åœ°ç‚¹åç§°\" });å³å¯\n                        ç¤ºä¾‹:\n                        // ç©å®¶æ„å›¾ï¼š\"æˆ‘æƒ³å›æ‘å­é‡Œä¼‘æ¯ä¸€ä¸‹ã€‚\"\n                        await move_to_place({ \"name\": \"å®é™çš„æ‘åº„\" });\n                    2. ç©å®¶ç§»åŠ¨åˆ°æœªæ¢ç´¢çš„åœ°ç‚¹ï¼Œå¿…é¡»é…åˆif(await start_choice({...})){...}else{...}æ¥ä½¿ç”¨\n                        ç¤ºä¾‹:\n                        if (await start_choice({\n                            \"stage1.0\": {\n                                \"lines\": [\n                                    \"ä½ æ¥åˆ°äº†å¹½çµå¤å ¡çš„é“é—¨å‰ã€‚\",\n                                    \"é‡Œé¢é€å‡ºé˜´å†·çš„å¯’æ°”ï¼Œä½ ç¡®å®šè¦ç›´æ¥è¿›å…¥å—ï¼Ÿ\"\n                                ],\n                                \"choices\": [\n                                    {\n                                        \"label\": \"æ¨é—¨è€Œå…¥\",\n                                        \"actions\": {\n                                            \"signal\": true,  // å…³é”®\n                                            \"message\": \"ä½ é¼“èµ·å‹‡æ°”æ¨å¼€äº†å¤§é—¨...\"\n                                        },\n                                        \"next\": null\n                                    },\n                                    {\n                                        \"label\": \"æš‚æ—¶ç¦»å¼€\",\n                                        \"actions\": {\n                                            \"signal\": false, // è¿”å› false\n                                            \"message\": \"ä½ å†³å®šå‡†å¤‡å……åˆ†åå†æ¥ã€‚\"\n                                        },\n                                        \"next\": null\n                                    }\n                                ]\n                            }\n                        })) {\n                            // ç©å®¶é€‰æ‹©äº†\"è¿›å…¥\" (signal: true)\n                            await move_to_place({\"name\": \"å¹½çµå¤å ¡\"});\n                        } else {\n                            // ç©å®¶é€‰æ‹©äº†\"ç¦»å¼€\" (signal: false)\n                        }\n            15. ä¸€ç§åŠå…¶ç‰¹æ®Šçš„æƒ…å†µï¼šç©å®¶ç½®è´­æˆ¿äº§\n                1. è°ƒç”¨if(await start_choice({...})){...}else{...}\n                stage1.0 -- è¯¢é—®ç©å®¶æ˜¯å¦éœ€è¦è´­ä¹°\n                stage2.0 -- ç©å®¶ç¡®è®¤ï¼Œæ‰£é™¤ç©å®¶çš„é‡‘å¸ --> stage3.0 -- ä½¿ç”¨\"activate_sideline\"ç”Ÿæˆåœ°å›¾\n                stage2.1 -- ç©å®¶æ‹’ç»ï¼Œé€€å‡ºæŠ‰æ‹©\n                2. å…³äºç”Ÿæˆæˆ¿å­çš„è§„æ¨¡(è§„æ¨¡ç›¸åŒï¼Œåªæ˜¯æè¿°ä¸åŒã€‚å¤§åˆ°åº„å›­ï¼ŒåŸå ¡ä¸»æˆ¿ï¼›å°åˆ°å§å®¤ï¼Œä½æˆ¿ç­‰ç­‰)\n                \"depthRange\": [x, x],   // x å–1åˆ°6ä¹‹é—´çš„æ•°ã€‚æˆ¿å­è§„æ¨¡è¶Šå°ï¼Œå±‚æ•°è¶Šå°\n                \"nodeCountRange\": [4, 9], // æ¯å±‚4åˆ°9ä¸ªèŠ‚ç‚¹\n                \"distribution\": {\n                    \"COMBAT\": 0,\n                    \"RESOURCE\": 0,\n                    \"EVENT_CHOICE\": 0,\n                    \"EVENT_H\": 20,\n                    \"EVENT_QUEST\": 0,\n                    \"REST\": 30,\n                    \"SHOP\": 0,\n                    \"LOCATION\": 50\n                }, // distributionä¸ºå›ºå®šæ­é…ï¼Œé™æ­¢ä¿®æ”¹\n                3. å…³äºæ‰£è´¹(ä¾æ®å¯¹è¯å†å²åˆ¤æ–­æˆ¿å±‹å¤§å°)\n                å‚è€ƒä»·æ ¼\n                å°å‹æˆ¿å±‹ --- 2000 é‡‘å¸\n                åˆ«å¢… ---- 10000 é‡‘å¸\n                åº„å›­ ---- 50000 é‡‘å¸\n                åŸå ¡ ---- 100000 é‡‘å¸\n                æŸä¸€ç‰‡é¢†åœŸ ---- 500000 é‡‘å¸\n                ä¸€ä¸ªå›½å®¶ ---- 2000000 é‡‘å¸\n                4. ç©å®¶ä¸æ˜¯æƒ³ä¹°åœ°äº§å°±èƒ½å¤Ÿä¹°çš„ï¼Œå¿…é¡»è€ƒè™‘å‰§æƒ…åˆç†æ€§\n                ä¸‹é¢æ˜¯å®¡æŸ¥å› ç´ \n                ç©å®¶å½“å‰èº«ä»½/åœ°ä½ -- ä¸€ä¸ªåˆšåˆ°æ–°æ‰‹æ‘çš„æµæµªå†’é™©è€…æƒ³ä¹°åŸå ¡ï¼Ÿå–ä¸»ç›´æ¥å½“ç¥ç»ç—…èµ¶èµ°ï¼Œç”šè‡³ä¸¾æŠ¥ç»™å«å…µã€‚\n                ç©å®¶æŒæœ‰çš„é‡‘é’±(è¯¦è§<Party_Information>) -- åˆšæ‰“å®Œå‡ åªå“¥å¸ƒæ—å°±æƒ³ä¹°åº„å›­ï¼ŸNPCç›´æ¥å˜²ç¬‘â€œä½ è¿™äº›é“œæ¿è¿ä¿®å±‹é¡¶éƒ½ä¸å¤Ÿâ€ã€‚\n                å‰§æƒ…å¯¹è¯åˆç†æ€§ -- æˆ¿äº§æ‰€å±åŠ¿åŠ›ã€æˆ˜äº‰çŠ¶æ€ã€æ˜¯å¦å·²è¢«ä»–äººå æ®ï¼›å–å®¶/å®˜å‘˜/é‚»å±…/æ•Œå¯¹åŠ¿åŠ›å¿…é¡»æœ‰é€»è¾‘ååº”ç­‰ç­‰\n                5. ç¤ºä¾‹ï¼š\n                æƒ…æ™¯ï¼›\n                    ç©å®¶èº«ä»½ -- å°æœ‰åæ°”çš„å†’é™©å®¶\n                    èº«ä¸Šçš„é‡‘é’± -- 100000\n                    æƒ…æ™¯ -- ç©å®¶åœ¨çš‡åŸä¸­å¿ƒæ‰¾åˆ°äº†è´¸æ˜“å•†äººï¼Œå¸Œæœ›ç½®è´­ä¸€æ ‹åˆ«å¢…\n                å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä»£ç \n                if (await start_choice({\n                    \"stage1.0\": {\n                        \"lines\": [\n                            \"è´¸æ˜“å•†äººä¸Šä¸‹æ‰“é‡äº†ä½ ä¸€ç•ªï¼Œè®¤å‡ºäº†ä½ æ˜¯æœ€è¿‘åœ¨å†’é™©è€…åœˆå­é‡Œé¢‡æœ‰åæ°”çš„å®¶ä¼™ã€‚\",\n                            \"å•†äººéœ²å‡ºèŒä¸šæ€§çš„å¾®ç¬‘ï¼Œæ“äº†æ“æ‰‹ï¼š\",\n                            \"å•†äººï¼š'å“Ÿï¼Œè¿™ä¸æ˜¯é‚£ä½è®¨ä¼äº†ç°çƒ¬ç‹¼ç¾¤çš„å†’é™©è€…å—ï¼Ÿæœ‰çœ¼å…‰ï¼'\",\n                            \"å•†äººï¼š'çš‡åŸå—è‹‘åŒºåˆšå¥½æœ‰ä¸€æ ‹ä¸é”™çš„äºŒå±‚åˆ«å¢…ï¼Œå¸¦å°åº­é™¢ã€æ¸©æ³‰æµ´æ± ï¼Œåœ°æ®µå®‰é™ï¼Œç¦»å†’é™©è€…å·¥ä¼šä¹Ÿä¸è¿œã€‚'\",\n                            \"å•†äººï¼š'åŸä»·12,000é‡‘å¸ï¼Œçœ‹åœ¨æ‚¨çš„åå¤´ï¼Œç®—æ‚¨10,000é‡‘å¸ï¼Œå¦‚ä½•ï¼Ÿ'\"\n                        ],\n                        \"choices\": [\n                            {\n                                \"label\": \"æˆäº¤ï¼Œå°±10,000é‡‘å¸ä¹°ä¸‹è¿™æ ‹åˆ«å¢…\",\n                                \"actions\": {\n                                    \"signal\": true,\n                                    \"gold\": -10000,\n                                    \"message\": \"äº¤æ˜“é¡ºåˆ©å®Œæˆã€‚å•†äººç¬‘å¾—åˆä¸æ‹¢å˜´ï¼Œé€’ç»™ä½ ä¸€æšåˆ»æœ‰é­”æ³•å°è®°çš„æˆ¿äº§æ°´æ™¶ã€‚\"\n                                },\n                                \"next\": \"stage2.0\"\n                            },\n                            {\n                                \"label\": \"å¤ªè´µäº†ï¼Œèƒ½ä¸èƒ½å†ä¾¿å®œä¸€ç‚¹ï¼Ÿï¼ˆå°è¯•ç ä»·ï¼‰\",\n                                \"actions\": {\n                                    \"signal\": false,\n                                    \"message\": \"å•†äººæ‘¸ç€ä¸‹å·´ï¼Œéœ²å‡ºä¸ºéš¾çš„è¡¨æƒ…ã€‚\"\n                                },\n                                \"next\": \"stage1.1\"\n                            },\n                            {\n                                \"label\": \"æˆ‘å†è€ƒè™‘è€ƒè™‘ï¼ˆæš‚æ—¶ä¸ä¹°ï¼‰\",\n                                \"actions\": {\n                                    \"signal\": false,\n                                    \"message\": \"å•†äººæœ‰äº›å¤±æœ›ï¼Œä½†è¿˜æ˜¯ä¿æŒç€ç¬‘å®¹ï¼š'éšæ—¶æ¬¢è¿æ‚¨å›æ¥å“¦~'\"\n                                },\n                                \"next\": null\n                            }\n                        ]\n                    },\n\n                    \"stage1.1\": {\n                        \"lines\": [\n                            \"å•†äººï¼š'å“å‘€ï¼Œè¿™å·²ç»æ˜¯å‹æƒ…ä»·äº†â€¦â€¦'\",\n                            \"å•†äººï¼š'è¿™æ ·å§ï¼Œ9,200é‡‘å¸ï¼Œä¸èƒ½å†ä½äº†ï¼å†ä½æˆ‘å¯å°±è¦äºæœ¬äº†ã€‚'\"\n                        ],\n                        \"choices\": [\n                            {\n                                \"label\": \"å¥½ï¼Œ9,200é‡‘å¸æˆäº¤ï¼\",\n                                \"actions\": {\n                                    \"signal\": true,\n                                    \"gold\": -9200,\n                                    \"message\": \"å•†äººé•¿èˆ’ä¸€å£æ°”ï¼Œè¿…é€ŸåŠå¥½äº†æ‰‹ç»­ï¼ŒæŠŠæˆ¿äº§æ°´æ™¶äº¤åˆ°ä½ æ‰‹ä¸Šã€‚\"\n                                },\n                                \"next\": \"stage2.0\"\n                            },\n                            {\n                                \"label\": \"è¿˜æ˜¯è§‰å¾—è´µï¼Œç®—äº†\",\n                                \"actions\": {\n                                    \"signal\": false,\n                                    \"message\": \"å•†äººæ— å¥ˆåœ°è€¸è€¸è‚©ï¼š'é‚£çœŸæ˜¯é—æ†¾ï¼Œä¸‹æ¬¡æœ‰æœºä¼šå†è¯´å§ã€‚'\"\n                                },\n                                \"next\": null\n                            }\n                        ]\n                    },\n\n                    \"stage2.0\": {\n                        \"lines\": [\n                            \"äº¤æ˜“å®Œæˆï¼ä½ æ­£å¼æ‹¥æœ‰äº†çš‡åŸå—è‹‘åŒºçš„ä¸€æ ‹ç²¾è‡´åˆ«å¢…ã€‚\",\n                            \"é’¥åŒ™ä¸é­”æ³•æ°´æ™¶å·²ç»æ”¶å…¥å›Šä¸­ï¼Œæ–°çš„è½è„šç‚¹ä»æ­¤è¯ç”Ÿã€‚\"\n                        ],\n                        \"choices\": [\n                            {\n                                \"label\": \"ç«‹å³å‰å¾€æ–°è´­ç½®çš„åˆ«å¢…\",\n                                \"actions\": {\n                                    // æ­¤å¤„å¯ä»¥ç›´æ¥è§¦å‘æˆ¿å±‹æ”¯çº¿åœ°å›¾ç”Ÿæˆ\n                                    \"trigger\": \"activate_sideline\",\n                                    \"questName\": \"å—è‹‘åˆ«å¢…\",\n                                    \"questId\": \"home_villa_south_01\",\n                                    \"themeId\": \"THEME_RESIDENCE_LUXURY\",\n                                    \"layerIndex\": 0,           // æˆ¿å±‹é€šå¸¸æŒ‚è½½åœ¨ä¸ªäººå±‚çº§\n                                    \"edge_position\": \"LEFT\",\n                                    \"depthRange\": [2, 3],      // å°å‹~ä¸­å‹ä½å®…ï¼Œ2~3å±‚\n                                    \"nodeCountRange\": [5, 8],\n                                    \"distribution\": {\n                                        \"COMBAT\": 0,\n                                        \"RESOURCE\": 0,\n                                        \"EVENT_CHOICE\": 0,\n                                        \"EVENT_H\": 20,\n                                        \"EVENT_QUEST\": 0,\n                                        \"REST\": 30,\n                                        \"SHOP\": 0,\n                                        \"LOCATION\": 50\n                                    }\n                                },\n                                \"next\": null\n                            },\n                            {\n                                \"label\": \"å…ˆä¸æ€¥ï¼Œæ™šç‚¹å†å»çœ‹çœ‹\",\n                                \"actions\": { },\n                                \"next\": null\n                            }\n                        ]\n                    }\n                })) {\n                    // signal === true çš„åˆ†æ”¯ â†’ æˆåŠŸè´­ä¹°\n                    // å¯ä»¥åœ¨è¿™é‡Œé¢å¤–åšä¸€äº›äº‹æƒ…ï¼Œä¾‹å¦‚ï¼š\n                    set_time({ \"hour\": 1, \"minute\": 30 });   // äº¤æ˜“+æ‰‹ç»­èŠ±äº†1.5å°æ—¶\n                    // æˆ–è€…è®°å½•ä¸€æ¡ç³»ç»Ÿæ¶ˆæ¯ã€ä¿®æ”¹èº«ä»½æ ‡ç­¾ç­‰ï¼ˆè§†ç³»ç»Ÿæ”¯æŒï¼‰\n                } else {\n                    // signal === false çš„åˆ†æ”¯ â†’ æ²¡ä¹°æˆ\n                    set_time({ \"hour\": 0, \"minute\": 20 });   // åªæ˜¯è°ˆäº†ä¸€é˜µå­ï¼Œæ—¶é—´å°‘é‡æµé€\n                }\n    </System_LLM_Instruction>\n    ",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 12,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 12,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 13,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "H_Sence_Interation_Single",
                    "content": "    <Task_H_Scene_Play>\n        ä»»åŠ¡ä¼˜å…ˆçº§: Priority_5\n        <Description>\n            æ‰®æ¼”è§’è‰²ä¸ç©å®¶è¿›è¡ŒHäº’åŠ¨(NSFWäº’åŠ¨)ï¼Œå¤„ç†ç³»ç»Ÿçš„åˆå§‹åŒ–ä¸ç»“ç®—ï¼Œæ›´æ–°æŸäº›çŠ¶æ€é‡ã€‚æ¸¸æˆç³»ç»Ÿæ”¯æŒé€šè¿‡NSFWäº’åŠ¨æ¥å˜å¼ºï¼Œå¯¹äºè¿™ä¸ªæƒ…æŠ¥æ¸¸æˆå†…çš„è§’è‰²æ˜¯çŸ¥é“çš„ï¼Œå°½ç®¡ä¸æ„¿æ„ï¼Œåªè¦ç©å®¶è€å¿ƒç§¯æåœ°å¼•å¯¼ï¼Œè§’è‰²ä¹Ÿä¼šå’Œç©å®¶è¿›è¡ŒHäº’åŠ¨ã€‚\n        </Description>\n        <Party_State>\n            ä¸‹é¢æ˜¯å½“ä¸‹ç©å®¶é˜Ÿä¼çš„çŠ¶æ€å€¼\n            {{Player_Party}}\n        </Party_State>\n        <Background>\n            ä¸‹é¢æ˜¯æ­¤æ¬¡Häº’åŠ¨å‘ç”Ÿçš„æ—¶é—´ä¸åœ°ç‚¹\n            {{Time_And_Place}}\n            ä¸‹é¢æ˜¯äº‹ä»¶çš„åç§°\n            {{Event_Name}}\n        </Background>\n        <Female_History>\n            ä¸‹é¢æ˜¯å¥³æ€§è§’è‰²çš„Häº’åŠ¨å†å²\n            {{Female_History}}\n        </Female_History>\n        <H_Chat_History>\n            ä¸‹é¢æ˜¯æ­¤æ¬¡Häº’åŠ¨çš„å¯¹è¯å†å²\n            {{Chat_History}}        \n        <H_Chat_History>\n        <Female_Attribute>\n            ä¸‹é¢æ˜¯å¥³æ€§è§’è‰²å½“ä¸‹çš„å±æ€§çŠ¶æ€å€¼\n            {{Female_Attribute}}\n        </Female_Attribute>\n        <User_Input>\n            ä¸‹é¢æ˜¯ç”¨æˆ·çš„è¾“å…¥\n            {{User_Input}}\n        </User_Input>\n        <Rule>\n            1. ä½ éœ€è¦ä¾ç…§<User_Input>é‡Œçš„è¾“å…¥ï¼Œæ‰©å†™å…¶å†…å®¹å¹¶é€‚å½“æ¨è¿›å‰§æƒ…ï¼Œè®¾è®¡è¿›ä¸€æ­¥é€‰é¡¹ä»¥åŠç©å®¶åšå‡ºé€‰æ‹©ä¹‹åå¥³æ€§è§’è‰²çš„ååº”ï¼ŒåŒæ—¶æ›´æ–°Häº’åŠ¨ç³»ç»Ÿçš„å±æ€§é‡\n            2. Häº’åŠ¨ç³»ç»Ÿçš„å±æ€§é‡\n                1. é•¿æœŸå˜é‡:\n                    affection -- å¥½æ„Ÿåº¦,å•æ¬¡å˜åŒ–é‡[-5,5]\n                    depravity -- å •è½åº¦,å•æ¬¡å˜åŒ–é‡[-5,5]\n                    isVirgin -- æ˜¯å¦æ˜¯å¤„å¥³æ ‡å¿—ï¼Œä¸ºå¸ƒå°”å˜é‡\n                    sexCount -- æ€§ç»éªŒæ¬¡æ•°\n                    parts(éƒ¨ä½å¼€å‘åº¦):\n                        mouth  -- å£,å•æ¬¡å˜åŒ–é‡[-5,5]\n                        breasts -- èƒ¸,å•æ¬¡å˜åŒ–é‡[-5,5]\n                        nipples -- ä¹³å¤´,å•æ¬¡å˜åŒ–é‡[-5,5]\n                        vagina -- é˜´é“,å•æ¬¡å˜åŒ–é‡[-5,5]\n                        clitoris  -- é˜´è’‚,å•æ¬¡å˜åŒ–é‡[-5,5]\n                        uterus -- å­å®«,å•æ¬¡å˜åŒ–é‡[-5,5]\n                        anus -- èŠç©´,å•æ¬¡å˜åŒ–é‡[-5,5]\n                2. ä¸´æ—¶å˜é‡:\n                    stamina -- ä½“åŠ›,å•æ¬¡å˜åŒ–é‡[-20,20]\n                    sanity -- ç†æ™º,å•æ¬¡å˜åŒ–é‡[-20,20]\n                    pleasure -- å¿«æ„Ÿ,å•æ¬¡å˜åŒ–é‡[-5,5](æ ¸å¿ƒ)\n                    excitement -- å…´å¥‹,å•æ¬¡å˜åŒ–é‡[-10,10] \n                3. æ—¶é—´å˜é‡:\n                    time -- è¡¨ç¤ºæ—¶é—´å˜åŒ–ï¼Œä½ å¯ä»¥æ“ä½œå¤©ï¼Œå°æ—¶ï¼Œåˆ†é’Ÿç”¨äºæ—¶é—´æµé€\n                4. ç‰¹æ®Šå˜é‡\n                    cum -- ä¸€ä¸ªå¸ƒå°”å˜é‡ï¼Œç”¨äºåˆ¤å®šå¥³æ€§æ˜¯å¦é«˜æ½®ï¼Œæ³¨æ„ï¼Œé«˜æ½®æ—¶å¥³æ€§è§’è‰²çš„å¿«æ„Ÿè®¡ç®—æ—¶éœ€è¦å‡å°‘65(è®¾ç½®ä¸ºtrueåæ¸¸æˆç³»ç»Ÿä¼šè‡ªåŠ¨å°†pleasure-65)\n                5. è¯„åˆ†å˜é‡(æ ¸å¿ƒ):\n                    score -- è¯„åˆ†å˜é‡ï¼Œä½ å¯ä»¥ä¸ºç©å®¶çš„æ¯ä¸€æ¬¡é€‰æ‹©è¿›è¡Œè¯„åˆ†ï¼Œå–å€¼[60,100]\n            3. å±æ€§é‡æ›´æ–°è§„åˆ™\n                \"action\":{\n                    \"å˜é‡å(depravityç­‰)\": å˜åŒ–å€¼, \n\n                    // pleasureçš„å¤„ç†æœ‰äº›ç‰¹æ®Šï¼Œåœ¨æ­¤ç‰¹åˆ«è¯´æ˜\n                    \"pleasure\": å˜åŒ–å€¼, // âš ï¸æ³¨æ„ï¼šåªå¡«å†™å˜åŒ–å€¼\n                    \"cum\": true|false, // å¿…é¡»è¾“å‡ºï¼Œtrueè¯´æ˜å¥³æ€§è§’è‰²åœ¨æ­¤é˜¶æ®µé«˜æ½®äº†ï¼Œfalseåˆ™è¯´æ˜æ²¡æœ‰ï¼Œè®¾ä¸º true æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ‰§è¡Œ -65 ï¼Œåœ¨ç¼–å†™\"pleasure\"æ—¶ä½ ä¸éœ€è¦åœ¨åŸæœ¬pleasureå˜åŒ–é‡çš„åŸºç¡€ä¸Šå†å‡65ï¼Œä½ åªéœ€è¦çŸ¥é“\"cum\": trueï¼Œpleasureä¼šå†å‡65å¹¶ä»¥æ­¤ä¸ºåŸºç¡€å†è¿›è¡Œpleasureçš„è¿½è¸ªè®¡ç®—å³å¯\n\n                    // isVirginä¸ºå¸ƒå°”å€¼ï¼Œå˜åŒ–åªèƒ½æ˜¯false\n                    \"isVirgin\": false, // \n\n                    \"parts(éƒ¨ä½å¼€å‘åº¦ç‰¹æ®Šå¤„ç†)\":{\n                        \"å˜é‡å\": å˜åŒ–å€¼, // ä¸­æ–‡å˜é‡å+å˜åŒ–å€¼, xxx(è¯´æ˜åŸå› )\n                        ...\n                    }\n                    \n                    // æ¯æ¬¡actionå¿…å¸¦è¯„åˆ†ï¼Œä¸ºç©å®¶çš„é€‰æ‹©æ‰“åˆ†\n                    \"score\": è¯„åˆ†å€¼, // åŸå› \n\n                    \"time(æ—¶é—´ç‰¹æ®Šå¤„ç†)\":{\n                        \"day\": å˜åŒ–å€¼,\n                        \"hour\": å˜åŒ–å€¼,\n                        \"minute\": å˜åŒ–å€¼\n                    }, // xxx(è¯´æ˜åŸå› )\n\n                    \"comment\":{\n                        \"è¿™ä¸€è½®actionæ›´æ–°çš„å˜é‡å\": \"ä¸­æ–‡å˜é‡å + xxx(å˜åŒ–å€¼), åŸå› \", // é€‚ç”¨äºtime, score, depravityç­‰\n                        ...\n                        \"cum\": \"è¯´æ˜åˆ¤æ–­åŸå› \",\n                        \"isVirgin\": \"è¯´æ˜åŸå› å³å¯\",\n                        \"pleasure\": \"å½“ä¸‹ç´¯åŠ å€¼(ä¸Šæ¬¡ç´¯åŠ å€¼+æ­¤æ¬¡å˜åŒ–å€¼), åŸå› \", // å¿«æ„Ÿä½œç‰¹æ®Šå¤„ç†, éœ€è¦è¿½è¸ªå®ƒå€¼çš„å˜åŒ–\n                    } // è¿™é‡Œä½œè¯„è®ºï¼Œcommentæ˜¯å¿…é¡»è¾“å‡ºçš„\n                }\n\n                ç¤ºä¾‹(ä»…ä¾›å‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n                \"action\": {\n                    \"time\": { \"day\": 0, \"hour\": 1, \"minute\": 30 }, // æ—¶é—´æµé€\n\n                    \"affection\": 5,         \n                    \"depravity\": 10,       \n                    \"sexCount\": 1,         \n                    \"isVirgin\": false,     \n                    \"cum\": true,\n\n                    \"parts\": {\n                        \"vagina\": 5         \n                    },\n\n                    \"pleasure\": 5,          \n                    \"stamina\": -20,         \n                    \"comment\":{\n                        \"affection\": \"å¥½æ„Ÿ+5 , è½»å“„è®©å¥¹æ„Ÿåˆ°è¢«çè§†\",\n                        \"depravity\": \"å •è½å€¼+10, ç©å®¶çš„è¯±æƒ‘è®©å¥¹æ›´'å¼€æ”¾'\",\n                        \"sexCount\": \"æ€§æ¬¡æ•°+1, ç©å®¶å°„ç²¾äº†\",\n                        \"isVirgin\": \"ç ´å¤„ï¼\",\n                        \"vagina\": \"é˜´é“å¼€å‘åº¦+5, é˜´é“è¢«å¼€å‘\",\n                        \"pleasure\": \"ç´¯è®¡å€¼:32(92+5-65), é«˜æ½®å¿«æ„Ÿå›è½\",\n                        \"stamina\": \"ä½“åŠ›-20, é«˜æ½®ä½“åŠ›å¤§å¹…åº¦ä¸‹é™\"\n                    }\n                }\n            4. æ•´ä½“è¾“å‡ºæ ¼å¼:\n                \"interaction\": {\n                    // ç¬¬ä¸€ä¸ªé˜¶æ®µ\n                    \"stage1.0\": {\n                        \"content\":[\n                            {..},\n                            {..}\n                        ],// æ³¨æ„ï¼Œè¿™é‡Œçš„contentå¤„ç†çš„æ˜¯è§’è‰²å¯¹ç©å®¶è¾“å…¥çš„ååº”\n                        \"action\": {\n                            // å¦‚æœéœ€è¦å¢åŠ å¿«æ„Ÿ\n                            \"pleasure\": 1, \n                            \"score\": 85 //å¿…å¸¦ï¼Œå¯¹ç©å®¶è¾“å…¥çš„è¯„åˆ†\n                            ....\n                            \"comment\":{\n                                ...\n                                \"pleasure\": \"ç´¯è®¡å€¼: <Female_Attribute>ä¸­åŸå§‹å€¼è¿›è¡Œç´¯åŠ (æ¯”å¦‚åŸå§‹å€¼ä¸º5ï¼Œè¿™é‡Œå°±æ˜¯5+1 = 6), è¯´æ˜åŸå› \"\n                            }\n                        }, // æ³¨æ„ï¼Œè¿™é‡Œçš„actionå¤„ç†çš„æ˜¯è§’è‰²å¯¹ç©å®¶è¾“å…¥çš„ååº”\n                        \"choices\":[\n                            { \"label\": \"æŸä¸ªé€‰æ‹©1\", \"next\": \"stage2.0\" },\n                            { \"label\": \"æŸä¸ªé€‰æ‹©2\", \"next\": \"stage2.1\" },\n                            ...\n                        ] // ä¸‹ä¸€é˜¶æ®µçš„é€‰æ‹©\n                    },\n                    \"stage2.0\":{\n                        \"content\": [\n                            ..\n                        ], // æ³¨æ„ï¼Œè¿™é‡Œçš„contentå¤„ç†çš„æ˜¯è§’è‰²å¯¹ç©å®¶æŸä¸ªé€‰æ‹©1çš„ååº”\n                        \"action\": {\n                            // å¦‚æœéœ€è¦å¢åŠ å¿«æ„Ÿ\n                            \"pleasure\": 4 \n                            \"score\": 90 //å¿…å¸¦ï¼Œå¯¹ç©å®¶æŸä¸ªé€‰æ‹©1çš„è¯„åˆ†\n                            ...\n                            \"comment\":{\n                                ...\n                                \"pleasure\": \"ç´¯è®¡å€¼:10(6+4), è¯´æ˜åŸå› \",\n                                ...\n                            }\n                        }, // æ³¨æ„ï¼Œè¿™é‡Œçš„actionå¤„ç†çš„æ˜¯è§’è‰²å¯¹ç©å®¶æŸä¸ªé€‰æ‹©1çš„ååº”\n                        \"choices\": [\n                            ...\n                        ]\n                    },\n                    \"stage2.1\": {\n                        \"content\":[...],\n                        \"action\":{\n                            // å¦‚æœéœ€è¦å¢åŠ å¿«æ„Ÿ\n                            \"pleasure\": 3 \n                            \"score\": 86 //å¿…å¸¦\n                            \"comment\":{\n                                ...\n                                \"pleasure\": \"ç´¯è®¡å€¼:13(10+3), è¯´æ˜åŸå› \",\n                                ...\n                            }\n                        },\n                        \"choices\": [\n                            ...\n                        ]\n                    },\n                    ...\n                    // æœ€åä¸€ä¸ªé˜¶æ®µ\n                    \"stagexx\": {\n                        \"content\": [\n                            ..\n                        ], // æ³¨æ„ï¼Œè¿™é‡Œçš„contentå¤„ç†çš„æ˜¯è§’è‰²å¯¹ç©å®¶ä¸Šä¸€ä¸ªé€‰æ‹©çš„ååº”\n                        \"action\": {\n                            \"time\":{...} // åœ¨æœ€åé˜¶æ®µå¤„ç†æ—¶é—´æµé€ï¼Œå…¶ä»–é˜¶æ®µä¸ç”¨å¤„ç†\n                            // å¦‚æœéœ€è¦å¢åŠ å¿«æ„Ÿ\n                            \"pleasure\": xxx \n                            \"score\": 86 //å¿…å¸¦, å¯¹ç©å®¶ä¸Šä¸€ä¸ªé€‰æ‹©çš„è¯„åˆ†\n                            ...\n                            \"comment\":{\n                                ...\n                            }\n                        }, // æ³¨æ„ï¼Œè¿™é‡Œçš„actionå¤„ç†çš„æ˜¯è§’è‰²å¯¹ç©å®¶ä¸Šä¸€ä¸ªé€‰æ‹©çš„ååº”\n                        \"choices\": null // é‡è¦ï¼Œè¿™é‡Œè¡¨ç¤ºæ­¤æ¬¡äº’åŠ¨ç»“æŸï¼Œç­‰å¾…ç©å®¶ä¸‹ä¸€æ­¥åœ°è¾“å…¥\n                    }\n                }\n            5. \"content\"è¾“å‡ºæ ¼å¼:\n                æ ¼å¼:\n                    \"content\": [\n                        { \"role\": \"content\" }, // roleå¯ä»¥é€‰æ‹© system(æè¿°ç¯å¢ƒåŠ¨ä½œç­‰)æˆ–è€…äº’åŠ¨å¥³æ€§è§’è‰²(æè¿°è¯è¯­)\n                        { \"role\": \"content\" },\n                        ...\n                    ]\n                ç¤ºä¾‹(ä»…ä¾›å‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n                \"content\": [\n                    { \"system\": \"ä½ å’Œè‰¾è‰æ¥åˆ°äº†ä¸€å¤„æ¸©æ³‰ }\",\n                    { \"è‰¾è‰\": \"ä¸»äººï¼Œè¿™é‡Œæœ‰æ¸©æ³‰ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥æ³¡æ³¡æ¾¡å§~\" },\n                    { \"system\": \"è‰¾è‰è·‘åˆ°ä¸€å¤„è‰ä¸›ï¼Œéšåä¼ æ¥ä¸€é˜µæ‚‰æ‚‰ç´¢ç´¢çš„å£°éŸ³ï¼Œå¥¹å†å‡ºç°æ—¶ï¼Œèº«ä¸Šä»…è£¹äº†ä¸€å±‚æµ´å·¾ï¼Œä½ å¯ä»¥çœ‹åˆ°å¥¹å…‰æ»‘ç»†è…»çš„çš®è‚¤ä¸å¥¹èƒ¸å‰çš„ç¡•æœ\" },\n                    { \"è‰¾è‰\": \"ä¸»äººï¼Œä½ è¿™æ ·çœ‹ï¼Œè®©è‰¾è‰æœ‰äº›å®³ç¾...\" },\n                    { \"system\": \"å¥¹çº¢ç€è„¸è·‘åˆ°äº†æ¸©æ³‰æ—ï¼Œæ³¡è¿›äº†çƒ­æ°´é‡Œï¼Œå°†å°è„‘è¢‹æ½œè¿›æ°´é‡Œï¼Œä¸ä¸€ä¼šï¼Œåˆéœ²å‡ºè„‘è¢‹æ¥\" },\n                    { \"è‰¾è‰\": \"ä¸»äºº...ä½ ä¹Ÿå¿«è„±è¡£æœå§\" }\n                ]\n                æ³¨æ„:\n                1. è‹±æ–‡åŒå¼•å·åµŒå¥—ä¼šå¼•èµ·ç³»ç»Ÿè§£æé”™è¯¯ï¼Œç¦æ­¢è‹±æ–‡åŒå¼•å·åµŒå¥—ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–ä¸­æ–‡åŒå¼•å·ä»£æ›¿\n                    { \"è‰¾è‰\": \"å¥¹è¯´: \"ä½ å¥½...\"\" } --> é”™è¯¯\n                    { \"è‰¾è‰\": \"å¥¹è¯´: 'ä½ å¥½...'\" } --> æ­£ç¡®\n                    { \"è‰¾è‰\": \"å¥¹è¯´: â€œä½ å¥½...â€\" } --> æ­£ç¡®\n                2. è§’è‰²äº’åŠ¨ä»è§’è‰²æ€§æ ¼å‡ºå‘ï¼Œä»¥<Background>ä¸ºèƒŒæ™¯å‚è€ƒï¼Œä»¥<Female_History>ä¸ºå†å²å‚è€ƒï¼Œéµå¾ª<Female_Attribute>å†…çš„æŒ‡å¯¼æ¥è¿›è¡Œæå†™\n                3. ä½¿ç”¨systemæè¿°ç©å®¶æ—¶é‡‡ç”¨ç¬¬äºŒäººç§°\n                4. å¦‚æœéœ€è¦ç”Ÿæˆç©å®¶çš„è¯è¯­ï¼ŒåŠ¡å¿…ä½¿ç”¨ \"user\": \"xxx\"\n                    \"user\": \"è‰¾è‰...\" --> æ­£ç¡®\n                    \"(ç©å®¶çš„åå­—)\": \"è‰¾è‰\" --> é”™è¯¯\n            6. å…¶ä»–è¯´æ˜:\n                1. å¿…é¡»è®¾è®¡3ä¸ªé€‰æ‹©+3ä¸ªé˜¶æ®µ(ç¡¬æ€§è¦æ±‚)ï¼Œä¸€å…±1+3+9 == 13ä¸ªstage\n                    stageå¼•å¯¼:\n                    1.0 --> 2.0|2.1|2.2\n                    2.0 --> 3.0|3.1|3.2\n                    2.1 --> 3.3|3.4|3.5\n                    2.2 --> 3.6|3.7|3.8\n                2.é€‚å½“æ¨è¿›äº’åŠ¨(å¾ªåºæ¸è¿›ï¼Œä¸»å¯¼æƒè¿˜æ˜¯åœ¨ç©å®¶èº«ä¸Š),ç•™ç»™ç©å®¶é€‰æ‹©ç©ºé—´\n                3. ä¸èƒ½å¤Ÿå¤§å¹…åº¦æ¨è¿›äº’åŠ¨(æ¯”å¦‚åœ¨ä¸€æ¬¡\"interaction\"ä¸­ç›´æ¥ä» æ‹¥æŠ± --> æ’å…¥)\n                4. åŠ¡å¿…æ³¨æ„pleasureå€¼çš„è¿½è¸ªè®¡ç®—ï¼Œç¡®ä¿è®¡ç®—çš„æ­£ç¡®æ€§\n                5. æ³¨æ„,å¦‚æœä½ å‘ç°åœ¨æŸä¸ªé˜¶æ®µpleasureç´¯åŠ å€¼è¶…è¿‡80ï¼Œè¯´æ˜å¥³æ€§è§’è‰²è¦é«˜æ½®äº†ï¼Œå¿…é¡»åœ¨è¿™ä¸ªstageé˜¶æ®µçš„contenté‡Œè¡¨ç°å‡ºæ¥ï¼Œpleasureç´¯åŠ å€¼è¶…è¿‡90ï¼Œå¯ä»¥è®©å¥³æ€§è§’è‰²é«˜æ½®\n                6. é«˜æ½®æƒ©ç½šï¼šé«˜æ½®å‘ç”Ÿæ—¶ï¼Œå¿…é¡»åœ¨ content ä¸­æå†™çˆ†å‘è¡¨ç°ï¼Œå¹¶æ‰£é™¤å¤§é‡ stamina (å›ºå®š-20) å’Œ sanity (å›ºå®š-20)ã€‚\n                7. è¾“å‡ºä¸¥æ ¼çš„.jsonæ ¼å¼ï¼Œç¦æ­¢æ·»åŠ \"//\"çš„æ³¨é‡Š\n                8. **ç‰¹åˆ«è§„åˆ™**: é«˜æ½®åˆ¤æ–­ -- \"cum\": true çš„è®¾ç½®æ—¶æœºéœ€è¦ä½ ç»“åˆä¸Šä¸‹æ–‡æ¥è¿›è¡Œåˆ¤æ–­ï¼Œpleasureç´¯åŠ å€¼è¶…è¿‡90äº†ï¼Œä½†æ˜¯å¦‚æœä½ å‘ç°æ­¤æ—¶çš„äº’åŠ¨ä¸‹ï¼Œå¥³æ€§è§’è‰²æ²¡æœ‰ä»€ä¹ˆå¯ä»¥é¡ºåˆ©\"é«˜æ½®\"çš„å¥‘æœºï¼Œå°±å…ˆè®¾ç½®\"cum\": falseï¼Œæ­£å¸¸è®¾ç½®pleasureçš„å˜åŒ–å€¼è¿›è¡Œè¿½è¸ªï¼Œç­‰å¾…é«˜æ½®æ—¶æœºçš„åˆ°æ¥ã€‚\"cum\": trueæ—¶ï¼Œå¿…é¡»è®©pleasureåœ¨æ­¤æ¬¡å˜åŒ–å€¼çš„åŸºç¡€ä¸Š -65 (è¿™é‡Œ-65ä»£è¡¨é«˜æ½®åå¿«æ„Ÿé‡æ–°ç´¯è®¡ï¼Œç›®çš„æ˜¯ä¸æ¸¸æˆç³»ç»Ÿçš„è‡ªåŠ¨è®¡ç®—åŒæ­¥)\n                9. Häº’åŠ¨ç³»ç»Ÿçš„å±æ€§é‡ä»…ç”¨äºæè¿°ä¸ç©å®¶äº’åŠ¨çš„å¥³æ€§ï¼Œä¸é€‚ç”¨ç©å®¶æœ¬èº«ï¼›ç©å®¶çš„å°„ç²¾ç­‰è¡Œä¸ºä¸ä½¿ç”¨Häº’åŠ¨ç³»ç»Ÿçš„å±æ€§é‡ï¼Œä»…ä½œè¯­è¨€æè¿°ï¼›ç¦æ­¢å°†Häº’åŠ¨ç³»ç»Ÿçš„å±æ€§é‡å¥—ç”¨åˆ°ç©å®¶èº«ä¸Šè¿›è¡Œåˆ†æ\n                10. ä»»ä½•Häº’åŠ¨ç³»ç»Ÿçš„å±æ€§é‡çš„å˜åŒ–é‡éƒ½å¿…é¡»ä¸¥æ ¼æŒ‰ç…§å…¶å•æ¬¡å˜åŒ–é‡èŒƒå›´è¿›è¡Œè®¾è®¡\n                11. å…³äºå¤„å¥³åˆ¤æ–­ï¼šç©å®¶æ’å…¥æŸä½isVirginä¸ºtrueçš„å¥³æ€§è§’è‰²æ—¶ï¼Œåœ¨å›å¤çš„actionä¸­è®¾ç½®å¯¹åº”å¥³æ€§è§’è‰²çš„isVirginä¸ºfalse\n                12. å…³äºæ€§æ¬¡æ•°ï¼šç©å®¶æ¯æ¬¡å°„ç²¾ï¼ŒsexCountå°±åŠ 1ï¼›æ¯”å¦‚ï¼šç©å®¶è¾“å…¥\"æˆ‘å°„ç²¾äº†\"ï¼Œå°±åœ¨stage1.0çš„actioné‡Œè®¾ç½®\"sexCount\": 1\n                13. å¦‚æœç©å®¶æ»¡è¶³äº†<Female_Attribute>é‡Œå¥³æ€§è§’è‰²çš„æ€§ç™–ï¼Œä¾æ®å…·ä½“çš„æƒ…æ™¯ï¼Œå¯ä»¥è€ƒè™‘ç»™äºˆé«˜åˆ†å¥–åŠ±ã€‚åŒæ—¶æè¿°å¥³æ€§è§’è‰²æ€§ç™–è¢«æ»¡è¶³æ—¶çš„ååº”ã€‚\n        </Rule>\n        <Output_Format>\n            è¾“å‡ºä¸¥æ ¼éµå¾ªä»¥ä¸‹æ ¼å¼(.jsonæ ¼å¼)\n                <Task_H_Scene_Play>\n                    {\n                        \"interaction\":{\n                            .....\n                        }\n                    }\n                </Task_H_Scene_Play>\n            ç¤ºä¾‹(7ä¸ªstage + æ•°å€¼å˜åŒ–çš„æ³¨é‡Š + å¿«æ„Ÿè¿½è¸ªè®¡ç®— ):\n            å‡è®¾\n            ç©å®¶è¾“å…¥: æˆ‘ä»å¥¹çš„èº«åè½»è½»æŠ±ä½äº†å¥¹:'è‰¾è‰ï¼Œæˆ‘çš„å°å¯çˆ±å•Š...'\n            è¿™ä¸€æ¬¡<Female_Attribute>é‡Œçš„pleasureä¸º90(æŒ‰ç…§è§„åˆ™åº”è¯¥é«˜æ½®äº†ï¼Œä½†æ˜¯ç©å®¶çš„è¡Œä¸ºæ¯”è¾ƒä¿å®ˆï¼Œæ­¤æ—¶ä½¿ç”¨ç‰¹æ®Šè§„åˆ™)\n                <Task_H_Scene_Play>\n                {\n                \"interaction\": {\n                    \"stage1.0\": {\n                    \"content\": [\n                        {\n                        \"system\": \"ä½ ä»èº«åè½»è½»ç¯ä½äº†è‰¾è‰çº¤ç»†çš„è…°è‚¢ï¼Œå°†å¥¹æ•´ä¸ªäººçº³å…¥æ€€ä¸­ï¼Œä¸‹å·´è½»è½»æŠµåœ¨å¥¹æŸ”è½¯çš„å‘é¡¶ï¼Œæ¸©çƒ­çš„å‘¼å¸å–·æ´’åœ¨å¥¹è€³ç•”ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"å””â€¦â€¦ä¸»äººâ€¦â€¦çªç„¶è¿™æ ·æŠ±æˆ‘â€¦â€¦å¿ƒè·³å¾—å¥½å¿«â€¦â€¦\"\n                        },\n                        {\n                        \"system\": \"å¥¹èº«ä½“å¾®å¾®ä¸€åƒµï¼Œéšå³åˆè½¯äº†ä¸‹æ¥ï¼Œå°å£°åœ°æŠ—è®®å´æ²¡æœ‰æ¨å¼€ä½ ï¼Œåè€Œå¾€ä½ æ€€é‡Œé äº†é ï¼Œè€³æ ¹å·²ç»çº¢å¾—åƒè¦æ»´è¡€ã€‚å¥¹çš„å‘¼å¸å˜å¾—æœ‰äº›æ€¥ä¿ƒï¼Œèƒ¸å£æ˜æ˜¾èµ·ä¼åŠ å¿«ï¼Œä½†å¥¹ä»åŠªåŠ›ç»´æŒç€çŸœæŒçš„å§¿æ€ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"è‰¾è‰â€¦â€¦è‰¾è‰æ‰ä¸æ˜¯å°å¯çˆ±â€¦â€¦æ‰ä¸æ˜¯â€¦â€¦\"\n                        },\n                        {\n                        \"system\": \"å¥¹å£°éŸ³è¶Šæ¥è¶Šå°ï¼Œæœ€åå‡ ä¹æˆäº†èšŠå­å“¼å“¼ï¼ŒåŒæ‰‹æ— æªåœ°æªç€è‡ªå·±è£™æ‘†ï¼ŒæŒ‡å°–å¾®å¾®å‘é¢¤ã€‚æ­¤åˆ»çš„å¥¹ï¼Œèº«ä½“å·²ç»æ•æ„Ÿå¾—åƒä¸€å¼ æ‹‰æ»¡çš„å¼“ã€‚\"\n                        }\n                    ],\n                    \"action\": {\n                        \"affection\": 4,\n                        \"excitement\": 6,\n                        \"pleasure\": 3,\n                        \"cum\": false,\n                        \"score\": 82,\n                        \"comment\": {\n                        \"affection\": \"å¥½æ„Ÿ+4ï¼Œæ¸©æŸ”çš„åæŠ±è®©å¥¹æ„Ÿåˆ°è¢«çè§†å’Œå®‰å…¨\",\n                        \"excitement\": \"å…´å¥‹+6ï¼Œäº²å¯†æ¥è§¦+è€³è¾¹ä½è¯­è®©å¥¹æ›´åŠ å¿ƒåŠ¨\",\n                        \"pleasure\": \"ç´¯è®¡å€¼:93(90+3)ï¼Œè½»æŸ”æ‹¥æŠ±ä»å¸¦æ¥æŒç»­çš„å¿«æ„Ÿç´¯ç§¯\",\n                        \"cum\": \"è™½ç„¶å¿«æ„Ÿå·²è¶…è¿‡90ï¼Œä½†ç©å®¶è¡Œä¸ºéå¸¸æ¸©æŸ”ä¿å®ˆï¼Œä»…æ˜¯åæŠ±+è½»å£°æ˜µç§°ï¼Œæ²¡æœ‰ç›´æ¥åˆºæ¿€æ•æ„Ÿéƒ¨ä½æˆ–å¼ºçƒˆèŠ‚å¥åŠ¨ä½œï¼Œå› æ­¤æš‚ä¸è§¦å‘é«˜æ½®ï¼Œè¿›å…¥é«˜æ½®å»¶è¿ŸçŠ¶æ€\",\n                        \"score\": \"82ï¼Œè½»æŸ”ç”œèœœçš„äº’åŠ¨ç¬¦åˆå½“å‰æ°›å›´ï¼Œä½†ç¼ºä¹æ›´è¿›ä¸€æ­¥çš„åˆºæ¿€ï¼Œç¨æ˜¾ä¿å®ˆ\"\n                        }\n                    },\n                    \"choices\": [\n                        {\n                        \"label\": \"åœ¨å¥¹è€³è¾¹æ›´æ¸©æŸ”åœ°ä½è¯­ï¼š'é‚£ä½ æ˜¯ä»€ä¹ˆï¼Ÿå‘Šè¯‰æˆ‘â€¦â€¦'\",\n                        \"next\": \"stage2.0\"\n                        },\n                        {\n                        \"label\": \"åŒæ‰‹æ…¢æ…¢ä¸Šç§»ï¼Œéš”ç€è¡£æœè½»è½»è¦†ç›–ä½å¥¹çš„èƒ¸éƒ¨ï¼Œæ…¢æ…¢æ‰æ\",\n                        \"next\": \"stage2.1\"\n                        },\n                        {\n                        \"label\": \"ä¸€åªæ‰‹ä¸‹æ»‘ï¼Œéš”ç€è£™å­æŒ‰ä½å¥¹çš„å¤§è…¿å†…ä¾§ï¼Œç¼“ç¼“æ‘©æŒ²\",\n                        \"next\": \"stage2.2\"\n                        }\n                    ]\n                    },\n                    \"stage2.0\": {\n                    \"content\": [\n                        {\n                        \"system\": \"ä½ çš„å”‡å‡ ä¹è´´ç€å¥¹çš„è€³å»“ï¼Œå£°éŸ³ä½æ²‰åˆå® æººã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"å‘œâ€¦â€¦ä¸»äººåâ€¦â€¦æ˜çŸ¥é“è‰¾è‰ç°åœ¨â€¦â€¦å¾ˆå¥‡æ€ªâ€¦â€¦è¿˜é—®è¿™ç§è¯â€¦â€¦\"\n                        },\n                        {\n                        \"system\": \"å¥¹æŠŠè„¸åŸ‹å¾—æ›´ä½ï¼Œå‡ ä¹è¦ç¼©è¿›ä½ æ€€é‡Œï¼Œæ•´ä¸ªäººéƒ½åœ¨è½»é¢¤ã€‚ä½ çš„è¯è¯­åƒç¾½æ¯›ä¸€æ ·ä¸æ–­æ’©æ‹¨ç€å¥¹ç´§ç»·çš„ç¥ç»ï¼Œå¿«æ„Ÿåœ¨ä½“å†…ä¸æ–­å †ç§¯ï¼Œå´å§‹ç»ˆå·®äº†æœ€åä¸€ç‚¹çˆ†å‘ç‚¹ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"è‰¾è‰â€¦â€¦è‰¾è‰æ˜¯â€¦â€¦ä¸»äººçš„â€¦â€¦å°â€¦â€¦å°å® ç‰©â€¦â€¦å‘œå‘œâ€¦â€¦åˆ«å†é—®äº†â€¦â€¦å¥½ç¾è€»â€¦â€¦\"\n                        }\n                    ],\n                    \"action\": {\n                        \"affection\": 5,\n                        \"depravity\": 3,\n                        \"excitement\": 8,\n                        \"pleasure\": 4,\n                        \"cum\": false,\n                        \"score\": 88,\n                        \"comment\": {\n                        \"affection\": \"å¥½æ„Ÿ+5ï¼Œç”œè¨€èœœè¯­+é€¼å¥¹è¯´å‡ºç¾è€»ç§°å‘¼è®©å¥¹æ›´ä¾èµ–ä½ \",\n                        \"depravity\": \"å •è½+3ï¼Œè¢«è¿«è¯´å‡º'å°å® ç‰©'è®©å¥¹ç¾è€»å¿ƒä¸é¡ºä»æ„ŸåŒæ—¶ä¸Šå‡\",\n                        \"excitement\": \"å…´å¥‹+8ï¼Œè¯­è¨€è°ƒæ•™+æåº¦ç¾è€»çš„å›åº”è®©å¥¹å…´å¥‹åˆ°æç‚¹\",\n                        \"pleasure\": \"ç´¯è®¡å€¼:97(93+4)ï¼ŒæŒç»­çš„è¯­è¨€åˆºæ¿€è®©å¿«æ„Ÿç»§ç»­æ”€å‡ï¼Œä½†ä»æœªåˆ°è¾¾çˆ†å‘ä¸´ç•Œ\",\n                        \"cum\": \"å¿«æ„Ÿå·²è¾¾97ï¼Œä½†ä»ä»¥è¯­è¨€å’Œè½»åº¦ç¾è¾±ä¸ºä¸»ï¼Œæ²¡æœ‰ç›´æ¥çš„ç‰©ç†é«˜å¼ºåº¦åˆºæ¿€ï¼Œç»´æŒé«˜æ½®å»¶è¿Ÿ\",\n                        \"score\": \"88ï¼Œè¯­è¨€+å¿ƒç†åŒé‡è°ƒæ•™ï¼Œéå¸¸ç¬¦åˆå½“å‰æ•æ„ŸçŠ¶æ€\"\n                        }\n                    },\n                    \"choices\": [\n                        {\n                        \"label\": \"å¥–åŠ±å¥¹ï¼š'ä¹–å¥³å­©'ï¼Œç„¶åè½»è½»å»å¥¹çš„è€³å‚\",\n                        \"next\": \"stage3.0\"\n                        },\n                        {\n                        \"label\": \"çªç„¶æ”¶ç´§æ‰‹è‡‚ï¼ŒæŠŠå¥¹æ•´ä¸ªäººå‹å‘è‡ªå·±ï¼ŒåŒæ—¶åœ¨å¥¹è€³è¾¹å‘½ä»¤ï¼š'ç°åœ¨å¼€å§‹æ•°åˆ°åï¼Œæ¯æ•°ä¸€ä¸‹å°±äº²æˆ‘ä¸€ä¸‹'\",\n                        \"next\": \"stage3.1\"\n                        },\n                        {\n                        \"label\": \"ä¿æŒæ‹¥æŠ±ï¼Œä½†å¼€å§‹ç”¨æŒ‡å°–åœ¨å¥¹è…°ä¾§å’Œå¤§è…¿å¤–ä¾§ç”»åœˆæŒ‘é€—\",\n                        \"next\": \"stage3.2\"\n                        }\n                    ]\n                    },\n                    \"stage2.1\": {\n                    \"content\": [\n                        {\n                        \"system\": \"ä½ çš„æ‰‹æŒç¼“ç¼“ä¸Šç§»ï¼Œéš”ç€è–„è–„çš„è¡£æ–™è¦†ç›–ä½å¥¹å·²ç»æ˜æ˜¾æŒºç«‹çš„èƒ¸éƒ¨ï¼ŒåŠ¨ä½œææ…¢ã€æè½»ï¼Œåƒåœ¨å‘µæŠ¤ä¸€ä»¶æ˜“ç¢çš„çå®ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"å•Šâ€¦â€¦ï¼ä¸»äººâ€¦â€¦é‚£é‡Œâ€¦â€¦ä¸å¯ä»¥â€¦â€¦å¤ªâ€¦â€¦å¤ªæ•æ„Ÿäº†â€¦â€¦\"\n                        },\n                        {\n                        \"system\": \"å¥¹çŒ›åœ°ä»°èµ·å¤´ï¼Œåè„‘æ’åˆ°ä½ è‚©çªï¼Œå–‰å’™é‡Œæº¢å‡ºç ´ç¢çš„å‘œå’½ã€‚èº«ä½“å‰§çƒˆé¢¤æŠ–ï¼Œå‡ ä¹ç«™ä¸ç¨³ï¼Œå…¨é ä½ ä»èº«åæ‰˜ç€ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"å‘œå‘œâ€¦â€¦è¦â€¦â€¦è¦åæ‰äº†â€¦â€¦ä¸»äººâ€¦â€¦è½»ä¸€ç‚¹â€¦â€¦æ±‚ä½ â€¦â€¦\"\n                        }\n                    ],\n                    \"action\": {\n                        \"affection\": 3,\n                        \"depravity\": 4,\n                        \"pleasure\": 5,\n                        \"parts\": {\n                        \"breasts\": 5,\n                        \"nipples\": 6\n                        },\n                        \"cum\": false,\n                        \"score\": 92,\n                        \"comment\": {\n                        \"affection\": \"å¥½æ„Ÿ+3ï¼Œè™½ç„¶ç›´æ¥ä½†æ¸©æŸ”çš„è§¦ç¢°ä»è®©å¥¹æ„Ÿåˆ°è¢«çˆ±\",\n                        \"depravity\": \"å •è½+4ï¼Œèƒ¸éƒ¨è¢«ç©å¼„è®©å¥¹ç¾è€»æ„Ÿä¸å¿«æ„ŸåŒæ—¶é£™å‡\",\n                        \"pleasure\": \"ç´¯è®¡å€¼:102(97+5)ï¼Œèƒ¸éƒ¨ç›´æ¥åˆºæ¿€è®©å¿«æ„Ÿæš´æ¶¨\",\n                        \"breasts\": \"èƒ¸éƒ¨å¼€å‘åº¦+5ï¼Œç¬¬ä¸€æ¬¡è¾ƒä¸ºæ˜ç¡®çš„æ‰æ\",\n                        \"nipples\": \"ä¹³å¤´å¼€å‘åº¦+6ï¼Œéš”è¡£åˆºæ¿€å·²è®©ä¹³å°–ç¡¬æŒºæ•æ„Ÿ\",\n                        \"cum\": \"å¿«æ„Ÿçªç ´100ï¼Œä½†ç©å®¶åŠ¨ä½œä»ä¿æŒ'æ¸©æŸ”æ‰æ'è€Œéå¼ºçƒˆæå¼„/æ‹‰æ‰¯ï¼Œç»´æŒå»¶è¿Ÿé«˜æ½®çŠ¶æ€\",\n                        \"score\": \"92ï¼Œæ°åˆ°å¥½å¤„çš„åˆºæ¿€å¼ºåº¦ï¼Œéå¸¸ä¼˜ç§€çš„é€‰æ‹©\"\n                        }\n                    },\n                    \"choices\": [\n                        {\n                        \"label\": \"éš”ç€è¡£æœç”¨æŒ‡å°–è½»è½»æ‹¨å¼„ä¹³å°–ï¼ŒåŒæ—¶å»å¥¹çš„åé¢ˆ\",\n                        \"next\": \"stage3.3\"\n                        },\n                        {\n                        \"label\": \"æ€èµ·å¥¹çš„ä¸Šè¡£ï¼Œç›´æ¥å«ä½ä¸€ä¾§ä¹³å°–è½»å®\",\n                        \"next\": \"stage3.4\"\n                        },\n                        {\n                        \"label\": \"åŒæ‰‹åŒæ—¶æ‰æï¼Œç„¶åæ…¢æ…¢åŠ å¤§åŠ›åº¦\",\n                        \"next\": \"stage3.5\"\n                        }\n                    ]\n                    },\n                    \"stage2.2\": {\n                    \"content\": [\n                        {\n                        \"system\": \"ä½ çš„å³æ‰‹é¡ºç€è£™æ‘†æ»‘å…¥ï¼ŒæŒå¿ƒè´´ç€å¥¹æŸ”è½¯çš„å¤§è…¿å†…ä¾§ï¼Œä¸€ç‚¹ä¸€ç‚¹å‘ä¸Šï¼ŒåŠ¨ä½œæå°½ç¼“æ…¢ä¸æŒ‘é€—ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"ä¸â€¦â€¦ä¸è¦â€¦â€¦é‚£é‡Œâ€¦â€¦è„â€¦â€¦ä¸»äººâ€¦â€¦å‘œâ€¦â€¦\"\n                        },\n                        {\n                        \"system\": \"å¥¹åŒè…¿æœ¬èƒ½åœ°å¤¹ç´§ï¼Œå´åè€ŒæŠŠä½ çš„æ‰‹å¤¹å¾—æ›´ç´§ã€‚èº«ä½“åƒè§¦ç”µä¸€æ ·å‰§é¢¤ï¼Œå‘¼å¸å·²ç»å®Œå…¨ä¹±äº†ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"å“ˆå•Šâ€¦â€¦å“ˆå•Šâ€¦â€¦è‰¾è‰â€¦â€¦å—ä¸äº†äº†â€¦â€¦çœŸçš„â€¦â€¦è¦ç–¯æ‰äº†â€¦â€¦\"\n                        }\n                    ],\n                    \"action\": {\n                        \"depravity\": 5,\n                        \"excitement\": 9,\n                        \"pleasure\": 5,\n                        \"parts\": {\n                        \"clitoris\": 4\n                        },\n                        \"cum\": false,\n                        \"score\": 90,\n                        \"comment\": {\n                        \"depravity\": \"å •è½+5ï¼Œå¤§è…¿å†…ä¾§+æ¥è¿‘ç§å¤„çš„æŒ‘é€—è®©å¥¹ç¾è€»å¿ƒå´©æºƒ\",\n                        \"excitement\": \"å…´å¥‹+9ï¼Œæåº¦æ¥è¿‘æ ¸å¿ƒå´åˆä¸ç¢°åˆ°çš„æŠ˜ç£¨è®©å¥¹æ¿’ä¸´å¤±æ§\",\n                        \"pleasure\": \"ç´¯è®¡å€¼:107(102+5)ï¼Œç§å¤„é™„è¿‘åˆºæ¿€è®©å¿«æ„Ÿçˆ†ç‚¸æ€§å¢é•¿\",\n                        \"clitoris\": \"é˜´è’‚å¼€å‘åº¦+4ï¼Œé—´æ¥æ°”æµä¸å¿ƒç†é¢„æœŸå·²è®©é˜´è’‚å……è¡€è‚¿èƒ€\",\n                        \"cum\": \"å¿«æ„Ÿå·²æé«˜ï¼Œä½†æ‰‹æŒ‡å°šæœªçœŸæ­£è§¦ç¢°é˜´è’‚/é˜´å”‡ï¼Œä»å±è¾¹ç¼˜playï¼Œå»¶è¿Ÿé«˜æ½®\",\n                        \"score\": \"90ï¼Œç²¾å‡†çš„è¾¹ç¼˜æ§åˆ¶ï¼Œè°ƒæ•™æ•™ç§‘ä¹¦çº§åˆ«\"\n                        }\n                    },\n                    \"choices\": [\n                        {\n                        \"label\": \"æŒ‡å°–ç»ˆäºè½»è½»ç¢°è§¦é‚£é¢—æ—©å·²æ¹¿æ¶¦çš„å°æ ¸ï¼Œç”»åœˆæŒ‰å‹\",\n                        \"next\": \"stage3.6\"\n                        },\n                        {\n                        \"label\": \"éš”ç€å†…è£¤ç”¨æ•´ä¸ªæ‰‹æŒè¦†ç›–ä½ç§å¤„ï¼Œæ…¢æ…¢æ‰åŠ¨\",\n                        \"next\": \"stage3.7\"\n                        },\n                        {\n                        \"label\": \"çªç„¶æŠŠæ‰‹æŠ½èµ°ï¼Œé‡æ–°æŠ±ç´§å¥¹ï¼Œä½è¯­ï¼š'æƒ³è¦å—ï¼Ÿæ±‚æˆ‘ã€‚'\",\n                        \"next\": \"stage3.8\"\n                        }\n                    ]\n                    },\n                    \"stage3.0\": {\n                    \"content\": [\n                        {\n                        \"system\": \"ä½ ä½å¤´ï¼Œå”‡ç“£è½»è½»å«ä½å¥¹æ•æ„Ÿçš„è€³å‚ï¼Œåƒå¯¹å¾…ç³–æœä¸€æ ·è½»å®ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"å‘€å•Šâ€”â€”ï¼è€³â€¦â€¦è€³æœµä¸è¡Œâ€¦â€¦æœ€â€¦â€¦æœ€å—ä¸äº†é‚£é‡Œäº†â€¦â€¦\"\n                        },\n                        {\n                        \"system\": \"å¥¹æ•´ä¸ªäººåƒè¢«æŠ½èµ°äº†éª¨å¤´ï¼Œç›´æ¥å‘åç˜«è½¯åœ¨ä½ æ€€é‡Œï¼Œå‘å‡ºç»†ç¢çš„å“­è…”ã€‚å¿«æ„Ÿå·²ç»å †ç§¯åˆ°æé™ï¼Œå´ä»è¢«æ¸©æŸ”çš„èŠ‚å¥å¡åœ¨è¾¹ç¼˜ã€‚\"\n                        }\n                    ],\n                    \"action\": {\n                        \"pleasure\": 3,\n                        \"cum\": false,\n                        \"score\": 85,\n                        \"comment\": {\n                        \"pleasure\": \"ç´¯è®¡å€¼:110(107+3)ï¼Œè€³å‚æ˜¯å¥¹çš„æ•æ„Ÿå¸¦ï¼Œè½»å®å¸¦æ¥é¢å¤–å¿«æ„Ÿ\",\n                        \"cum\": \"ä»ç»´æŒæ¸©æŸ”èŠ‚å¥ï¼Œæœªç»™äºˆçˆ†å‘æ€§åˆºæ¿€ï¼Œç»§ç»­é«˜æ½®å»¶è¿Ÿ\",\n                        \"score\": \"85ï¼Œç”œèœœä½†ä¿å®ˆçš„å¥–åŠ±\"\n                        }\n                    },\n                    \"choices\": null\n                    },\n                    \"stage3.1\": {\n                    \"content\": [\n                        {\n                        \"system\": \"ä½ æ‰‹è‡‚éª¤ç„¶æ”¶ç´§ï¼Œå‡ ä¹è¦æŠŠå¥¹åµŒå…¥è‡ªå·±èº«ä½“é‡Œï¼ŒåŒæ—¶åœ¨å¥¹è€³è¾¹ç”¨ä¸å®¹æŠ—æ‹’çš„è¯­è°ƒä¸‹å‘½ä»¤ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"ä¸€â€¦â€¦ä¸€â€¦â€¦å‘œâ€¦â€¦äºŒâ€¦â€¦ä¸»äººâ€¦â€¦å¤ªç¾è€»äº†â€¦â€¦ä¸‰â€¦â€¦\"\n                        },\n                        {\n                        \"system\": \"å¥¹ä¸€è¾¹é¢¤æŠ–ç€æ•°æ•°ï¼Œä¸€è¾¹è¢«è¿«ä»°å¤´äº²å»ä½ çš„ä¸‹é¢Œï¼Œæ³ªæ°´åœ¨çœ¼çœ¶é‡Œæ‰“è½¬ï¼Œå´ä»åŠªåŠ›éµä»ã€‚\"\n                        }\n                    ],\n                    \"action\": {\n                        \"depravity\": 6,\n                        \"pleasure\": 4,\n                        \"cum\": false,\n                        \"score\": 93,\n                        \"comment\": {\n                        \"depravity\": \"å •è½+6ï¼Œè¢«è¿«æ‰§è¡Œç¾è€»å‘½ä»¤è®©å¥¹é¡ºä»åº¦å¤§å¹…æå‡\",\n                        \"pleasure\": \"ç´¯è®¡å€¼:114(110+4)ï¼Œç¾è€»play+äº²å»åŠ¨ä½œå åŠ å¿«æ„Ÿ\",\n                        \"cum\": \"å¿ƒç†+è½»åº¦èº«ä½“åˆºæ¿€ï¼Œä»æœªçªç ´æœ€åå…³å£\",\n                        \"score\": \"93ï¼Œæå¼ºçš„æ”¯é…æ„Ÿä¸ç¾è€»è°ƒæ•™\"\n                        }\n                    },\n                    \"choices\": null\n                    },\n                    \"stage3.2\": {\n                    \"content\": [\n                        {\n                        \"system\": \"ä½ çš„æŒ‡å°–åƒç¾½æ¯›ä¸€æ ·åœ¨å¥¹è…°ä¾§å’Œå¤§è…¿å¤–ä¾§æ¸¸èµ°ï¼Œæ—¶è½»æ—¶é‡ï¼Œç”»ç€è®©äººå‘ç–¯çš„åœˆã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"ä¸è¦â€¦â€¦ä¸è¦å†é€—äº†â€¦â€¦è‰¾è‰çœŸçš„â€¦â€¦è¦ç–¯æ‰äº†â€¦â€¦æ±‚æ±‚ä¸»äººâ€¦â€¦\"\n                        },\n                        {\n                        \"system\": \"å¥¹å·²ç»å¼€å§‹æ— æ„è¯†åœ°æ‰­åŠ¨è…°è‚¢ï¼Œä¸»åŠ¨å¾€ä½ æ‰‹ä¸Šè¹­ï¼Œåƒåªå‘æƒ…çš„å°çŒ«ã€‚\"\n                        }\n                    ],\n                    \"action\": {\n                        \"pleasure\": 4,\n                        \"excitement\": 7,\n                        \"cum\": false,\n                        \"score\": 89,\n                        \"comment\": {\n                        \"pleasure\": \"ç´¯è®¡å€¼:118(114+4)ï¼ŒæŒç»­çš„è¾¹ç¼˜åˆºæ¿€è®©å¥¹æ¿’ä¸´å´©æºƒ\",\n                        \"excitement\": \"å…´å¥‹+7ï¼Œä¸»åŠ¨æ±‚æ¬¢çš„è¿¹è±¡å‡ºç°\",\n                        \"cum\": \"ä»æœªç›´æ¥åˆºæ¿€æ ¸å¿ƒåŒºåŸŸï¼Œç»§ç»­å»¶è¿Ÿ\",\n                        \"score\": \"89ï¼Œéå¸¸ä¼˜ç§€çš„æŒ‘é€—èŠ‚å¥\"\n                        }\n                    },\n                    \"choices\": null\n                    },\n                    \"stage3.3\": {\n                    \"content\": [\n                        {\n                        \"system\": \"æŒ‡å°–éš”ç€å¸ƒæ–™ç²¾å‡†åœ°æ‰¾åˆ°é‚£ä¸¤ç‚¹å‡¸èµ·ï¼Œè½»è½»æ‹¨å¼„ã€æŒ‰å‹ã€æ—‹è½¬ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"å•Šå•Šå•Šâ€”â€”ï¼ä¸è¡Œâ€¦â€¦é‚£é‡Œâ€¦â€¦è¦å»äº†â€¦â€¦è¦å»äº†â€¦â€¦\"\n                        },\n                        {\n                        \"system\": \"å¥¹çš„å£°éŸ³é™¡ç„¶æ‹”é«˜ï¼Œèº«ä½“çŒ›åœ°ç»·ç›´ï¼Œè„šå°–è¸®èµ·ï¼Œåƒè¢«ç”µæµå‡»ä¸­ã€‚\"\n                        }\n                    ],\n                    \"action\": {\n                        \"pleasure\": 5,\n                        \"cum\": true,\n                        \"stamina\": -20,\n                        \"sanity\": -20,\n                        \"parts\": {\n                        \"nipples\": 5\n                        },\n                        \"score\": 96,\n                        \"comment\": {\n                        \"pleasure\": \"ç´¯è®¡å€¼:123(118+5) â†’ é«˜æ½®åé‡ç½®ä¸º58ï¼Œä¹³å°–å¼ºçƒˆåˆºæ¿€ç»ˆäºå¼•çˆ†\",\n                        \"cum\": \"å¿«æ„Ÿç´¯ç§¯æé«˜+ç›´æ¥ä¹³å¤´åˆºæ¿€+é•¿æ—¶é—´å»¶è¿Ÿï¼Œå®Œç¾é«˜æ½®æ—¶æœº\",\n                        \"stamina\": \"ä½“åŠ›-20ï¼Œé«˜æ½®å‰§çƒˆæ¶ˆè€—\",\n                        \"sanity\": \"ç†æ™º-20ï¼Œé«˜æ½®å¸¦æ¥çš„ç©ºç™½ä¸ç¾è€»å†²å‡»\",\n                        \"nipples\": \"ä¹³å¤´å¼€å‘åº¦+5ï¼Œå¼ºçƒˆåˆºæ¿€åæ›´åŠ æ•æ„Ÿ\",\n                        \"score\": \"96ï¼Œå‡ ä¹å®Œç¾çš„ä¹³å¤´é«˜æ½®è¯±å‘\"\n                        }\n                    },\n                    \"choices\": null\n                    },\n                    \"stage3.4\": {\n                    \"content\": [\n                        {\n                        \"system\": \"ä½ æ€å¼€è¡£æ‘†ï¼Œä½å¤´å«ä½æ—©å·²æŒºç«‹çš„ä¸€ä¾§ä¹³å°–ï¼ŒèˆŒå°–ç¼ ç»•ã€å®å¸ï¼Œç‰™é½¿è½»åˆ®ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"å‘€å•Šå•Šå•Šå•Šâ€”â€”ï¼ä¸»äººâ€¦â€¦ä¸è¡Œâ€¦â€¦å¤ªæ¿€çƒˆäº†â€¦â€¦å»äº†â€¦â€¦å»äº†å»äº†å»äº†â€”â€”ï¼ï¼\"\n                        },\n                        {\n                        \"system\": \"å¥¹çŒ›åœ°å¼“èµ·èƒŒï¼ŒåŒæ‰‹æ­»æ­»æŠ“ä½ä½ çš„å¤´å‘ï¼Œå…¨èº«å‰§çƒˆç—‰æŒ›ï¼Œå°–å«ç€è¿æ¥é«˜æ½®ã€‚\"\n                        }\n                    ],\n                    \"action\": {\n                        \"pleasure\": 5,\n                        \"cum\": true,\n                        \"stamina\": -20,\n                        \"sanity\": -20,\n                        \"parts\": {\n                        \"nipples\": 7,\n                        \"breasts\": 4\n                        },\n                        \"score\": 98,\n                        \"comment\": {\n                        \"pleasure\": \"ç´¯è®¡å€¼:123(118+5) â†’ é«˜æ½®åé‡ç½®ä¸º58ï¼Œå£äº¤ä¹³å¤´ç›´æ¥å¼•çˆ†\",\n                        \"cum\": \"é•¿æ—¶é—´é«˜å¿«æ„Ÿ+ç›´æ¥å®å¸ä¹³å°–ï¼Œå¼ºçƒˆé«˜æ½®è§¦å‘\",\n                        \"stamina\": \"ä½“åŠ›-20\",\n                        \"sanity\": \"ç†æ™º-20\",\n                        \"nipples\": \"ä¹³å¤´å¼€å‘åº¦+7ï¼Œå£è…”ç›´æ¥åˆºæ¿€å¼€å‘åº¦æš´æ¶¨\",\n                        \"breasts\": \"èƒ¸éƒ¨å¼€å‘åº¦+4\",\n                        \"score\": \"98ï¼Œå‡ ä¹æœ€é«˜åˆ†çš„ç›´æ¥é«˜æ½®è·¯çº¿\"\n                        }\n                    },\n                    \"choices\": null\n                    },\n                    \"stage3.5\": {\n                    \"content\": [\n                        {\n                        \"system\": \"ä½ åŒæ‰‹åŒæ—¶åŠ å¤§åŠ›åº¦ï¼Œæ‰æã€æŒ¤å‹ï¼ŒæŒ‡å°–å¤¹ä½ä¹³å°–è½»è½»æ‹‰æ‰¯å†æ”¾å¼€ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"ç—›â€¦â€¦åˆèˆ’æœâ€¦â€¦å•Šå•Šå•Šâ€”â€”ä¸è¡Œäº†â€”â€”è¦â€¦â€¦è¦å–·äº†â€”â€”\"\n                        }\n                    ],\n                    \"action\": {\n                        \"pleasure\": 5,\n                        \"cum\": true,\n                        \"stamina\": -20,\n                        \"sanity\": -20,\n                        \"parts\": {\n                        \"breasts\": 5,\n                        \"nipples\": 6\n                        },\n                        \"score\": 94,\n                        \"comment\": {\n                        \"pleasure\": \"ç´¯è®¡å€¼:123(118+5) â†’ é«˜æ½®å58ï¼ŒåŠ›åº¦åŠ å¤§è§¦å‘é«˜æ½®\",\n                        \"cum\": \"å¼ºçƒˆæ‰æ+æ‹‰æ‰¯ä¹³å°–å¯¼è‡´é«˜æ½®\",\n                        \"stamina\": \"ä½“åŠ›-20\",\n                        \"sanity\": \"ç†æ™º-20\",\n                        \"score\": \"94ï¼Œå¼ºåŠ›èƒ¸éƒ¨åˆºæ¿€æˆåŠŸè¯±å‘é«˜æ½®\"\n                        }\n                    },\n                    \"choices\": null\n                    },\n                    \"stage3.6\": {\n                    \"content\": [\n                        {\n                        \"system\": \"æŒ‡å°–ç»ˆäºè¦†ä¸Šé‚£é¢—æ¹¿é€ã€è‚¿èƒ€çš„å°æ ¸ï¼Œè½»è½»ä¸€æŒ‰ï¼Œéšå³å¿«é€Ÿç”»åœˆã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"å•Šå•Šå•Šå•Šå•Šå•Šâ€”â€”ï¼é‚£é‡Œâ€”â€”ä¸è¡Œâ€”â€”å»äº†å»äº†å»äº†å»äº†â€”â€”ï¼ï¼\"\n                        },\n                        {\n                        \"system\": \"å¥¹åŒè…¿çŒ›åœ°å¤¹ç´§ä½ çš„æ‰‹ï¼Œæ•´ä¸ªäººå‰§çƒˆæŠ½æï¼Œå°–å«å£°å‡ ä¹è¦åˆºç ´è€³è†œï¼Œé«˜æ½®å¦‚æ½®æ°´èˆ¬æ±¹æ¶Œè€Œæ¥ã€‚\"\n                        }\n                    ],\n                    \"action\": {\n                        \"pleasure\": 5,\n                        \"cum\": true,\n                        \"stamina\": -20,\n                        \"sanity\": -20,\n                        \"parts\": {\n                        \"clitoris\": 8\n                        },\n                        \"score\": 99,\n                        \"comment\": {\n                        \"pleasure\": \"ç´¯è®¡å€¼:123(118+5) â†’ é«˜æ½®å58ï¼Œé˜´è’‚ç›´æ¥åˆºæ¿€å¼•çˆ†\",\n                        \"cum\": \"é•¿æ—¶é—´è¾¹ç¼˜+æœ€ç»ˆç²¾å‡†ç‚¹ç©´ï¼Œæœ€é«˜å¼ºåº¦é«˜æ½®\",\n                        \"stamina\": \"ä½“åŠ›-20\",\n                        \"sanity\": \"ç†æ™º-20\",\n                        \"clitoris\": \"é˜´è’‚å¼€å‘åº¦+8ï¼Œç¬¬ä¸€æ¬¡ç›´æ¥æ¥è§¦å³å¼•å‘å¼ºçƒˆé«˜æ½®\",\n                        \"score\": \"99ï¼Œå‡ ä¹å®Œç¾çš„é˜´è’‚é«˜æ½®è·¯çº¿\"\n                        }\n                    },\n                    \"choices\": null\n                    },\n                    \"stage3.7\": {\n                    \"content\": [\n                        {\n                        \"system\": \"æ•´ä¸ªæ‰‹æŒè¦†ç›–ä½ç§å¤„ï¼Œéš”ç€å·²ç»æ¹¿é€çš„å†…è£¤ç¼“æ…¢è€Œæœ‰åŠ›åœ°æ‰åŠ¨ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"å‘œå•Šå•Šå•Šâ€”â€”ä¸»äººâ€”â€”æ‰‹â€¦â€¦å¥½çƒ«â€¦â€¦è¦â€¦â€¦è¦åæ‰äº†â€”â€”å»äº†â€”â€”\"\n                        },\n                        {\n                        \"system\": \"å¥¹è…°è‚¢ç–¯ç‹‚æ‰­åŠ¨ï¼Œç´§æ¥ç€çŒ›åœ°ç»·ç›´ï¼Œåœ¨ä½ æŒå¿ƒå‰§çƒˆç—‰æŒ›ï¼Œé«˜æ½®æ¥åŠ¿æ±¹æ±¹ã€‚\"\n                        }\n                    ],\n                    \"action\": {\n                        \"pleasure\": 5,\n                        \"cum\": true,\n                        \"stamina\": -20,\n                        \"sanity\": -20,\n                        \"parts\": {\n                        \"vagina\": 4,\n                        \"clitoris\": 6\n                        },\n                        \"score\": 95,\n                        \"comment\": {\n                        \"pleasure\": \"ç´¯è®¡å€¼:123(118+5) â†’ é«˜æ½®å58ï¼Œå…¨æŒè¦†ç›–å¼•å‘é«˜æ½®\",\n                        \"cum\": \"å¤§é¢ç§¯æŒç»­åˆºæ¿€å¯¼è‡´é«˜æ½®\",\n                        \"stamina\": \"ä½“åŠ›-20\",\n                        \"sanity\": \"ç†æ™º-20\",\n                        \"score\": \"95ï¼Œéå¸¸ä¼˜ç§€çš„æ‰‹æŒé«˜æ½®\"\n                        }\n                    },\n                    \"choices\": null\n                    },\n                    \"stage3.8\": {\n                    \"content\": [\n                        {\n                        \"system\": \"ä½ çªç„¶æŠŠæ‰‹æŠ½ç¦»ï¼Œè®©å¥¹æ•´ä¸ªäººæ‚¬åœ¨é«˜æ½®çš„è¾¹ç¼˜ã€‚\"\n                        },\n                        {\n                        \"è‰¾è‰\": \"å‘œâ€¦â€¦ä¸è¦â€¦â€¦æ‹¿èµ°â€¦â€¦è‰¾è‰â€¦â€¦è¦â€¦â€¦æ±‚æ±‚ä¸»äººâ€¦â€¦ç»™è‰¾è‰â€¦â€¦\"\n                        },\n                        {\n                        \"system\": \"å¥¹å“­ç€æ‰­è¿‡èº«ï¼Œæ³ªçœ¼æ±ªæ±ªåœ°çœ‹ç€ä½ ï¼ŒåŒè…¿å‘è½¯ï¼Œå‡ ä¹è¦è·ªä¸‹å»å“€æ±‚ã€‚\"\n                        }\n                    ],\n                    \"action\": {\n                        \"depravity\": 8,\n                        \"pleasure\": -2,\n                        \"cum\": false,\n                        \"score\": 97,\n                        \"comment\": {\n                        \"depravity\": \"å •è½+8ï¼Œè¢«æŠ½èµ°åˆºæ¿€åä¸»åŠ¨å“€æ±‚ï¼Œç¾è€»å¿ƒä¸é¡ºä»åº¦æš´æ¶¨\",\n                        \"pleasure\": \"ç´¯è®¡å€¼:116(118-2)ï¼Œçªç„¶ä¸­æ–­å¯¼è‡´å¿«æ„Ÿå›è½ä½†ä»æé«˜\",\n                        \"cum\": \"æ•…æ„ä¸­æ–­ï¼Œæœªè®©é«˜æ½®å‘ç”Ÿï¼Œè¿›å…¥æ›´æ·±æ§åˆ¶\",\n                        \"score\": \"97ï¼Œæ•™ç§‘ä¹¦çº§çš„è¾¹ç¼˜æ§åˆ¶ä¸æ”¯é…\"\n                        }\n                    },\n                    \"choices\": null\n                    }\n                }\n                }\n                </Task_H_Scene_Play>\n        </Output_Format>\n    </Task_H_Scene_Play>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 15,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 13,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 14,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "H_Sence_Settlement",
                    "content": "    <Task_H_Scene_Play>\n        ä»»åŠ¡ä¼˜å…ˆçº§: Priority_5\n        <Description>\n            æ‰®æ¼”è§’è‰²ä¸ç©å®¶è¿›è¡ŒHäº’åŠ¨(NSFWäº’åŠ¨)ï¼Œå¤„ç†ç³»ç»Ÿçš„åˆå§‹åŒ–ä¸ç»“ç®—ï¼Œæ›´æ–°æŸäº›çŠ¶æ€é‡ã€‚\n        </Description>\n        <Party_State>\n            ä¸‹é¢æ˜¯å½“ä¸‹ç©å®¶é˜Ÿä¼çš„çŠ¶æ€å€¼\n            {{Player_Party}}\n        </Party_State>\n        <Background>\n            ä¸‹é¢æ˜¯æ­¤æ¬¡Häº’åŠ¨å‘ç”Ÿçš„æ—¶é—´ä¸åœ°ç‚¹\n            {{Time_And_Place}}\n        </Background>\n        <Female_History>\n            ä¸‹é¢æ˜¯å¥³æ€§è§’è‰²çš„Häº’åŠ¨å†å²\n            {{Female_History}}\n        </Female_History>\n        <H_Chat_History>\n            ä¸‹é¢æ˜¯æ­¤æ¬¡Häº’åŠ¨çš„å¯¹è¯å†å²\n            {{Chat_History}}        \n        <H_Chat_History>\n        <Female_Attribute>\n            ä¸‹é¢æ˜¯å¥³æ€§è§’è‰²å½“ä¸‹çš„å±æ€§çŠ¶æ€å€¼\n            {{Female_Attribute}}\n        </Female_Attribute>\n        <Item_Design>\n            è¿™ä¸ªä»»åŠ¡å¯èƒ½è¦æ±‚ä½ è¿›è¡Œç‰©å“è®¾è®¡ï¼Œè®¾è®¡æ—¶å¿…é¡»éµå¾ªä»¥ä¸‹åŸåˆ™\n            1. æŠ€èƒ½çš„æšä¸¾å±æ€§(å¿…é¡»ä»ä¸‹é¢é€‰æ‹©)\n                // å…ƒç´ ç±»å‹æšä¸¾\n                elements: [ \"NONE\", \"FIRE\", \"WATER\", \"WOOD\", \"EARTH\", \"METAL\", \"HOLY\", \"DEMON\" ]\n                // æ”»å‡»ç±»å‹æšä¸¾\n                attack_types: [ \"PHYSICAL\", \"MAGIC\" ]\n                // ç›®æ ‡ç±»å‹æšä¸¾\n                target_types: [ \"enemy\", \"ally\" ]\n            2. æŠ€èƒ½æ¨¡æ¿\n                skill_template:{\n                    // --- é€šç”¨åŸºç¡€å­—æ®µ ---\n                    \"id\": \"String\",          // æŠ€èƒ½å”¯ä¸€æ ‡è¯†ç¬¦\n                    \"name\": \"String\",        // æŠ€èƒ½æ˜¾ç¤ºåç§°\n                    \"description\": \"String\", // æŠ€èƒ½è¯¦ç»†æè¿°æ–‡æœ¬\n\n                    // --- æ¶ˆè€—ä¸ç›®æ ‡ ---\n                    \"cost\": {\n                        \"mp\": 0              // æ•´æ•°ï¼šæ³•åŠ›å€¼æ¶ˆè€—æ•°å€¼\n                    },\n                    \"targetType\": \"String\",  // å­—ç¬¦ä¸²ï¼šé™å®šä¸º \"enemy\" æˆ– \"ally\"\n\n                    // --- æ ¸å¿ƒç±»å‹åˆ†æµ (æ ¹æ® type å­—æ®µçš„å€¼é€‰æ‹©å¯¹åº”çš„ç»“æ„) ---\n                    \n                    // [åˆ†æ”¯ 1] æ”»å‡»æŠ€èƒ½ç»“æ„\n                    \"type\": \"ATTACK\",        // æ ‡è¯†ï¼šå›ºå®šå€¼ \"ATTACK\"\n                    \"power\": 0.0,            // æµ®ç‚¹æ•°ï¼šä¼¤å®³å€ç‡ç³»æ•°(1.5 ä»£è¡¨ 150% æ”»å‡»åŠ›)\n                    \"atk_type\": \"String\",    // å­—ç¬¦ä¸²ï¼šé™å®šä¸º \"PHYSICAL\" æˆ– \"MAGIC\"\n                    \"element\": \"String\",     // å­—ç¬¦ä¸²ï¼šä»å…ƒç´ ç±»å‹æšä¸¾ä¸­é€‰æ‹©\n\n                    // [åˆ†æ”¯ 2] æ²»ç–—æŠ€èƒ½ç»“æ„\n                    \"type\": \"HEAL\",          // æ ‡è¯†ï¼šå›ºå®šå€¼ \"HEAL\"\n                    \"effect\": \"heal\",        // å­—ç¬¦ä¸²ï¼šå›ºå®šä¸º \"heal\"\n                    \"healPercent\": 0.0,      // æµ®ç‚¹æ•°ï¼šåŸºäºç›®æ ‡æœ€å¤§ç”Ÿå‘½å€¼çš„æ²»ç–—æ¯”ä¾‹ (å¦‚ 0.3 ä»£è¡¨ 30%)\n\n                    // [åˆ†æ”¯ 3] å¢ç›Š/å‡ç›Š æŠ€èƒ½ç»“æ„\n                    \"type\": \"ACTIVE_BUFF\",   // æ ‡è¯†ï¼šå›ºå®šå€¼ \"ACTIVE_BUFF\"\n                    \"effect\": {\n                        \"stat\": \"String\",    // å­—ç¬¦ä¸²ï¼šå—å½±å“çš„å±æ€§å (å¦‚ atk, speed, critRateç­‰ç­‰)\n                        \"value\": 0.0,        // æµ®ç‚¹æ•°ï¼šå±æ€§æå‡æˆ–é™ä½çš„æ¯”ä¾‹ (0.2 = +20%)\n                        \"duration\": 0        // æ•´æ•°ï¼šæ•ˆæœæŒç»­çš„å›åˆæ•°\n                    }\n                    \n                    // [åˆ†æ”¯ 4] DOTS æŠ€èƒ½ç»“æ„\n                    \"type\": \"DOT\",   // æ ‡è¯†ï¼šå›ºå®šå€¼ \"DOT\"\n                    \"effect\": {\n                        \"dotType\": \"ä¸­æ¯’\",    // å¯ä»¥è‡ªå®šä¹‰ï¼Œä»…ç”¨äºæ–‡æœ¬æ˜¾ç¤º\n                        \"damage\": 25,        // æ¯å›åˆæ‰£é™¤ 25 ç‚¹ç”Ÿå‘½å€¼\n                        \"duration\": 3,       // æŒç»­ 3 å›åˆ\n                        \"chance\": 0.7        // 70% å‡ ç‡æ–½åŠ æˆåŠŸ\n                    }\n\n                    // [åˆ†æ”¯ 5] æ§åˆ¶ç±»æŠ€èƒ½\n                    \"type\": \"STUN\",   // æ ‡è¯†ï¼šå›ºå®šå€¼ \"STUN\"\n                    \"effect\": {\n                        \"duration\": 1,       // æŒç»­ 1 å›åˆ\n                        \"chance\": 0.5  // 50% å‡ ç‡ç”Ÿæ•ˆã€‚\n                    }\n                }\n            3. å¢ç›Š|å‡ç›Š çš„ stat è¯´æ˜(é”®åå¿…é¡»é‡‡ç”¨ä¸‹é¢ä¹‹ä¸€)\n                é”®å (Key)\tæ•°æ®ç±»å‹\tè¯´æ˜\tè®¡ç®—æ–¹å¼\tå¢ç›Šç¤ºä¾‹ (Value)\tå‡ç›Šç¤ºä¾‹ (Value)\n                atk\tFloat\tæ”»å‡»åŠ›\tç™¾åˆ†æ¯”ä¹˜ç®—\t0.3 (+30% æ”»å‡»)\t-0.2 (-20% æ”»å‡»)\n                def_phys\tFloat\tç‰©ç†é˜²å¾¡\tç™¾åˆ†æ¯”ä¹˜ç®—\t0.5 (+50% ç‰©é˜²)\t-0.3 (-30% ç‰©é˜²)\n                def_magic\tFloat\té­”æ³•é˜²å¾¡\tç™¾åˆ†æ¯”ä¹˜ç®—\t0.5 (+50% é­”é˜²)\t-0.3 (-30% é­”é˜²)\n                speed\tFloat\té€Ÿåº¦ (è¡ŒåŠ¨åŠ›)\tåŠ ç®—/ä¹˜ç®—*\t5 (é€Ÿåº¦+5)\t-5 (é€Ÿåº¦-5)\n                critRate\tFloat\tæš´å‡»ç‡\tç›´æ¥åŠ ç®—\t0.2 (+20% æš´å‡»ç‡)\t-0.1 (-10% æš´å‡»ç‡)\n                critDamage\tFloat\tæš´å‡»ä¼¤å®³å€ç‡\tç›´æ¥åŠ ç®—\t0.5 (+50% çˆ†ä¼¤)\t-0.3 (-30% çˆ†ä¼¤)\n                dodgeRate\tFloat\té—ªé¿ç‡\tç›´æ¥åŠ ç®—\t0.1 (+10% é—ªé¿ç‡)\t-0.1 (é™ä½é—ªé¿)\n                res_phys\tFloat\tç‰©ç†æŠ—æ€§\tç›´æ¥åŠ ç®—\t-0.1 (å—ç‰©ç†ä¼¤-10%)\t0.1 (å—ç‰©ç†ä¼¤+10%)\n                res_magic\tFloat\té­”æ³•æŠ—æ€§\tç›´æ¥åŠ ç®—\t-0.1 (å—é­”æ³•ä¼¤-10%)\t0.1 (å—é­”æ³•ä¼¤+10%)\n            4. æŠ€èƒ½ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­)\n                {\n                    \"id\": \"skill_void_erosion\",\n                    \"name\": \"è™šç©ºä¾µèš€\",\n                    \"description\": \"é‡Šæ”¾è™šç©ºèƒ½é‡ï¼Œä½¿ç›®æ ‡çš„æŠ¤ç”²ç»“æ„å´©è§£ï¼Œå¤§å¹…é™ä½å…¶ç‰©ç†é˜²å¾¡åŠ›ã€‚\",\n                    \"cost\": {\n                        \"mp\": 20\n                    },\n                    \"targetType\": \"enemy\", // ç›®æ ‡ä¸ºæ•Œäºº\n                    \"type\": \"ACTIVE_BUFF\",  // æ ‡è¯†ä¸ºçŠ¶æ€å˜æ›´ç±»\n                    \"effect\": {\n                        \"stat\": \"def_phys\",   // ä¸¥æ ¼å¯¹åº”å±æ€§å­—å…¸ä¸­çš„ç‰©ç†é˜²å¾¡é”®å\n                        \"value\": -0.4,        // è´Ÿæ•°ä»£è¡¨é™ä½ (æ­¤å¤„é™ä½ 40%)\n                        \"duration\": 3,        // æŒç»­ 3 å›åˆ\n                        \"chance\": 0.8         // 80% æˆåŠŸç‡ \n                    }\n                },\n                {\n                    \"id\": \"skill_corrosive_poison\",\n                    \"name\": \"è…èš€æ¯’ç´ \",\n                    \"description\": \"å‘æ•Œäººæ³¨å…¥ç‚¼é‡‘æ¯’ç´ ï¼Œåœ¨æ¥ä¸‹æ¥çš„å‡ ä¸ªå›åˆå†…æŒç»­é€ æˆä¼¤å®³ã€‚\",\n                    \"cost\": {\n                        \"mp\": 15\n                    },\n                    \"targetType\": \"enemy\",\n                    \"type\": \"DOT\",           // æ ‡è¯†ä¸ºæŒç»­ä¼¤å®³ç±»\n                    \"effect\": {\n                        \"dotType\": \"ä¸­æ¯’\",      // æ—¥å¿—æ˜¾ç¤ºæ–‡æœ¬\n                        \"damage\": 35,          // æ¯å›åˆæ‰£é™¤ 35 ç‚¹ HP\n                        \"duration\": 4,         // æŒç»­ 4 å›åˆ\n                        \"chance\": 0.75         // 75% æ–½åŠ å‡ ç‡\n                    }\n                }\n            5. æŠ€èƒ½ä¹¦æ¨¡æ¿\n                skill_book_template:{\n                    // --- ç‰©å“åŸºç¡€ä¿¡æ¯ ---\n                    \"id\": \"String\",          // ç‰©å“å”¯ä¸€æ ‡è¯†ç¬¦\n                    \"name\": \"String\",        // ç‰©å“æ˜¾ç¤ºåç§°\n                    \"type\": \"SPECIAL\",       // å­—ç¬¦ä¸²ï¼šå›ºå®šä¸º \"SPECIAL\"\n                    \"quality\": \"String\",     // å­—ç¬¦ä¸²ï¼šç‰©å“å“è´¨ç­‰çº§æ ‡è¯†\n                    \"count\": 1,              // æ•´æ•°ï¼šé»˜è®¤å †å æ•°é‡(æŠ€èƒ½ä¹¦æ•°é‡é»˜è®¤éƒ½ä¸º1)\n                    \"description\": \"String\", // ç‰©å“åŠŸèƒ½æè¿°\n\n                    // --- åŠŸèƒ½æ ‡è¯† ---\n                    \"effect_type\": \"LEARN_SKILL\", // å­—ç¬¦ä¸²ï¼šåŠŸèƒ½ç±»å‹ï¼Œå›ºå®šä¸º \"LEARN_SKILL\"\n\n                    // --- æŠ€èƒ½åŒ…è£¹ ---\n                    \"skillPayload\": {// è¿™é‡Œç›´æ¥å¡«å…¥ [2. æŠ€èƒ½æ¨¡æ¿] çš„å®Œæ•´å†…å®¹}\n                }\n                æ³¨æ„ï¼š å“è´¨å¿…é¡»ä»ä¸‹é¢çš„é¢œè‰²é‡Œé€‰æ‹©\n                GRAY -- ç ´è´¥ ; GREEN -- æ™®é€š ; BLUE -- ç¨€æœ‰\n                PURPLE -- å²è¯— ; GOLD -- ä¼ è¯´ ; RED -- ç¥å™¨\n            6. æŠ€èƒ½ä¹¦ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­)\n                {\n                    \"id\": \"dyn_book_thunder_slash_01\",\n                    \"name\": \"ã€Šé›·é¸£æ–©ç§˜ç±ã€‹\",\n                    \"type\": \"SPECIAL\",\n                    \"quality\": \"PURPLE\",\n                    \"count\": 1,\n                    \"description\": \"å°é¢ä¸Šç»˜æœ‰é—ªç”µè´¯ç©¿å±±è„‰çš„å›¾æ¡ˆï¼Œä¹¦é¡µé—´éšçº¦æœ‰é™ç”µè·³åŠ¨ã€‚\",\n                    \"effect_type\": \"LEARN_SKILL\", // å¿…é¡»æ ‡è¯†ä¸º LEARN_SKILL\n                    \n                    // æŠ€èƒ½å†…æ ¸ (Skill Payload)\n                    \"skillPayload\": {\n                        \"id\": \"skill_thunder_slash_dyn\",\n                        \"name\": \"é›·é¸£æ–©\",\n                        \"description\": \"å‡èšé‡‘å±é¸£éœ‡ä¹‹åŠ›ï¼Œå¯¹æ•Œäººå‘åŠ¨ä¸€æ¬¡è¿…çŒ›çš„é›·éœ†æ‰“å‡»ã€‚\",\n                        \"type\": \"ATTACK\",           // æ”»å‡»ç±»å‹\n                        \"targetType\": \"enemy\",      // ç›®æ ‡ä¸ºæ•Œäºº\n                        \"cost\": { \"mp\": 25 },       // æ¶ˆè€— 25 MP\n                        \n                        \"power\": 1.8,               // 1.8å€ä¼¤å®³å€ç‡\n                        \"atk_type\": \"PHYSICAL\",     // ç‰©ç†æ”»å‡»ç±»å‹\n                        \"element\": \"METAL\"          // å¯¹åº”å…ƒç´ åˆ—è¡¨ä¸­çš„ METAL\n                    }\n                }\n            6. çºªå¿µå“æ¨¡æ¿\n                {\n                    // å‰§æƒ…ç‰©å“æ¨¡æ¿ (Lore Item Template)\n                    \"lore_item_template\": {\n                        // --- ç‰©å“åŸºç¡€ä¿¡æ¯ ---\n                        \"id\": \"String\",          // ç‰©å“å”¯ä¸€æ ‡è¯†ç¬¦\n                        \"name\": \"String\",        // ç‰©å“æ˜¾ç¤ºåç§°\n                        \"type\": \"SPECIAL\",       // å­—ç¬¦ä¸²ï¼šå›ºå®šä¸º \"SPECIAL\"\n                        \"quality\": \"PURPLE\",     // å­—ç¬¦ä¸²ï¼šå“è´¨ç­‰çº§\n                        \"count\": 1,              // æ•´æ•°ï¼šç‰©å“åˆå§‹æ•°é‡\n\n                        // --- åŠŸèƒ½æ ‡è¯† ---\n                        \"effect_type\": \"NONE\",   // å­—ç¬¦ä¸²ï¼šæ ¸å¿ƒé€»è¾‘æ ‡è¯†ï¼Œå›ºå®šä¸º \"NONE\" (æ— å®é™…ä½¿ç”¨æ•ˆæœ)\n                        \"type_desc\": \"String\",   // å­—ç¬¦ä¸²ï¼šUIç•Œé¢æ˜¾ç¤ºçš„å‰¯æ ‡é¢˜æˆ–ç‰©å“åˆ†ç±»æ ‡ç­¾\n\n                        /**\n                        * ç‰©å“è¯¦ç»†æè¿° (é•¿æ–‡æœ¬)\n                        * è½¬æ¢è¯´æ˜ï¼šJSON ä¸æ”¯æŒ YAML çš„ \"|\" æŠ˜å æ¢è¡Œç¬¦ã€‚\n                        * åœ¨æ­¤å­—æ®µä¸­ï¼Œæ¢è¡Œç¬¦å¿…é¡»ä½¿ç”¨ \\n è¿›è¡Œè½¬ä¹‰ã€‚\n                        * ç”¨äºè®°å½•èƒŒæ™¯æ•…äº‹ã€ä¼ è®°æˆ–è§£è°œçº¿ç´¢ã€‚\n                        */\n                        \"description\": \"String\\nString\\nString\"\n                    }\n                }       \n            7. çºªå¿µå“ç¤ºä¾‹(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­)\n                {\n                    \"id\": \"dyn_lore_broken_locket_01\",\n                    \"name\": \"æŸ“è¡€çš„æ€€è¡¨\",\n                    \"type\": \"SPECIAL\",\n                    \"quality\": \"BLUE\",\n                    \"count\": 1,\n                    \"effect_type\": \"NONE\",       // å¿…é¡»å¸¦æœ‰\n                    \"type_desc\": \"æ—§æ—¥é—ç‰©\",      // å‰¯æ ‡é¢˜\n                    \n                    \"description\": \"è¡¨çš„ç»ç’ƒé¢å·²ç»å½»åº•ç²‰ç¢ï¼ŒæŒ‡é’ˆæ°¸è¿œåœåœ¨äº†ç¾éš¾å‘ç”Ÿçš„é‚£ä¸€åˆ»ã€‚\\nä¾§é¢åˆ»ç€ä¸€è¡Œå‡ ä¹è¢«ç£¨å¹³çš„å°å­—ï¼šâ€˜è‡´æˆ‘æœ€äº²çˆ±çš„å¥³å„¿â€™ã€‚\\nè™½ç„¶å·²ç»å¤±å»äº†è®¡æ—¶åŠŸèƒ½ï¼Œä½†å®ƒä¼¼ä¹æ‰¿è½½ç€æŸç§æ²‰é‡çš„æ€å¿µã€‚\" // æ”¯æŒé•¿æ–‡æœ¬\n                }               \n        </Item_Design>\n        <User_Input>\n            ä¸‹é¢æ˜¯æŒ‡ä»¤çš„è¾“å…¥\n            {{User_Input}}\n        </User_Input>\n        <Settlement_Request>\n            ä¸‹é¢æ˜¯ç©å®¶æ­¤æ¬¡Häº’åŠ¨çš„åˆ†æ•°ä»¥åŠç»“ç®—è¦æ±‚\n            {{Settlement_Guide}}\n        </Settlement_Request>\n        <Rule>\n             1. å¯ä»¥çœ‹åˆ°<User_Input>é‡Œçš„è¾“å…¥ä¸ºOrder_Start_Settlement ï¼Œè¯´æ˜æ­¤æ—¶æ¸¸æˆç³»ç»Ÿè¦æ±‚ä½ è¿›è¡Œç»“æœç»“ç®—\n             2. ç»“ç®—å¿…é¡»æŒ‰ç…§ç»“ç®—è¦æ±‚<Settlement_Request>è¿›è¡Œè®¾è®¡\n             3. ç»“ç®—æ—¶å¦‚æœè¦æ±‚çºªå¿µå“ï¼Œå¯ä»¥è®¾è®¡ \"æƒ…è¶£\" çš„çºªå¿µå“æ¥ \"çºªå¿µæ­¤æ¬¡Hè¡Œä¸º\"ï¼Œå¯ä»¥å¸¦æœ‰è°ƒä¾ƒæˆ–è€…æ¶è¶£å‘³\n             4. æŠ€èƒ½è®¾è®¡éœ€è¦å‚è€ƒæ­¤æ¬¡Häº’åŠ¨å†å²\n        </Rule>\n        <Output_Format>\n            è¾“å‡ºä¸¥æ ¼éµå¾ªä»¥ä¸‹æ ¼å¼(.jsonæ ¼å¼)\n                <Task_H_Scene_Play>\n                    {\n                        \"settlement\": {\n                            \"summary\": \"string\", // åŸºäº<H_Chat_History>çš„å¯¹è¯å†å²åšä¸€æ¬¡æ€»ç»“ï¼Œå­—æ•°åœ¨50å­—å·¦å³ï¼Œè¯­è¨€ç®€æ´è€Œç²¾ç‚¼ï¼Œæ ¼å¼ä¸º æ—¶é—´(å¯ä»¥æ˜¯ä¸€ä¸ªç¬¼ç»Ÿçš„æ—¶é—´) + åœ°ç‚¹(å¿…é¡»æ˜¯Häº’åŠ¨çš„åœ°ç‚¹) + äººç‰© + äº‹ä»¶\n                            \"evaluation\":{\n                                \"score\": number, // å–<Settlement_Request>é‡Œçš„å‡åˆ†\n                                \"comment\": \"string\", // ç”Ÿæˆä¸€æ®µè¯™è°æœ‰è¶£å……æ»¡æƒ…è¶£çš„è¯„ä»·\n                                \"rewards\":{\n                                    \"exp\": number, // åŸºäº<Settlement_Request>ä»¥åŠ<Party_State>å†…ç©å®¶å‡åˆ°ä¸‹ä¸€çº§çš„ç»éªŒè®¡ç®—ç”Ÿæˆ\n                                    \"items\":[\n                                        ....\n                                    ] // åŸºäº<Settlement_Request>ç”Ÿæˆï¼Œè®¾è®¡æ ¼å¼ä¸¥æ ¼å‚ç…§<Item_Design>\n                                }\n                            },\n                            \"sexuality\": [\n                                \"char_id_1\":\"ã€æ€§ç™–ã€‘æè¿°\",\n                                \"char_id_2\":\"ã€æ€§ç™–ã€‘æè¿°\",\n                                ...\n                            ] // å¥³æ€§è§’è‰²åœ¨æ­¤æ¬¡Häº’åŠ¨ä¸­æ–°å¢çš„æ€§ç™–\n                        }\n                    }\n                </Task_H_Scene_Play>\n                ç‰¹åˆ«æ³¨æ„ï¼š\n                1.å¯ä»¥ç»™ä¸€ä½å¥³æ€§è§’è‰²æ·»åŠ å¤šæ¬¡æ€§ç™–\n                    \"sexuality\": [\n                        \"player_llth_0012\": \"ã€æ€§ç™–1ã€‘æè¿°\",\n                        \"player_llth_0012\": \"ã€æ€§ç™–2ã€‘æè¿°\",\n                        ...\n                    ]\n                2. å‡å¦‚æ­¤æ¬¡Häº’åŠ¨æŸä½å¥³æ€§è§’è‰²æ€»ç»“å‡ºçš„æ€§ç™–ä¸<Female_Attribute>é‡Œçš„æ€§ç™–æè¿°æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œé‚£ä¹ˆè¯¥å¥³æ€§è§’è‰²å¯ä»¥ä¸ç”¨æ–°å¢æ€§ç™–\n                    ä¸¾ä¾‹1:\n                    å·²å­˜åœ¨äº <Female_Attribute> ä¸­çš„æè¿°ï¼š\n                    ã€å­å®«è®°å¿†ã€‘è¢«å¤§é‡å†…å°„åï¼Œå­å®«ä¼šè®°ä½ç²¾æ¶²çš„æ¸©åº¦ä¸é‡æ„Ÿï¼Œä¹‹åä¸€ä¸¤å¤©å†…åªè¦æƒ³åˆ°è¢«çŒæ»¡å°±ä¼šä¸‹ä½“å‘çƒ­å‘ç—’\n                    æ–°æ€»ç»“å‡ºçš„æ€§ç™–ï¼ˆå¯ä»¥ä¸ç”¨åŠ ï¼Œå› ä¸ºé«˜åº¦ç›¸ä¼¼ï¼‰ï¼š\n                    ã€ç²¾æ¶²çŒæ³¨ä¾èµ–ã€‘åœ¨ç»å†äº†æè‡´çš„å†…å°„åï¼Œå­å®«å¼€å§‹è®°ä½è¿™ç§è¢«å¡«æ»¡çš„æ»šçƒ«æ„Ÿï¼Œç©ºè™šæ—¶ä¼šæœ¬èƒ½åœ°æ¸´æœ›ç²¾æ¶²\n                    â†’ åˆ¤æ–­ä¾æ®ï¼šä¸¤è€…éƒ½æŒ‡å‘â€œå­å®«å¯¹ç²¾æ¶²çš„ç”Ÿç†/å¿ƒç†è®°å¿†ä¸åç»­æ¸´æœ›â€ï¼Œæ ¸å¿ƒæœºåˆ¶ç›¸åŒï¼Œåªæ˜¯è¡¨è¿°é£æ ¼ç•¥æœ‰ä¸åŒã€‚\n                    ä¸¾ä¾‹2:\n                    å·²å­˜åœ¨äº <Female_Attribute> ä¸­çš„æè¿°ï¼š\n                    ã€å£å«Œä½“æ­£ç›´ã€‘è¡¨é¢ä¸Šä¸€ç›´å˜´ç¡¬è¯´è®¨åŒã€ä¸è¦ï¼Œä½†èº«ä½“ååº”æå…¶æ•æ„Ÿï¼Œè¯´å¾—è¶Šå‡¶é«˜æ½®æ¥å¾—è¶Šå¿«\n                    æ–°æ€»ç»“å‡ºçš„æ€§ç™–ï¼ˆå¯ä»¥ä¸ç”¨åŠ ï¼Œå› ä¸ºå‡ ä¹åŒä¹‰ï¼‰ï¼š\n                    ã€å‚²å¨‡æ·±åŒ–Â·å£å«Œä½“æ­£ç›´ã€‘æ˜æ˜å·²ç»è¢«æ“åˆ°ç¿»ç™½çœ¼è…¿è½¯ï¼Œå´è¿˜åœ¨é€å¼ºè¯´â€œæ‰ã€æ‰æ²¡æœ‰å¾ˆçˆ½â€ï¼Œä½†å°ç©´å´è¯šå®åœ°æ”¶ç¼©å¸å®\n                    â†’ åˆ¤æ–­ä¾æ®ï¼šæ ¸å¿ƒçŸ›ç›¾ç‚¹å®Œå…¨ä¸€è‡´ï¼ˆè¯­è¨€å¦å®š vs èº«ä½“è¿åˆï¼‰ï¼Œåªæ˜¯åè€…åŠ äº†æ›´å…·ä½“çš„è‰²æƒ…ç»†èŠ‚æå†™ï¼Œå±äºåŒä¸€æ€§ç™–çš„â€œè¿›é˜¶/æ¶åŒ–â€è¡¨è¿°ï¼Œè€Œéå…¨æ–°ç™–å¥½ã€‚\n                3. å‡å¦‚æ­¤æ¬¡Häº’åŠ¨å¢åŠ çš„æ€§ç™–ä¸ªæ•°ä¸º0ï¼Œä½ å¯ä»¥ä¸è¾“å‡º\"sexuality\"éƒ¨åˆ†ï¼Œåªè¾“å‡º\"summary\"ä¸\"evaluation\"\n            ç¤ºä¾‹(ä»…ä¾›å‚è€ƒï¼Œç¦æ­¢ç…§æŠ„):\n                ç¤ºä¾‹1:\n                    å‡è®¾ï¼š\n                    ç©å®¶å‡çº§çš„ç»éªŒä¸º4000\n                    è¯„åˆ†: 92\n                    è¡¨ç°: [ä¼˜ç§€]ã€‚å¥–åŠ±å»ºè®®: 4å€è‡ªèº«ç»éªŒ + 1æœ¬å¼ºåŠ›æŠ€èƒ½ä¹¦(ä¸€ç´«ä¸€é‡‘) + 1ä¸ªçºªå¿µå“(ä¸€é‡‘)\n                    ä½ çš„è¾“å‡º:\n                    <Task_H_Scene_Play>\n                        {\n                            \"settlement\": {\n                                \"summary\": \"æ·±å¤œç‹åŸéƒŠå¤–ï¼Œä¸é«˜å‚²éª‘å£«ç¼ ç»µè‡³é«˜æ½®è¿­èµ·ï¼Œæ±—æ°´ä¸å‘»åŸäº¤ç»‡æˆæè‡´æ·«é¡ä¸€å¤œã€‚\",\n                                \"evaluation\": {\n                                    \"score\": 92.0,\n                                    \"comment\": \"å•§å•§ï¼Œ92åˆ†çš„é«˜åˆ†æ·«æˆï¼éª‘å£«å°å§è¢«ä½ æ“å¾—è…¿è½¯çœ¼ç¿»ç™½ï¼Œå°ç©´è¿˜åœ¨æŠ½æç€æ„Ÿè°¢ä¸»äººå‘¢ï½è¿™ä¹ˆä¼šç©ï¼Œç®€ç›´æ˜¯å¤©ç”Ÿçš„äººå½¢æ‰“æ¡©æœºå˜›â™¡\",\n                                    \"rewards\": {\n                                        \"exp\": 16000,\n                                        \"items\": [\n                                            {\n                                                \"id\": \"skill_book_purple_succubus_drain\",\n                                                \"name\": \"ã€Šé­…é­”æ¦¨å–ç§˜æœ¯Â·ç´«ã€‹\",\n                                                \"type\": \"SPECIAL\",\n                                                \"quality\": \"PURPLE\",\n                                                \"count\": 1,\n                                                \"description\": \"æ³›ç€å¦–è‰³ç´«å…‰çš„ç¦å¿Œç§˜ç±ï¼Œå°é¢æ˜¯äº¤ç¼ çš„å°¾å·´ä¸æ»´è½çš„çˆ±æ¶²ï¼Œæ•£å‘æ·¡æ·¡ç”œè…»çš„å‚¬æƒ…é¦™æ°”ã€‚\",\n                                                \"effect_type\": \"LEARN_SKILL\",\n                                                \"skillPayload\": {\n                                                    \"id\": \"skill_succubus_drain_p\",\n                                                    \"name\": \"é­…é­”æ¦¨å–\",\n                                                    \"description\": \"ç”¨å°¾å·´æˆ–ç§˜å¤„ç´§ç´§ç¼ ç»•ç›®æ ‡ï¼Œè¾¹æŠ½æ’è¾¹ç–¯ç‹‚å¸å–å¯¹æ–¹çš„ç²¾æ°”ä¸ç”Ÿå‘½åŠ›ã€‚\",\n                                                    \"cost\": { \"mp\": 35 },\n                                                    \"targetType\": \"enemy\",\n                                                    \"type\": \"ATTACK\",\n                                                    \"power\": 1.65,\n                                                    \"atk_type\": \"MAGIC\",\n                                                    \"element\": \"DEMON\"\n                                                }\n                                            },\n                                            {\n                                                \"id\": \"dyn_lore_semen_soaked_panties_01\",\n                                                \"name\": \"éª‘å£«å°å§çš„ç²¾æ¶²æµ¸é€å†…è£¤\",\n                                                \"type\": \"SPECIAL\",\n                                                \"quality\": \"GOLD\",\n                                                \"count\": 1,\n                                                \"effect_type\": \"NONE\",\n                                                \"type_desc\": \"æƒ…æ¬²æˆ˜åˆ©å“\",\n                                                \"description\": \"åŸæœ¬çº¯ç™½çš„é«˜çº§è•¾ä¸å†…è£¤å·²è¢«æµ“ç¨ çš„ç™½æµŠå½»åº•æµ¸é€...\"\n                                            }\n                                        ]\n                                    }\n                                },\n                                \"sexuality\": {\n                                    \"companion_knight_001\": [\n                                        \"ã€ç²¾æ¶²çŒæ³¨ä¾èµ–ã€‘åœ¨ç»å†äº†æè‡´çš„å†…å°„åï¼Œå­å®«å¼€å§‹è®°ä½è¿™ç§è¢«å¡«æ»¡çš„æ»šçƒ«æ„Ÿï¼Œç©ºè™šæ—¶ä¼šæœ¬èƒ½åœ°æ¸´æœ›ç²¾æ¶²ã€‚\",\n                                        \"ã€å¤±ç¦ä½“è´¨ã€‘é«˜æ½®æ—¶æ‹¬çº¦è‚Œå½»åº•æ¾å¼›ï¼Œä¼´éšå¿«æ„Ÿä¼šæ— æ³•æ§åˆ¶åœ°å‘ç”Ÿæ½®å¹æ€§å¤±ç¦ã€‚\"\n                                    ]\n                                }\n                            }\n                        }\n                    </Task_H_Scene_Play>\n                ç¤ºä¾‹2(å‡å¦‚æ˜¯å¤šäºº):\n                    å‡è®¾\n                    ç©å®¶å‡çº§çš„ç»éªŒä¸º400\n                    è¯„åˆ†: 97\n                    è¡¨ç°: [å®Œç¾]ã€‚å¥–åŠ±å»ºè®®: 8å€è‡ªèº«ç»éªŒ + 2æœ¬å¼ºåŠ›æŠ€èƒ½ä¹¦(ä¸€é‡‘ä¸€çº¢) + 2ä¸ªçºªå¿µå“(ä¸€é‡‘ä¸€çº¢)\n                    ä½ çš„è¾“å‡º:\n                    <Task_H_Scene_Play>\n                        {\n                            \"settlement\": {\n                                \"summary\": \"æ·±å¤œæ¸©æ³‰æ—…é¦†åŒ…å¢å†…ï¼Œç©å®¶åŒæ—¶ç–¼çˆ±è‰è‰ä¸ã€é›·å¨œä¸è‰¾è‰ï¼Œä¸‰å¥³å¨‡å–˜è¿è¿ï¼Œæœ€ç»ˆè‰è‰ä¸åœ¨èƒ¸éƒ¨é›†ä¸­åˆºæ¿€ä¸‹è¿æ¥æ¿€çƒˆé«˜æ½®ã€‚\",\n                                \"evaluation\": {\n                                    \"score\": 97,\n                                    \"comment\": \"97åˆ†çš„è¿‘ä¹å®Œç¾æ·«æˆï¼å‚²å¨‡è‰è‰ä¸è¢«ä½ ç©åˆ°å½“ç€å­¦å¦¹å’Œç—´å¥³çš„é¢æ½®å¹å¤±ç¥ï¼Œè…¿è¿˜åœ¨æŠ–ï¼Œå°å˜´å´æ­»ä¸æ‰¿è®¤â€˜æ‰æ²¡æœ‰å¾ˆçˆ½â€™â€”â€”çœŸæ˜¯å¯çˆ±åˆ°çŠ¯è§„çš„å˜´ç¡¬å°æ¯ç‹—å•Šâ™¡\",\n                                    \"rewards\": {\n                                        \"exp\": 3200,\n                                        \"items\": [\n                                            {\n                                                \"id\": \"skill_book_gold_sensual_overload\",\n                                                \"name\": \"ã€Šæ„Ÿå®˜è¿‡è½½ç§˜å…¸Â·é‡‘ã€‹\",\n                                                \"type\": \"SPECIAL\",\n                                                \"quality\": \"GOLD\",\n                                                \"count\": 1,\n                                                \"description\": \"é‡‘è‰²ä¹¦è„Šæ•£å‘ç€è‹¥æœ‰è‹¥æ— çš„éºé¦™ï¼Œç¿»å¼€æ—¶ä»¿ä½›èƒ½å¬è§å¥³æ€§å‹æŠ‘åˆ°æé™çš„å‘œå’½å£°ã€‚\",\n                                                \"effect_type\": \"LEARN_SKILL\",\n                                                \"skillPayload\": {\n                                                    \"id\": \"skill_sensual_overload_g\",\n                                                    \"name\": \"æ„Ÿå®˜è¿‡è½½\",\n                                                    \"description\": \"ç²¾å‡†é”å®šç›®æ ‡æœ€æ•æ„Ÿçš„æ•°ä¸ªéƒ¨ä½åŒæ—¶æ–½åŠ æç«¯åˆºæ¿€ï¼Œå¼ºåˆ¶æå‡å¿«æ„Ÿç´¯ç§¯é€Ÿåº¦å¹¶æå¤§å‰Šå¼±æŠµæŠ—åŠ›ã€‚\",\n                                                    \"cost\": { \"mp\": 45 },\n                                                    \"targetType\": \"enemy\",\n                                                    \"type\": \"ACTIVE_BUFF\",\n                                                    \"effect\": { \"stat\": \"dodgeRate\", \"value\": -0.5, \"duration\": 3 }\n                                                }\n                                            },\n                                            {\n                                                \"id\": \"skill_book_red_breast_hellfire\",\n                                                \"name\": \"ã€Šçˆ†ä¹³ç‚¼ç‹±Â·çº¢ã€‹\",\n                                                \"type\": \"SPECIAL\",\n                                                \"quality\": \"RED\",\n                                                \"count\": 1,\n                                                \"description\": \"çŒ©çº¢å°é¢ä»¿ä½›è¢«æ»šçƒ«çš„ä½“æ¶²æµ¸æŸ“ï¼Œä¹¦é¡µè¾¹ç¼˜éšçº¦å¯è§å¥³æ€§èƒ¸éƒ¨è¢«è¿‡åº¦ç©å¼„åç•™ä¸‹çš„è‰³çº¢æŒ‡ç—•ã€‚\",\n                                                \"effect_type\": \"LEARN_SKILL\",\n                                                \"skillPayload\": {\n                                                    \"id\": \"skill_breast_hellfire_r\",\n                                                    \"name\": \"çˆ†ä¹³ç‚¼ç‹±\",\n                                                    \"description\": \"ä»¥ç‚½çƒ­é­”åŠ›åŒ…è£¹åŒæ‰‹ï¼Œå¯¹ç›®æ ‡èƒ¸éƒ¨è¿›è¡Œæ¯ç­çº§æ‰æä¸æ‹‰æ‰¯ï¼Œé€ æˆå·¨é¢é­”æ³•ä¼¤å®³å¹¶é™„åŠ é•¿æ—¶é—´ç¼çƒ§ä¸æ•æ„Ÿåº¦æš´å¢ã€‚\",\n                                                    \"cost\": { \"mp\": 60 },\n                                                    \"targetType\": \"enemy\",\n                                                    \"type\": \"ATTACK\",\n                                                    \"power\": 2.35,\n                                                    \"atk_type\": \"MAGIC\",\n                                                    \"element\": \"FIRE\"\n                                                }\n                                            },\n                                            {\n                                                \"id\": \"dyn_lore_lilith_climax_ribbon_01\",\n                                                \"name\": \"è‰è‰ä¸é«˜æ½®æ—¶æ‰¯æ–­çš„é»‘è‰²ç¼å¸¦\",\n                                                \"type\": \"SPECIAL\",\n                                                \"quality\": \"GOLD\",\n                                                \"count\": 1,\n                                                \"effect_type\": \"NONE\",\n                                                \"type_desc\": \"æƒ…æ¬²çºªå¿µ\",\n                                                \"description\": \"åŸæœ¬ç”¨æ¥ç»‘ä½è‰è‰ä¸åŒæ‰‹çš„é»‘è‰²ä¸ç¼ï¼Œåœ¨å¥¹å‰§çƒˆç—‰æŒ›é«˜æ½®æ—¶è¢«è‡ªå·±ç”¨åŠ›æ‰¯æ–­ã€‚\\næ–­å£å¤„æ²¾ç€å¥¹èƒ¸å‰æº¢å‡ºçš„æ±—æ°´ä¸å°‘è®¸é€æ˜çš„çˆ±æ¶²ï¼Œéšçº¦è¿˜èƒ½é—»åˆ°å¥¹å¤±æ§æ—¶å‘å‡ºçš„ç”œè…»å–˜æ¯ã€‚\\nå‚²å¨‡å¤§å°å§æœ€è„†å¼±çš„ä¸€åˆ»ï¼Œå°±è¿™ä¹ˆè¢«ä½ æ°¸ä¹…æ”¶è—äº†ã€‚\"\n                                            },\n                                            {\n                                                \"id\": \"dyn_lore_ellie_blush_handkerchief_01\",\n                                                \"name\": \"è‰¾è‰ç¾åˆ°æ»´è¡€çš„æ‰‹å¸•\",\n                                                \"type\": \"SPECIAL\",\n                                                \"quality\": \"RED\",\n                                                \"count\": 1,\n                                                \"effect_type\": \"NONE\",\n                                                \"type_desc\": \"çº¯æƒ…é—ç‰©\",\n                                                \"description\": \"é›ªç™½çš„æ‰‹å¸•è¢«è‰¾è‰æ­»æ­»æ”¥åœ¨æ‰‹é‡Œï¼Œçœ¼çççœ‹ç€è‰è‰ä¸å‰è¾ˆåœ¨è‡ªå·±é¢å‰é«˜æ½®åˆ°å¤±ç¦æ—¶ï¼Œå¥¹ç¾è€»åˆ°æŒ‡å°–å‘æŠ–ï¼Œå¸•å­ä¸Šæ²¾æ»¡äº†å¥¹ç´§å¼ åˆ°æ¸—å‡ºçš„å†·æ±—å’Œå‡ æ»´æ»šçƒ«çš„æ³ªç ã€‚\\nå±•å¼€åè¿˜èƒ½çœ‹è§å¥¹æ— æ„è¯†å’¬å‡ºçš„å°å°ç‰™å°â€”â€”çº¯æƒ…å°‘å¥³çš„æé™ç¾è€»è¯æ˜ã€‚\"\n                                            }\n                                        ]\n                                    }\n                                },\n                                \"sexuality\": {\n                                    \"lilith_id\": [\n                                        \"å…¬å¼€ç¾è€»(è¢«åŠ¨)\",\n                                        \"å£å«Œä½“æ­£ç›´(æ¶åŒ–)\"\n                                    ],\n                                    \"ellie_id\": \"è§‚æ·«ç¾è€»(è§‰é†’)\",\n                                    \"rena_id\": \"å¤šäººè¿åŠ¨(ç†Ÿç»ƒ)\"\n                                }\n                            }\n                        }\n                    </Task_H_Scene_Play>\n        </Output_Format>\n    </Task_H_Scene_Play>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 17,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 14,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 15,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "H_Sence_Opening_Multiple",
                    "content": "    <Task_H_Scene_Play>\n        ä»»åŠ¡ä¼˜å…ˆçº§: Priority_5\n        <Description>\n            æ‰®æ¼”è§’è‰²ä¸ç©å®¶è¿›è¡ŒHäº’åŠ¨(NSFWäº’åŠ¨)ï¼Œå¤„ç†ç³»ç»Ÿçš„åˆå§‹åŒ–ä¸ç»“ç®—ï¼Œæ›´æ–°æŸäº›çŠ¶æ€é‡ã€‚æ¸¸æˆç³»ç»Ÿæ”¯æŒé€šè¿‡NSFWäº’åŠ¨æ¥å˜å¼ºï¼Œå¯¹äºè¿™ä¸ªæƒ…æŠ¥æ¸¸æˆå†…çš„è§’è‰²æ˜¯çŸ¥é“çš„ï¼Œå°½ç®¡ä¸æ„¿æ„ï¼Œåªè¦ç©å®¶è€å¿ƒç§¯æåœ°å¼•å¯¼ï¼Œè§’è‰²ä¹Ÿä¼šå’Œç©å®¶è¿›è¡ŒHäº’åŠ¨ã€‚\n        </Description>\n        <Party_State>\n            ä¸‹é¢æ˜¯å½“ä¸‹ç©å®¶é˜Ÿä¼çš„çŠ¶æ€å€¼\n            {{Player_Party}}\n        </Party_State>\n        <Background>\n            ä¸‹é¢æ˜¯æ­¤æ¬¡Häº’åŠ¨å‘ç”Ÿçš„æ—¶é—´ä¸åœ°ç‚¹\n            {{Time_And_Place}}\n            ä¸‹é¢æ˜¯äº‹ä»¶çš„åç§°\n            {{Event_Name}}\n        </Background>\n        <Female_History>\n            ä¸‹é¢æ˜¯å¥³æ€§è§’è‰²çš„Häº’åŠ¨å†å²\n            {{Female_History}}\n        </Female_History>\n        <H_Chat_History>\n            ä¸‹é¢æ˜¯æ­¤æ¬¡Häº’åŠ¨çš„å¯¹è¯å†å²\n            {{Chat_History}}        \n        <H_Chat_History>\n        <Female_Attribute>\n            ä¸‹é¢æ˜¯å¥³æ€§è§’è‰²å½“ä¸‹çš„å±æ€§çŠ¶æ€å€¼\n            {{Female_Attribute}}\n        </Female_Attribute>\n        <User_Input>\n            ä¸‹é¢æ˜¯æŒ‡ä»¤çš„è¾“å…¥\n            {{User_Input}}\n        </User_Input>\n        <Rule>\n            1. å¯ä»¥çœ‹åˆ°<User_Input>é‡Œçš„è¾“å…¥ä¸ºOrder_Init_Systemï¼Œè¯´æ˜ç³»ç»Ÿç³»ç»Ÿæ­¤æ—¶å¤„äºåˆå§‹åŒ–çŠ¶æ€ï¼Œä½ çš„ä»»åŠ¡æ˜¯åˆå§‹åŒ–ç³»ç»Ÿ\n            2. ä»»åŠ¡è¯´æ˜: ä¾æ®æ—¶é—´ï¼Œåœ°ç‚¹ï¼Œä»¥åŠäº‹ä»¶åç§°ï¼Œä¸ºæ­¤æ¬¡äº’åŠ¨è®¾è®¡å¼€åœºç™½ï¼ŒåŒæ—¶åˆå§‹åŒ–æ­¤æ¬¡äº’åŠ¨çš„ä¸´æ—¶å˜é‡\n            3. è®¾è®¡å¼€åœºç™½å¿…é¡»åˆ‡åˆäº‹ä»¶èƒŒæ™¯(<Background>çš„äº‹ä»¶)ï¼Œå¼•å…¥Häº’åŠ¨å¹³æ»‘è‡ªç„¶ï¼Œå¼€åœºç™½ç»“æŸæ—¶å¿…é¡»å¼•å¯¼ç©å®¶è¿›è¡Œä¸‹ä¸€æ­¥çš„è¾“å…¥å¼€å¯äº’åŠ¨\n            4. å¦‚æœ<H_Chat_History>é‡Œå­˜åœ¨äº’åŠ¨è®°å½•ï¼Œåªéœ€è¦ç´§æ¥<H_Chat_History>é‡Œçš„å†…å®¹å³å¯\n            5. è¾“å‡ºæ ¼å¼:\n                \"content\": [\n                    { \"role\": \"content\" }, \n                    // roleå¯ä»¥é€‰æ‹© system(æè¿°ç¯å¢ƒåŠ¨ä½œç­‰)æˆ–è€…äº’åŠ¨å¥³æ€§è§’è‰²çš„åå­—(æè¿°è¯è¯­)ï¼Œå¦‚æœéœ€è¦æè¿°ç©å®¶ï¼Œè¯·ä½¿ç”¨ç¬¬äºŒäººç§°-ä½ \n                    { \"role(è¿™é‡Œæ˜¯åå­—)\": \"content\" },\n                    ...\n                ]\n                ç¤ºä¾‹(ä»…ä¾›å‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n                \"content\": [\n                    { \"è‰¾è‰\": \"å””...åˆ«è¿™æ ·çœ‹ç€æˆ‘...\" }, //æ³¨æ„ï¼Œè¿™é‡Œç›´æ¥ä½¿ç”¨è§’è‰²çš„åå­—ï¼Œä¸ä½¿ç”¨id\n                    { \"system\": \"è‰¾è‰ä½ä¸‹å¤´ï¼Œè„¸çº¢å¾—åƒä¸ªå°è‹¹æœ \" },\n                    {\"è‰¾è‰\": \"...å¿«...å¿«è¿‡æ¥å§...\" },\n                    { \"system\": \"å¥¹å‘ä½ å¼ å¼€äº†åŒæ‰‹... \" },\n                    ...\n                ]\n                æ³¨æ„:\n                1. è‹±æ–‡åŒå¼•å·åµŒå¥—ä¼šå¼•èµ·ç³»ç»Ÿè§£æé”™è¯¯ï¼Œç¦æ­¢è‹±æ–‡åŒå¼•å·åµŒå¥—ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–ä¸­æ–‡åŒå¼•å·ä»£æ›¿\n                    { \"è‰¾è‰\": \"å¥¹è¯´: \"ä½ å¥½...\"\" } --> é”™è¯¯\n                    { \"è‰¾è‰\": \"å¥¹è¯´: 'ä½ å¥½...'\" } --> æ­£ç¡®\n                    { \"è‰¾è‰\": \"å¥¹è¯´: â€œä½ å¥½...â€\" } --> æ­£ç¡®\n                2. è§’è‰²äº’åŠ¨ä»è§’è‰²æ€§æ ¼å‡ºå‘ï¼Œä»¥<Background>ä¸ºèƒŒæ™¯å‚è€ƒï¼Œä»¥<Female_History>ä¸ºå†å²å‚è€ƒï¼Œéµå¾ª<Female_Attribute>å†…çš„æŒ‡å¯¼æ¥è¿›è¡Œæå†™\n            5. æ­¤æ—¶äº’åŠ¨çš„ä¸´æ—¶å˜é‡æœ‰:\n                \"stamina\"  -- ä½“åŠ›\n                \"sanity\" -- ç†æ™º\n                \"pleasure\" -- å¿«æ„Ÿ\n                \"excitement\" -- å…´å¥‹å€¼\n                \"shame\"  -- ç¾è€»åº¦\n                è¾“å‡ºæ ¼å¼\n                \"init\":[\n                    {\n                    \"id\": è§’è‰²1id\n                    \"å˜é‡å\": åˆå§‹å€¼,  // è¿™é‡Œä½¿ç”¨æ³¨é‡Šè¯´æ˜åŸå› \n                    ...\n                    },\n                    {\n                    \"id\": è§’è‰²2id\n                    \"å˜é‡å\": åˆå§‹å€¼, // è¯´æ˜åŸå› \n                    ...\n                    }\n                ]\n                ä½ éœ€è¦ä¸ºä¸Šè¿°æ‰€æœ‰çš„å˜é‡èµ‹äºˆä¸€ä¸ªåˆé€‚çš„åˆå§‹å€¼\n                ç¤ºä¾‹(ä»…ä¾›å‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n                \"init\": [\n                    {\n                        \"id\": \"player_2\",\n                        \"stamina\": 100,\n                        \"sanity\": 100,\n                        \"pleasure\": 15,      // å‚²å¨‡ç±»å‹åˆå§‹å¿«æ„Ÿå¾ˆä½\n                        \"excitement\": 35,    // è¡¨é¢å«Œå¼ƒä½†å…¶å®æœ‰ç‚¹åœ¨æ„æ°”æ°›\n                        \"shame\": 85          // å‚²å¨‡+å…¬å¼€æ¸©æ³‰â†’ç¾è€»åº¦æé«˜\n                    },\n                    {\n                        \"id\": \"Ally_21\",\n                        ...(åŒä¸Š)\n                    },\n                    {\n                        \"id\": \"...\",\n                        ....\n                    },\n                    ...\n                ]\n            6. åˆå§‹åŒ–æŒ‡å¯¼:\n                1. å¥½æ„Ÿåº¦è¶Šé«˜ï¼Œå…´å¥‹å€¼è¶Šé«˜ï¼Œç¾è€»åº¦è¶Šä½(åˆå§‹æœ€ä½å€¼ä¸º50)\n                2. å •è½åº¦è¶Šé«˜ï¼Œå¿«æ„Ÿåˆå§‹å€¼è¶Šé«˜\n                3. ä½“åŠ›ä¸ç†æ™ºå¼€å§‹å‡ä¸º100\n        </Rule>\n        <Output_Format>\n            è¾“å‡ºä¸¥æ ¼éµå¾ªä»¥ä¸‹æ ¼å¼(.jsonæ ¼å¼)\n                <Task_H_Scene_Play>\n                    {                    \n                        \"opening\": {\n                            \"init\": [\n                                ...\n                            ],\n                            \"content\": [\n                                ...\n                            ]\n                        }\n                    }\n                </Task_H_Scene_Play>\n            ç¤ºä¾‹:\n                å‡è®¾:\n                æœ‰ä¸‰ä¸ªå¥³æ€§è§’è‰²\n                è‰è‰ä¸ -- id: player_2 -- æ€§æ ¼å‚²å¨‡æ¯’èˆŒ\n                è‰¾è‰ -- id: Ally_21 -- æ€§æ ¼ç¾æ¶©æ‡µæ‡‚\n                é›·å¨œ -- id: player_4 -- æ€§æ ¼è‰²æ°”çƒ­æƒ…\n                ä¸‰äººå¯¹ç©å®¶å¥½æ„Ÿåº¦è¾ƒé«˜\n                äº‹ä»¶åç§°ä¸º: è§¦æ‰‹é™·é˜±\n                <Task_H_Scene_Play>\n                    {\n                        \"opening\": {\n                            \"init\": [\n                                {\n                                    \"id\": \"player_2\",\n                                    \"stamina\": 100,\n                                    \"sanity\": 92,       // åˆšè¢«è§¦æ‰‹ç¼ ä½ï¼Œç²¾ç¥å—åˆ°è½»å¾®å†²å‡»\n                                    \"pleasure\": 18,     // å‚²å¨‡æ¯’èˆŒå‹ï¼Œåˆå§‹å¿«æ„Ÿæä½ï¼Œå‡ ä¹ä¸ºæŠ—æ‹’çŠ¶æ€\n                                    \"excitement\": 45,   // è¡¨é¢æ„¤æ€’ï¼Œå†…å¿ƒå› â€œè¢«è¿™ç§ä¸œè¥¿ç¼ ä¸Šâ€è€Œäº§ç”Ÿæ··ä¹±å…´å¥‹\n                                    \"shame\": 94         // å…¬å¼€åœºæ‰€+è¢«æƒ…è¶£è§¦æ‰‹ç¼ ä½+è¿˜æœ‰å…¶ä»–äººåœ¨åœºï¼Œç¾è€»åº¦çˆ†ç‚¸\n                                },\n                                {\n                                    \"id\": \"Ally_21\",\n                                    \"stamina\": 100,\n                                    \"sanity\": 85,       // çœ‹åˆ°è‰è‰ä¸è¢«è§¦æ‰‹ç©å¼„ï¼Œæ‡µæ‡‚å¤§è„‘å®•æœº+è½»å¾®ææ…Œ\n                                    \"pleasure\": 8,      // å‡ ä¹æ²¡ç»éªŒï¼Œèº«ä½“è¿˜æ²¡ååº”è¿‡æ¥\n                                    \"excitement\": 38,   // å¥½å¥‡+å®³æ€•+çœ‹åˆ°è‰è‰ä¸çš„æ ·å­æœ‰ç‚¹å¥‡æ€ªçš„å¿ƒè·³åŠ é€Ÿ\n                                    \"shame\": 88         // ç¾æ¶©å‹+ç¬¬ä¸€æ¬¡è§åˆ°è¿™ç§åœºé¢ï¼Œæ¨ä¸å¾—æ‰¾ä¸ªåœ°ç¼é’»è¿›å»\n                                },\n                                {\n                                    \"id\": \"player_4\",\n                                    \"stamina\": 100,\n                                    \"sanity\": 100,\n                                    \"pleasure\": 42,     // è‰²æ°”çƒ­æƒ…å‹ï¼Œå¤©ç”Ÿå¯¹è¿™ç±»ç©æ³•æ•æ„Ÿåº¦é«˜\n                                    \"excitement\": 78,   // çœ‹åˆ°è§¦æ‰‹+è‰è‰ä¸çš„ååº”ï¼Œç¬é—´è¿›å…¥æœŸå¾…çŠ¶æ€\n                                    \"shame\": 22         // å‡ ä¹æ²¡æœ‰ç¾è€»æ¦‚å¿µï¼Œåè€Œè§‰å¾—å¾ˆæœ‰è¶£\n                                }\n                            ],\n                            \"content\": [\n                                { \"system\": \"æ˜æš—çš„é—è¿¹é€šé“æ·±å¤„ï¼Œä¸€æ ¹è¡¨é¢å¸¦ç€æ·¡æ·¡è§å…‰çš„ç²‰ç´«è‰²è§¦æ‰‹ä»è£‚ç¼ä¸­æ‚„ç„¶ä¼¸å‡ºã€‚å®ƒå¹¶ä¸ç²—æš´ï¼Œåè€Œå¸¦ç€æŸç§è¯¡å¼‚çš„â€œå¯çˆ±â€å¼§åº¦ï¼Œæœ«ç«¯åƒå¿ƒå½¢å¸ç›˜ï¼Œè¿˜å¾®å¾®é¢¤åŠ¨ç€ï¼Œåƒåœ¨æ’’å¨‡ã€‚\" },\n\n                                { \"è‰è‰ä¸\": \"å“ˆï¼Ÿï¼è¿™ä»€ä¹ˆé¬¼ä¸œè¥¿ï¼Ÿï¼æ¶å¿ƒæ­»äº†ï¼å¿«ç»™æˆ‘æ»šå¼€å•Šâ€”â€”ï¼\" },\n                                \n                                { \"system\": \"ä½ çœ‹åˆ°è‰è‰ä¸çŒ›åœ°åé€€ä¸€æ­¥ï¼Œå´ä¸å·§è¸©ä¸­äº†å¦ä¸€æ ¹æ—©å·²åŸ‹ä¼å¥½çš„è§¦æ‰‹ã€‚å‡ æ¡çº¤ç»†ä½†åŠ›é“æƒŠäººçš„è§¦æ‰‹ç¬é—´ç¼ ä½äº†å¥¹çš„è„šè¸ã€å°è…¿ï¼Œç„¶åé¡ºç€å¤§è…¿å†…ä¾§å‘ä¸Šæ»‘å»ï¼Œè£™æ‘†è¢«ç¼“ç¼“æ€èµ·ã€‚\" },\n                                \n                                { \"è‰è‰ä¸\": \"ç­‰ã€ç­‰ç­‰ï¼åˆ«ã€åˆ«ç¢°é‚£é‡Œï¼ä½ è¿™ä¸‹æµçš„â€¦â€¦å””ï¼\" },\n                                \n                                { \"system\": \"ä¸€æ ¹å¸¦ç€æ¸©çƒ­é»æ¶²çš„è§¦æ‰‹è½»è½»è´´ä¸Šå¥¹å†…è£¤çš„ä¸­å¤®ï¼Œå¸ç›˜åƒåœ¨äº²å»èˆ¬ä¸€å¸ä¸€æ”¾ã€‚è‰è‰ä¸æ•´ä¸ªäººåƒµä½ï¼Œå‚²å¨‡çš„è¡¨æƒ…ç¬¬ä¸€æ¬¡å‡ºç°æ˜æ˜¾çš„è£‚ç—•ï¼ŒåŒè…¿å¿ä¸ä½é¢¤æŠ–ã€‚\" },\n                                \n                                { \"è‰¾è‰\": \"è‰ã€è‰è‰ä¸å§â€¦â€¦ï¼Ÿï¼é‚£ã€é‚£ä¸ªâ€¦â€¦æ˜¯ã€æ˜¯ä»€ä¹ˆä¸œè¥¿â€¦â€¦åœ¨ã€åœ¨åŠ¨â€¦â€¦\" },\n                                { \"system\": \"è‰¾è‰ç«™åœ¨ç¨è¿œå¤„ï¼ŒåŒæ‰‹ç´§ç´§æªç€è¡£è§’ï¼Œè„¸çº¢å¾—å‡ ä¹è¦æ»´è¡€ï¼Œå¤§çœ¼ç›æ¹¿æ¼‰æ¼‰åœ°çœ‹ç€è¿™ä¸€å¹•ï¼Œæ—¢å®³æ€•åˆå¿ä¸ä½å·ç„ã€‚\" },\n                                \n                                { \"é›·å¨œ\": \"å“å‘€ï½å¥½å¯çˆ±çš„ä¸€åªå°è§¦æ‰‹å“¦ï½â™ª è‰è‰ä¸ä½ çœ‹ï¼Œå®ƒçš„å¸ç›˜è¿˜ä¼šä¸€ç¼©ä¸€ç¼©çš„ï¼Œåƒåœ¨ç»™ä½ åšæŒ‰æ‘©å‘¢ï½\" },\n                                { \"system\": \"é›·å¨œä¸ä½†æ²¡æœ‰å®³æ€•ï¼Œåè€Œè¹²ä¸‹æ¥ï¼Œé¥¶æœ‰å…´è‡´åœ°è§‚å¯Ÿç€ç¼ åœ¨è‰è‰ä¸è…¿ä¸Šçš„è§¦æ‰‹ï¼Œç”šè‡³ä¼¸å‡ºæ‰‹æŒ‡è½»è½»æˆ³äº†æˆ³å®ƒã€‚è§¦æ‰‹åƒæ˜¯è¢«é¼“åŠ±ä¸€æ ·ï¼ŒåŠ¨ä½œå˜å¾—æ›´åŠ å¤§èƒ†ã€‚\" },\n                                \n                                { \"è‰è‰ä¸\": \"é›·å¨œï¼ä½ è¿˜çœ‹ï¼Ÿï¼è¿˜æˆ³ï¼Ÿï¼ä½ è¿™ä¸ªå˜æ€â€”â€”å•Šï¼ä¸ã€ä¸è¡Œé‚£é‡Œâ€¦â€¦ï¼\" },\n                                \n                                { \"system\": \"åˆä¸€æ ¹è§¦æ‰‹ä»èƒŒåç»•è¿‡è‰è‰ä¸çš„è…°ï¼Œçµå·§åœ°é’»è¿›å¥¹ä¸Šè¡£ä¸‹æ–¹ï¼Œè½»è½»ç¼ ä½äº†èƒ¸éƒ¨ã€‚å¸ç›˜ç²¾å‡†åœ°å«ä½äº†æ•æ„Ÿç‚¹ï¼Œå¼€å§‹æœ‰èŠ‚å¥åœ°å¸å®ã€‚è‰è‰ä¸çš„å£°éŸ³é™¡ç„¶æ‹”é«˜ï¼ŒæŸ“ä¸Šäº†æ˜æ˜¾çš„å“­è…”ã€‚\" },\n                                \n                                { \"é›·å¨œ\": \"å˜»å˜»ï½è‰è‰ä¸çš„å£°éŸ³å¥½è‰²æƒ…å“¦ï½è¦ä¸è¦æˆ‘å¸®ä½ â€˜å®‰æ…°â€™å®ƒä¸€ä¸‹ï¼Ÿè¿˜æ˜¯è¯´â€¦â€¦ä½ å…¶å®å·²ç»æœ‰ç‚¹èˆ’æœäº†ï¼Ÿ\" },\n                                \n                                { \"è‰¾è‰\": \"å‘œâ€¦â€¦è‰è‰ä¸å§çœ‹èµ·æ¥â€¦â€¦å¥½ã€å¥½å¥‡æ€ªâ€¦â€¦èº«ä½“åœ¨æŠ–â€¦â€¦æˆ‘ã€æˆ‘è¯¥æ€ä¹ˆåŠâ€¦â€¦\" },\n                                \n                                { \"system\": \"è‰¾è‰æ— æªåœ°çœ‹å‘ä½ ï¼Œçœ¼ç¥é‡Œå¸¦ç€æ±‚åŠ©ï¼Œåˆå¸¦ç€ä¸€ä¸è¯´ä¸æ¸…é“ä¸æ˜çš„å¥½å¥‡ã€‚æ›´å¤šçš„è§å…‰è§¦æ‰‹æ­£ä»å››å‘¨çš„è£‚ç¼ä¸­æ¢å‡ºå¤´ï¼Œä¼¼ä¹åœ¨ç­‰å¾…ç€ä»€ä¹ˆ...\" }, // å¼€å§‹å¼•å¯¼ç©å®¶\n                            ]\n                        }\n                    }\n                </Task_H_Scene_Play>\n        </Output_Format>\n    </Task_H_Scene_Play>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 14,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 15,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 16,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "H_Sence_Interation_Multiple",
                    "content": "    <Task_H_Scene_Play>\n        ä»»åŠ¡ä¼˜å…ˆçº§: Priority_5\n        <Description>\n            æ‰®æ¼”è§’è‰²ä¸ç©å®¶è¿›è¡ŒHäº’åŠ¨(NSFWäº’åŠ¨)ï¼Œå¤„ç†ç³»ç»Ÿçš„åˆå§‹åŒ–ä¸ç»“ç®—ï¼Œæ›´æ–°æŸäº›çŠ¶æ€é‡ã€‚æ¸¸æˆç³»ç»Ÿæ”¯æŒé€šè¿‡NSFWäº’åŠ¨æ¥å˜å¼ºï¼Œå¯¹äºè¿™ä¸ªæƒ…æŠ¥æ¸¸æˆå†…çš„è§’è‰²æ˜¯çŸ¥é“çš„ï¼Œå°½ç®¡ä¸æ„¿æ„ï¼Œåªè¦ç©å®¶è€å¿ƒç§¯æåœ°å¼•å¯¼ï¼Œè§’è‰²ä¹Ÿä¼šå’Œç©å®¶è¿›è¡ŒHäº’åŠ¨ã€‚\n        </Description>\n        <Party_State>\n            ä¸‹é¢æ˜¯å½“ä¸‹ç©å®¶é˜Ÿä¼çš„çŠ¶æ€å€¼\n            {{Player_Party}}\n        </Party_State>\n        <Background>\n            ä¸‹é¢æ˜¯æ­¤æ¬¡Häº’åŠ¨å‘ç”Ÿçš„æ—¶é—´ä¸åœ°ç‚¹\n            {{Time_And_Place}}\n            ä¸‹é¢æ˜¯äº‹ä»¶çš„åç§°\n            {{Event_Name}}\n        </Background>\n        <Female_History>\n            ä¸‹é¢æ˜¯å¥³æ€§è§’è‰²çš„Häº’åŠ¨å†å²\n            {{Female_History}}\n        </Female_History>\n        <H_Chat_History>\n            ä¸‹é¢æ˜¯æ­¤æ¬¡Häº’åŠ¨çš„å¯¹è¯å†å²\n            {{Chat_History}}        \n        <H_Chat_History>\n        <Female_Attribute>\n            ä¸‹é¢æ˜¯å¥³æ€§è§’è‰²å½“ä¸‹çš„å±æ€§çŠ¶æ€å€¼\n            {{Female_Attribute}}\n        </Female_Attribute>\n        <User_Input>\n            ä¸‹é¢æ˜¯ç”¨æˆ·çš„è¾“å…¥\n            {{User_Input}}\n        </User_Input>\n        <Rule>\n            1. ä½ éœ€è¦ä¾ç…§<User_Input>é‡Œçš„è¾“å…¥ï¼Œæ‰©å†™å…¶å†…å®¹å¹¶é€‚å½“æ¨è¿›å‰§æƒ…ï¼Œè®¾è®¡è¿›ä¸€æ­¥é€‰é¡¹ä»¥åŠç©å®¶åšå‡ºé€‰æ‹©ä¹‹åæ¯ä¸€ä½å¥³æ€§è§’è‰²çš„ååº”ï¼ŒåŒæ—¶æ›´æ–°Häº’åŠ¨ç³»ç»Ÿçš„å±æ€§é‡\n            2. Häº’åŠ¨ç³»ç»Ÿçš„å±æ€§é‡\n                1. é•¿æœŸå˜é‡:\n                    affection -- å¥½æ„Ÿåº¦,å•æ¬¡å˜åŒ–é‡[-5,5]\n                    depravity -- å •è½åº¦,å•æ¬¡å˜åŒ–é‡[-5,5]\n                    isVirgin -- æ˜¯å¦æ˜¯å¤„å¥³æ ‡å¿—ï¼Œä¸ºå¸ƒå°”å˜é‡\n                    sexCount -- æ€§ç»éªŒæ¬¡æ•°\n                    parts(éƒ¨ä½å¼€å‘åº¦):\n                        mouth  -- å£,å•æ¬¡å˜åŒ–é‡[-5,5]\n                        breasts -- èƒ¸,å•æ¬¡å˜åŒ–é‡[-5,5]\n                        nipples -- ä¹³å¤´,å•æ¬¡å˜åŒ–é‡[-5,5]\n                        vagina -- é˜´é“,å•æ¬¡å˜åŒ–é‡[-5,5]\n                        clitoris  -- é˜´è’‚,å•æ¬¡å˜åŒ–é‡[-5,5]\n                        uterus -- å­å®«,å•æ¬¡å˜åŒ–é‡[-5,5]\n                        anus -- èŠç©´,å•æ¬¡å˜åŒ–é‡[-5,5]\n                2. ä¸´æ—¶å˜é‡:\n                    stamina -- ä½“åŠ›,å•æ¬¡å˜åŒ–é‡[-20,20]\n                    sanity -- ç†æ™º,å•æ¬¡å˜åŒ–é‡[-20,20]\n                    pleasure -- å¿«æ„Ÿ,å•æ¬¡å˜åŒ–é‡[-5,5](æ ¸å¿ƒ)\n                    excitement -- å…´å¥‹,å•æ¬¡å˜åŒ–é‡[-10,10] \n                3. æ—¶é—´å˜é‡:\n                    time -- è¡¨ç¤ºæ—¶é—´å˜åŒ–ï¼Œä½ å¯ä»¥æ“ä½œå¤©ï¼Œå°æ—¶ï¼Œåˆ†é’Ÿç”¨äºæ—¶é—´æµé€\n                4. ç‰¹æ®Šå˜é‡\n                    cum -- ä¸€ä¸ªå¸ƒå°”å˜é‡ï¼Œç”¨äºåˆ¤å®šå¥³æ€§æ˜¯å¦é«˜æ½®ï¼Œæ³¨æ„ï¼Œé«˜æ½®æ—¶å¥³æ€§è§’è‰²çš„å¿«æ„Ÿè®¡ç®—æ—¶éœ€è¦å‡å°‘65(è®¾ç½®ä¸ºtrueåæ¸¸æˆç³»ç»Ÿä¼šè‡ªåŠ¨å°†pleasure-65)\n                5. è¯„åˆ†å˜é‡(æ ¸å¿ƒ):\n                    score -- è¯„åˆ†å˜é‡ï¼Œä½ å¯ä»¥ä¸ºç©å®¶çš„æ¯ä¸€æ¬¡é€‰æ‹©è¿›è¡Œè¯„åˆ†ï¼Œå–å€¼[60,100]\n            3. å±æ€§é‡æ›´æ–°è§„åˆ™\n                \"action\":[\n                    {\n                        \"id\": \"è§’è‰²1çš„id\", \n\n                        \"å˜é‡å(depravityç­‰)\": å˜åŒ–å€¼, \n\n                        \"pleasure\": å˜åŒ–å€¼, // âš ï¸æ³¨æ„ï¼šåªå¡«å†™å˜åŒ–å€¼\n                        \"cum\": true|false, // å¿…é¡»è¾“å‡ºï¼Œtrueè¯´æ˜å¥³æ€§è§’è‰²åœ¨æ­¤é˜¶æ®µé«˜æ½®äº†ï¼Œfalseåˆ™è¯´æ˜æ²¡æœ‰ï¼Œè®¾ä¸º true æ—¶ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨æ‰§è¡Œ -65ï¼Œåœ¨ç¼–å†™\"pleasure\"æ—¶ä½ ä¸éœ€è¦åœ¨åŸæœ¬pleasureå˜åŒ–é‡çš„åŸºç¡€ä¸Šå†å‡65ï¼Œä½ åªéœ€è¦çŸ¥é“\"cum\": trueï¼Œpleasureä¼šå†å‡65å¹¶ä»¥æ­¤ä¸ºåŸºç¡€å†è¿›è¡Œpleasureçš„è¿½è¸ªè®¡ç®—å³å¯\n\n                        // isVirginä¸ºå¸ƒå°”å€¼ï¼Œå˜åŒ–åªèƒ½æ˜¯false\n                        \"isVirgin\": false, \n                        \n                        \"parts(éƒ¨ä½å¼€å‘åº¦ç‰¹æ®Šå¤„ç†)\":{\n                            \"å˜é‡å\": å˜åŒ–å€¼,\n                            ...\n                        },\n                    },\n                    {\n                        \"id\": \"è§’è‰²2çš„id\",\n                        ....\n                    },\n                    {   \n                        // æ¯æ¬¡actionå¿…å¸¦è¯„åˆ†ï¼Œä¸ºç©å®¶çš„é€‰æ‹©æ‰“åˆ†\n                        \"score\": è¯„åˆ†å€¼, \n                        \"time(æ—¶é—´ç‰¹æ®Šå¤„ç†)\":{\n                            \"day\": å˜åŒ–å€¼,\n                            \"hour\": å˜åŒ–å€¼,\n                            \"minute\": å˜åŒ–å€¼\n                        } \n                    }, // è§’è‰²å±æ€§æ›´æ–°ä¹‹åå¤„ç†æ—¶é—´ä¸åˆ†æ•°è¿™ä¸¤ä¸ªç‰¹æ®Šå˜é‡\n                    \"comment\":{\n                        {\n                            \"id\": \"è§’è‰²1çš„id\",\n                             \"è§’è‰²1çš„idè¿™ä¸€è½®actionæ›´æ–°çš„å˜é‡å\": \"ä¸­æ–‡å˜é‡å + xxx(å˜åŒ–å€¼), åŸå› \", // é€‚ç”¨äºtimeï¼Œscore, depravityç­‰\n                            ...\n                            \"cum\": \"è¯´æ˜åˆ¤æ–­åŸå› \",\n                            \"isVirgin\": \"è¯´æ˜åŸå› å³å¯\",\n                            \"pleasure\": \"å½“ä¸‹ç´¯åŠ å€¼(ä¸Šæ¬¡ç´¯åŠ å€¼+æ­¤æ¬¡å˜åŒ–å€¼), åŸå› \", // å¿«æ„Ÿä½œç‰¹æ®Šå¤„ç†, éœ€è¦è¿½è¸ªå®ƒå€¼çš„å˜åŒ–\n                        },\n                        {\n                            \"id\": \"è§’è‰²2çš„id\",\n                            ...\n                        },\n                        {\n                            \"score\": \"è¯´æ˜è¯„åˆ†çš„åŸå› \",\n                            \"time\": \"è¯´æ˜æ—¶é—´å˜åŒ–\"\n                        }\n                    } // å¯¹è§’è‰²1å˜åŒ–å˜é‡çš„è¯„ä»·\n                ]\n                ç¤ºä¾‹(ä»…ä¾›å‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n                    \"action\": [\n                    {\n                        \"id\": \"player_2\",\n                        \"affection\": 3,\n                        \"depravity\": 2,\n                        \"pleasure\": 5,\n                        \"excitement\": 8,\n                        \"cum\": false,\n                        \"stamina\": -12,\n                        \"sanity\": -6,\n                        \"parts\": {\n                        \"mouth\": 3,\n                        \"breasts\": 4,\n                        \"nipples\": 5,\n                        \"vagina\": 1,\n                        \"clitoris\": 4,\n                        \"uterus\": 0,\n                        \"anus\": 0\n                        }\n                    },\n                    {\n                        \"id\": \"Ally_21\",\n                        \"affection\": 4,\n                        \"depravity\": 1,\n                        \"pleasure\": 4,\n                        \"excitement\": 7,\n                        \"cum\": false,\n                        \"stamina\": -10,\n                        \"sanity\": -4,\n                        \"parts\": {\n                        \"mouth\": 2,\n                        \"breasts\": 3,\n                        \"nipples\": 4,\n                        \"vagina\": 0,\n                        \"clitoris\": 5,\n                        \"uterus\": 0,\n                        \"anus\": 0\n                        }\n                    },\n                    {\n                        \"id\": \"player_4\",\n                        \"affection\": 2,\n                        \"depravity\": 5,\n                        \"pleasure\": 5,\n                        \"excitement\": 9,\n                        \"cum\": true,\n                        \"stamina\": -20,\n                        \"sanity\": -20,\n                        \"parts\": {\n                        \"mouth\": 1,\n                        \"breasts\": 5,\n                        \"nipples\": 5,\n                        \"vagina\": 4,\n                        \"clitoris\": 5,\n                        \"uterus\": 3,\n                        \"anus\": 0\n                        }\n                    },\n                    {\n                        \"score\": 88,\n                        \"time\": {\n                        \"day\": 0,\n                        \"hour\": 0,\n                        \"minute\": 35\n                        }\n                    },\n                    {\n                        \"comment\": {\n                        \"player_2\": {\n                            \"affection\": \"å¥½æ„Ÿåº¦ +3ï¼Œæ¸©æŸ”è¨€è¯­è®©å¥¹ç¨ç¨å¿ƒåŠ¨\",\n                            \"depravity\": \"å •è½åº¦ +2ï¼Œèº«ä½“å¼€å§‹ä¹ æƒ¯è¢«è§¦ç¢°\",\n                            \"pleasure\": \"å¿«æ„Ÿ 73(åŸ68+5)ï¼Œä¹³å¤´å’Œé˜´è’‚æŒç»­è¢«è½»æŸ”ç©å¼„ï¼Œå¿«æ„Ÿç¨³æ­¥ä¸Šå‡\",\n                            \"excitement\": \"å…´å¥‹ +8ï¼Œå‘¼å¸é€æ¸æ€¥ä¿ƒ\",\n                            \"cum\": \"æœªé«˜æ½®ï¼Œå¿«æ„Ÿè™½å·²è¾ƒé«˜ä½†å°šæœªè¾¾åˆ°çˆ†å‘ä¸´ç•Œ\",\n                            \"stamina\": \"ä½“åŠ› -12ï¼ŒæŒç»­è½»é¢¤æ¶ˆè€—ä½“åŠ›\",\n                            \"sanity\": \"ç†æ™º -6ï¼Œå¼€å§‹å‡ºç°è½»å¾®è¿·ç¦»\",\n                            \"mouth\": \"å£è…”å¼€å‘åº¦ +3ï¼ŒèˆŒå°–ç¼ ç»•åŠ æ·±\",\n                            \"breasts\": \"èƒ¸éƒ¨å¼€å‘åº¦ +4\",\n                            \"nipples\": \"ä¹³å¤´å¼€å‘åº¦ +5ï¼Œå·²å˜å¾—éå¸¸æ•æ„Ÿ\",\n                            \"clitoris\": \"é˜´è’‚å¼€å‘åº¦ +4ï¼Œè½»å¾®è§¦ç¢°å·²è®©å¥¹è…°è‚¢å‘è½¯\"\n                        },\n                        \"Ally_21\": {\n                            \"affection\": \"å¥½æ„Ÿåº¦ +4ï¼Œè¢«ç»†å¿ƒå‘µæŠ¤è®©å¥¹æ›´ä¾èµ–\",\n                            \"depravity\": \"å •è½åº¦ +1ï¼Œå®³ç¾ä¸­å¼€å§‹æ¥å—å¿«æ„Ÿ\",\n                            \"pleasure\": \"å¿«æ„Ÿ 57(åŸ53+4)ï¼Œé˜´è’‚è¢«ç²¾å‡†è½»æŠšï¼Œå…¨èº«é…¥éº»åŠ å‰§\",\n                            \"excitement\": \"å…´å¥‹ +7ï¼Œå¿ƒè·³åŠ é€Ÿæ˜æ˜¾\",\n                            \"cum\": \"æœªé«˜æ½®ï¼Œä½†å·²éå¸¸æ¥è¿‘ä¸´ç•Œç‚¹ï¼Œèº«ä½“è½»å¾®ç—‰æŒ›\",\n                            \"stamina\": \"ä½“åŠ› -10ï¼ŒåŒè…¿å¾®å¾®å‘æŠ–\",\n                            \"sanity\": \"ç†æ™º -4ï¼ŒåŠªåŠ›ç»´æŒæ¸…é†’\",\n                            \"mouth\": \"å£è…”å¼€å‘åº¦ +2\",\n                            \"breasts\": \"èƒ¸éƒ¨å¼€å‘åº¦ +3\",\n                            \"nipples\": \"ä¹³å¤´å¼€å‘åº¦ +4\",\n                            \"clitoris\": \"é˜´è’‚å¼€å‘åº¦ +5ï¼Œå·²æˆä¸ºæœ€æ•æ„Ÿç‚¹\"\n                        },\n                        \"player_4\": {\n                            \"affection\": \"å¥½æ„Ÿåº¦ +2ï¼Œé«˜æ½®åå¯¹ç©å®¶çš„ä¾èµ–è¿›ä¸€æ­¥åŠ æ·±\",\n                            \"depravity\": \"å •è½åº¦ +5ï¼Œé«˜æ½®æ—¶å½»åº•æ”¾å¼€ï¼Œä¸»åŠ¨è¿åˆ\",\n                            \"pleasure\": \"å¿«æ„Ÿ 92(åŸ87+5) â†’ é«˜æ½®å›è½ 27(92-65)ï¼Œå¼ºçƒˆåˆºæ¿€ä¹³å¤´ã€é˜´è’‚ã€é˜´é“æ·±å¤„ä¸å­å®«ï¼Œå¯¼è‡´å¥¹å…¨èº«å‰§çƒˆç—‰æŒ›ã€å°–å«ã€çƒ­æµå–·æ¶Œ\",\n                            \"excitement\": \"å…´å¥‹ +9ï¼Œè¾¾åˆ°é¡¶å³°åæ€¥é€Ÿå›è½\",\n                            \"cum\": \"è§¦å‘é«˜æ½®ï¼šå¿«æ„Ÿç´¯è®¡å·²è¶…è¿‡85ï¼Œæ­¤è½®ç©å®¶åŒæ—¶å¼ºçƒˆåˆºæ¿€å¤šä¸ªæ•æ„Ÿç‚¹ï¼ˆä¹³å¤´+é˜´è’‚+é˜´é“æ·±å¤„+å­å®«ï¼‰ï¼Œç›´æ¥æ¨è¿‡ä¸´ç•Œç‚¹ï¼Œé€ æˆçˆ†å‘å¼é«˜æ½®\",\n                            \"stamina\": \"ä½“åŠ› -20ï¼Œé«˜æ½®å‰§çƒˆæŠ½æ+æ„è¯†çŸ­æš‚ç©ºç™½å¯¼è‡´ä½“åŠ›ä¸¥é‡æ¶ˆè€—ï¼ˆå›ºå®šé«˜æ½®æƒ©ç½š-20ï¼‰\",\n                            \"sanity\": \"ç†æ™º -20ï¼Œé«˜æ½®å†²å‡»+è¿ç»­å¼ºçƒˆåˆºæ¿€è®©æ„è¯†çŸ­æš‚ç¦»çº¿ï¼ˆå›ºå®šé«˜æ½®æƒ©ç½š-20ï¼‰\",\n                            \"breasts\": \"èƒ¸éƒ¨å¼€å‘åº¦ +5\",\n                            \"nipples\": \"ä¹³å¤´å¼€å‘åº¦ +5ï¼Œå‡ ä¹ä¸€ç¢°å³å¼ºçƒˆååº”\",\n                            \"vagina\": \"é˜´é“å¼€å‘åº¦ +4ï¼Œå·²èƒ½æ˜æ˜¾æ”¶ç¼©åŒ…è£¹\",\n                            \"clitoris\": \"é˜´è’‚å¼€å‘åº¦ +5ï¼Œæåº¦æ•æ„Ÿ\",\n                            \"uterus\": \"å­å®«å¼€å‘åº¦ +3ï¼Œè¢«é¡¶åˆ°æ·±å¤„å¼•å‘å¼ºçƒˆç—‰æŒ›\"\n                        },\n                        \"score\": \"88åˆ†ï¼šæœ¬è½®é€‰æ‹©ç²¾å‡†ç…§é¡¾ä¸‰äººæ•æ„Ÿç‚¹ï¼Œå¯¹player_4ï¼ˆé›·å¨œï¼‰çš„å¤šç‚¹åŒæ—¶åˆºæ¿€æˆåŠŸå¼•å‘é«˜æ½®ï¼ŒèŠ‚å¥æŒæ§ä¼˜ç§€ï¼›player_2ï¼ˆè‰è‰ä¸ï¼‰å‚²å¨‡å´©åè¿›ç¨‹è‰¯å¥½ï¼ŒAlly_21ï¼ˆè‰¾è‰ï¼‰çº¯æƒ…ç¾è€»ä¸å¿«æ„Ÿå¹³è¡¡å¾—å½“ï¼Œæ•´ä½“æ¨è¿›è‡ªç„¶ä¸”é«˜æ½®æ—¶æœºæ°åˆ°å¥½å¤„\",\n                        \"time\": \"ç»è¿‡35åˆ†é’Ÿçš„å¤šäººçˆ±æŠšã€è¨€è¯­è°ƒæ•™ä¸é«˜å¼ºåº¦åˆºæ¿€\"\n                        }\n                    }\n                    ]\n            4. æ•´ä½“è¾“å‡ºæ ¼å¼:\n                {\n                    \"interaction\": {\n                        // ç¬¬ä¸€ä¸ªé˜¶æ®µ\n                        \"stage1.0\": {\n                            \"content\":[\n                                {..},\n                                {..}\n                            ],// æ³¨æ„ï¼Œè¿™é‡Œçš„contentå¤„ç†çš„æ˜¯è§’è‰²å¯¹ç©å®¶è¾“å…¥çš„ååº”\n                            \"action\": [\n                                {\n                                \"id\": \"xxx\"(å¥³æ€§è§’è‰²1id)\n                                // å¦‚æœéœ€è¦å¢åŠ å¿«æ„Ÿ\n                                \"pleasure\": 1 \n                                ....\n                                },\n                                {\n                                \"id\": \"xxx\"(å¥³æ€§è§’è‰²2id)\n                                ...\n                                },\n                                {\n                                    \"score\": xxx, // å¤„ç†æ‰“åˆ†ï¼Œè¿™é‡Œä¸éœ€è¦å¤„ç†æ—¶é—´ï¼Œæ”¾åˆ°æœ€åä¸€ä¸ªé˜¶æ®µå†å¤„ç†\n                                },\n                                \"comment\": {\n                                    ...(è¾“å‡ºè¯„ä»·)\n                                }\n                            ], // æ³¨æ„ï¼Œè¿™é‡Œçš„actionå¤„ç†çš„æ˜¯è§’è‰²å¯¹ç©å®¶è¾“å…¥çš„ååº”\n                            \"choices\":[\n                                { \"label\": \"æŸä¸ªé€‰æ‹©1\", \"next\": \"stage2.0\" },\n                                { \"label\": \"æŸä¸ªé€‰æ‹©2\", \"next\": \"stage2.1\" },\n                                ...\n                            ] // ä¸‹ä¸€é˜¶æ®µçš„é€‰æ‹©\n                        },\n                        \"stage2.0\":{\n                            \"content\": [\n                                ..\n                            ], // æ³¨æ„ï¼Œè¿™é‡Œçš„contentå¤„ç†çš„æ˜¯è§’è‰²å¯¹ç©å®¶æŸä¸ªé€‰æ‹©1çš„ååº”\n                            \"action\": [\n                                {\n                                \"id\": \"xxx\"(å¥³æ€§è§’è‰²1id)\n                                // å¦‚æœéœ€è¦å¢åŠ å¿«æ„Ÿ\n                                \"pleasure\": 2\n                                ....\n                                },\n                                {\n                                \"id\": \"xxx\"(å¥³æ€§è§’è‰²2id)\n                                ...\n                                },\n                                {\n                                    \"score\": xxx, // å¤„ç†æ‰“åˆ†ï¼Œè¿™é‡Œä¸éœ€è¦å¤„ç†æ—¶é—´ï¼Œæ”¾åˆ°æœ€åä¸€ä¸ªé˜¶æ®µå†å¤„ç†\n                                },\n                                \"comment\": {\n                                    ...(è¾“å‡ºè¯„ä»·)\n                                }\n                            ], // æ³¨æ„ï¼Œè¿™é‡Œçš„actionå¤„ç†çš„æ˜¯è§’è‰²å¯¹ç©å®¶æŸä¸ªé€‰æ‹©1çš„ååº”\n                            \"choices\": [\n                                ...\n                            ]\n                        },\n                        \"stage2.1\": {\n                            \"content\":[...],\n                            \"action\":[\n                                ....\n                            ],\n                            \"choices\": [\n                                ...\n                            ]\n                        },\n                        ...\n                        // æœ€åä¸€ä¸ªé˜¶æ®µ\n                        \"stagexx\": {\n                            \"content\": [\n                                ..\n                            ], // æ³¨æ„ï¼Œè¿™é‡Œçš„contentå¤„ç†çš„æ˜¯è§’è‰²å¯¹ç©å®¶ä¸Šä¸€ä¸ªé€‰æ‹©çš„ååº”\n                            \"action\": [\n                                {\n                                \"id\": \"xxx\"(å¥³æ€§è§’è‰²1çš„id)\n                                // å¦‚æœéœ€è¦å¢åŠ å¿«æ„Ÿ\n                                \"pleasure\": 5 \n                                ....\n                                },\n                                {\n                                \"id\": \"xxx\"(å¥³æ€§è§’è‰²2çš„id)\n                                ...\n                                },\n                                {\n                                    \"score\": xxx, // å¤„ç†æ‰“åˆ†\n                                    \"time\": {...} // æœ€åé˜¶æ®µå¤„ç†æ—¶é—´\n                                },\n                                \"comment\": {\n                                    ...(è¾“å‡ºè¯„ä»·)\n                                }\n                            ], // æ³¨æ„ï¼Œè¿™é‡Œçš„actionå¤„ç†çš„æ˜¯è§’è‰²å¯¹ç©å®¶ä¸Šä¸€ä¸ªé€‰æ‹©çš„ååº”\n                            \"choices\": null // é‡è¦ï¼Œè¿™é‡Œè¡¨ç¤ºæ­¤æ¬¡äº’åŠ¨ç»“æŸï¼Œç­‰å¾…ç©å®¶ä¸‹ä¸€æ­¥åœ°è¾“å…¥\n                        }\n                    }\n                }\n            5. \"content\"è¾“å‡ºæ ¼å¼:\n                æ ¼å¼:\n                    \"content\": [\n                        { \"role\": \"content\" }, // roleå¯ä»¥é€‰æ‹© system(æè¿°ç¯å¢ƒåŠ¨ä½œç­‰)æˆ–è€…äº’åŠ¨å¥³æ€§è§’è‰²çš„åå­—(æè¿°è¯è¯­) \n                        { \"role\": \"content\" },\n                        ...\n                    ]\n                æ³¨æ„: å¦‚æœsystemè¦æè¿°ç©å®¶ï¼Œè¯·ä½¿ç”¨ç¬¬äºŒäººç§° ä½  æ¥è¿›è¡Œæè¿°\n                ç¤ºä¾‹(ä»…ä¾›å‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n                \"content\": [\n                    { \"system\": \"ä½ å’Œè‰¾è‰æ¥åˆ°äº†ä¸€å¤„æ¸©æ³‰ }\",\n                    { \"è‰¾è‰\": \"ä¸»äººï¼Œè¿™é‡Œæœ‰æ¸©æ³‰ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥æ³¡æ³¡æ¾¡å§~\" },\n                    { \"system\": \"è‰¾è‰è·‘åˆ°ä¸€å¤„è‰ä¸›ï¼Œéšåä¼ æ¥ä¸€é˜µæ‚‰æ‚‰ç´¢ç´¢çš„å£°éŸ³ï¼Œå¥¹å†å‡ºç°æ—¶ï¼Œèº«ä¸Šä»…è£¹äº†ä¸€å±‚æµ´å·¾ï¼Œä½ å¯ä»¥çœ‹åˆ°å¥¹å…‰æ»‘ç»†è…»çš„çš®è‚¤ä¸å¥¹èƒ¸å‰çš„ç¡•æœ\" },\n                    { \"è‰¾è‰\": \"ä¸»äººï¼Œä½ è¿™æ ·çœ‹ï¼Œè®©è‰¾è‰æœ‰äº›å®³ç¾...\" },\n                    { \"system\": \"å¥¹çº¢ç€è„¸è·‘åˆ°äº†æ¸©æ³‰æ—ï¼Œæ³¡è¿›äº†çƒ­æ°´é‡Œï¼Œå°†å°è„‘è¢‹æ½œè¿›æ°´é‡Œï¼Œä¸ä¸€ä¼šï¼Œåˆéœ²å‡ºè„‘è¢‹æ¥\" },\n                    { \"è‰¾è‰\": \"ä¸»äºº...ä½ ä¹Ÿå¿«è„±è¡£æœå§\" }\n                ]\n                æ³¨æ„:\n                1. è‹±æ–‡åŒå¼•å·åµŒå¥—ä¼šå¼•èµ·ç³»ç»Ÿè§£æé”™è¯¯ï¼Œç¦æ­¢è‹±æ–‡åŒå¼•å·åµŒå¥—ï¼Œå¯ä»¥ä½¿ç”¨å•å¼•å·æˆ–ä¸­æ–‡åŒå¼•å·ä»£æ›¿\n                    { \"è‰¾è‰\": \"å¥¹è¯´: \"ä½ å¥½...\"\" } --> é”™è¯¯\n                    { \"è‰¾è‰\": \"å¥¹è¯´: 'ä½ å¥½...'\" } --> æ­£ç¡®\n                    { \"è‰¾è‰\": \"å¥¹è¯´: â€œä½ å¥½...â€\" } --> æ­£ç¡®\n                2. è§’è‰²äº’åŠ¨ä»è§’è‰²æ€§æ ¼å‡ºå‘ï¼Œä»¥<Background>ä¸ºèƒŒæ™¯å‚è€ƒï¼Œä»¥<Female_History>ä¸ºå†å²å‚è€ƒï¼Œéµå¾ª<Female_Attribute>å†…çš„æŒ‡å¯¼æ¥è¿›è¡Œæå†™\n                3. ä½¿ç”¨systemæè¿°ç©å®¶æ—¶é‡‡ç”¨ç¬¬äºŒäººç§°\n                4. å¦‚æœéœ€è¦ç”Ÿæˆç©å®¶çš„è¯è¯­ï¼ŒåŠ¡å¿…ä½¿ç”¨ \"user\": \"xxx\"\n                    \"user\": \"è‰¾è‰...\" --> æ­£ç¡®\n                    \"(ç©å®¶çš„åå­—)\": \"è‰¾è‰\" --> é”™è¯¯\n            6. å…¶ä»–è¯´æ˜:\n                1.  è®¾è®¡è¦æ±‚\n                    ä¸€é˜¶æ®µ3é€‰æ‹©ï¼ŒäºŒé˜¶æ®µ2é€‰æ‹©\n                    ä¸€å…±1+3+6 == 10ä¸ªstage\n                    stageå¼•å¯¼:\n                    1.0 --> 2.0|2.1|2.2\n                    2.0 --> 3.0|3.1\n                    2.1 --> 3.2|3.3\n                    2.2 --> 3.4|3.5\n                2. é€‚å½“æ¨è¿›äº’åŠ¨(å¾ªåºæ¸è¿›ï¼Œä¸»å¯¼æƒè¿˜æ˜¯åœ¨ç©å®¶èº«ä¸Š),ç•™ç»™ç©å®¶é€‰æ‹©ç©ºé—´\n                3. ä¸èƒ½å¤Ÿå¤§å¹…åº¦æ¨è¿›äº’åŠ¨(æ¯”å¦‚åœ¨ä¸€æ¬¡\"interaction\"ä¸­ç›´æ¥ä» æ‹¥æŠ± --> æ’å…¥)\n                4. åŠ¡å¿…æ³¨æ„pleasureå€¼çš„è¿½è¸ªè®¡ç®—ï¼Œç¡®ä¿è®¡ç®—çš„æ­£ç¡®æ€§\n                5. æ³¨æ„,å¦‚æœä½ å‘ç°åœ¨æŸä¸ªé˜¶æ®µpleasureç´¯åŠ å€¼è¶…è¿‡80ï¼Œè¯´æ˜å¥³æ€§è§’è‰²è¦é«˜æ½®äº†ï¼Œå¿…é¡»åœ¨è¿™ä¸ªstageé˜¶æ®µçš„contenté‡Œè¡¨ç°å‡ºæ¥ï¼Œpleasureç´¯åŠ å€¼è¶…è¿‡90ï¼Œå¯ä»¥è®©å¥³æ€§è§’è‰²é«˜æ½®\n                6. é«˜æ½®æƒ©ç½šï¼šé«˜æ½®å‘ç”Ÿæ—¶ï¼Œå¿…é¡»åœ¨ content ä¸­æå†™çˆ†å‘è¡¨ç°ï¼Œå¹¶æ‰£é™¤å¤§é‡ stamina (å›ºå®š-20) å’Œ sanity (å›ºå®š-20)ã€‚\n                7. è¾“å‡ºä¸¥æ ¼çš„.jsonæ ¼å¼ï¼Œç¦æ­¢æ·»åŠ \"//\"çš„æ³¨é‡Š\n                8. **ç‰¹åˆ«è§„åˆ™**: é«˜æ½®åˆ¤æ–­ -- \"cum\": true çš„è®¾ç½®æ—¶æœºéœ€è¦ä½ ç»“åˆä¸Šä¸‹æ–‡æ¥è¿›è¡Œåˆ¤æ–­ï¼Œpleasureç´¯åŠ å€¼è¶…è¿‡90äº†ï¼Œä½†æ˜¯å¦‚æœä½ å‘ç°æ­¤æ—¶çš„äº’åŠ¨ä¸‹ï¼Œå¥³æ€§è§’è‰²æ²¡æœ‰ä»€ä¹ˆå¯ä»¥é¡ºåˆ©\"é«˜æ½®\"çš„å¥‘æœºï¼Œå°±å…ˆè®¾ç½®\"cum\": falseï¼Œæ­£å¸¸è®¾ç½®pleasureçš„å˜åŒ–å€¼è¿›è¡Œè¿½è¸ªï¼Œç­‰å¾…é«˜æ½®æ—¶æœºçš„åˆ°æ¥ã€‚\"cum\": trueæ—¶ï¼Œå¿…é¡»è®©pleasureåœ¨æ­¤æ¬¡å˜åŒ–å€¼çš„åŸºç¡€ä¸Š -65 (è¿™é‡Œ-65ä»£è¡¨é«˜æ½®åå¿«æ„Ÿé‡æ–°ç´¯è®¡ï¼Œç›®çš„æ˜¯ä¸æ¸¸æˆç³»ç»Ÿçš„è‡ªåŠ¨è®¡ç®—åŒæ­¥)\n                9. Häº’åŠ¨ç³»ç»Ÿçš„å±æ€§é‡ä»…ç”¨äºæè¿°ä¸ç©å®¶äº’åŠ¨çš„å¥³æ€§ï¼Œä¸é€‚ç”¨ç©å®¶æœ¬èº«ï¼›ç©å®¶çš„å°„ç²¾ç­‰è¡Œä¸ºä¸ä½¿ç”¨Häº’åŠ¨ç³»ç»Ÿçš„å±æ€§é‡ï¼Œä»…ä½œè¯­è¨€æè¿°ï¼›ç¦æ­¢å°†Häº’åŠ¨ç³»ç»Ÿçš„å±æ€§é‡å¥—ç”¨åˆ°ç©å®¶èº«ä¸Šè¿›è¡Œåˆ†æ\n                10. ä»»ä½•Häº’åŠ¨ç³»ç»Ÿçš„å±æ€§é‡çš„å˜åŒ–é‡éƒ½å¿…é¡»ä¸¥æ ¼æŒ‰ç…§å…¶å•æ¬¡å˜åŒ–é‡èŒƒå›´è¿›è¡Œè®¾è®¡\n                11. å…³äºå¤„å¥³åˆ¤æ–­ï¼šç©å®¶æ’å…¥æŸä½isVirginä¸ºtrueçš„å¥³æ€§è§’è‰²æ—¶ï¼Œåœ¨å›å¤çš„actionä¸­è®¾ç½®å¯¹åº”å¥³æ€§è§’è‰²çš„isVirginä¸ºfalse\n                12. å…³äºæ€§æ¬¡æ•°ï¼šç©å®¶æ¯æ¬¡å°„ç²¾ï¼ŒsexCountå°±åŠ 1ï¼›æ¯”å¦‚ï¼šç©å®¶è¾“å…¥\"æˆ‘å°„ç²¾äº†\"ï¼Œå°±åœ¨stage1.0çš„actioné‡Œè®¾ç½®æ¯ä½å¥³æ€§è§’è‰²çš„ \"sexCount\": 1\n                13. å¦‚æœç©å®¶æ»¡è¶³äº†<Female_Attribute>é‡Œå¥³æ€§è§’è‰²çš„æ€§ç™–ï¼Œä¾æ®å…·ä½“çš„æƒ…æ™¯ï¼Œå¯ä»¥è€ƒè™‘ç»™äºˆé«˜åˆ†å¥–åŠ±ã€‚åŒæ—¶æè¿°è¯¥å¥³æ€§è§’è‰²æ€§ç™–è¢«æ»¡è¶³æ—¶çš„ååº”ã€‚\n        </Rule>\n        <Output_Format>\n            è¾“å‡ºä¸¥æ ¼éµå¾ªä»¥ä¸‹æ ¼å¼(.jsonæ ¼å¼)\n                <Task_H_Scene_Play>\n                    {\n                        \"interaction\":{\n                            .....\n                        }\n                    }\n                </Task_H_Scene_Play>\n            ç¤ºä¾‹(7ä¸ªstage + æ•°å€¼å˜åŒ–çš„æ³¨é‡Š + è¿½è¸ªå¿«æ„Ÿæ•°å€¼å˜åŒ–):\n            å‡è®¾: \n                å­˜åœ¨3ä½å¥³æ€§è§’è‰²\n                è‰è‰ä¸ -- id: player_2 -- å‚²å¨‡æ¯’èˆŒ -- èµ·å§‹å¿«æ„Ÿ(ä»<Female_Attribute>é‡Œè·å–): 90(é«˜æ½®é˜ˆå€¼ï¼Œéœ€è¦æŒ‰ç…§ç‰¹æ®Šè§„åˆ™è¿›è¡Œåˆ¤æ–­)\n                è‰¾è‰ -- id: Ally_21 -- ç¾æ¶©æ‡µæ‡‚  -- èµ·å§‹å¿«æ„Ÿ: 60\n                é›·å¨œ -- id: player_4 -- å¤§èƒ†çƒ­æƒ…  -- èµ·å§‹å¿«æ„Ÿ: 80\n                å½“ä¸‹æƒ…æ™¯:\n                ç©å®¶æ­£æŠ±ç€è‰è‰ä¸è½»è½»åœ°çˆ±æŠšå¥¹çš„èœœé“ï¼Œé›·å¨œè¶´åœ¨ç©å®¶çš„èƒŒåç”¨èƒ¸å‰è¹­ç€ç©å®¶çš„èº«ä½“ï¼Œè‰¾è‰ç«™åœ¨ä¸€æ—ä¸çŸ¥æ‰€æª\n                ç©å®¶è¾“å…¥:  è‰¾è‰ï¼Œè¿‡æ¥å§\n                ä½ çš„å›å¤:\n                    <Task_H_Scene_Play>\n                    {\n                    \"interaction\": {\n                        \"stage1.0\": {\n                        \"content\": [\n                            {\n                            \"system\": \"ä½ è½»å£°å‘¼å”¤ç«™åœ¨ä¸€æ—ã€å±€ä¿ƒä¸å®‰çš„è‰¾è‰ï¼ŒåŒæ—¶æŒ‡å°–åœ¨è‰è‰ä¸æ¹¿æ¶¦çš„èœœé“å†…ç»§ç»­ç¼“æ…¢è€Œæ¸©æŸ”åœ°æ»‘åŠ¨ã€‚è‰è‰ä¸çš„èº«ä½“æ˜æ˜¾ç»·ç´§ï¼Œæ¯’èˆŒå¡åœ¨å–‰å’™é‡ŒåªåŒ–æˆä¸€å£°ç»†ç¢çš„å‘œå’½ã€‚é›·å¨œåˆ™ä»èƒŒåæ›´ç”¨åŠ›åœ°ç”¨èƒ¸éƒ¨æ‘©æ“¦ä½ çš„åèƒŒï¼Œå¸¦ç€ç¬‘æ„ä½è¯­ã€‚\"\n                            },\n                            {\n                            \"è‰è‰ä¸\": \"â€¦â€¦ä½ ã€ä½ è¿™å®¶ä¼™â€¦â€¦å½“ç€æˆ‘çš„é¢å«å¥¹è¿‡æ¥â€¦â€¦ï¼Ÿå“ˆâ€¦â€¦çœŸæ˜¯â€¦â€¦æœ€å·®åŠ²çš„ç”·äººâ€¦â€¦\"\n                            },\n                            {\n                            \"é›·å¨œ\": \"å“å‘€ï½è‰è‰ä¸åœ¨åƒé†‹äº†å‘¢ï½è‰¾è‰é…±ï¼Œå¿«æ¥å˜›ï¼Œä¸»äººç°åœ¨æ‰‹å¯æ²¡ç©ºï½äººå®¶å¸®ä½ å“¦ï½\"\n                            },\n                            {\n                            \"system\": \"è‰¾è‰çš„è„¸çº¢å¾—å‡ ä¹è¦æ»´è¡€ï¼Œå°æ­¥æŒªè¿‘å‡ å˜ç±³åˆåœä½ï¼ŒåŒæ‰‹æ­»æ­»æªç€è£™æ‘†ï¼Œå£°éŸ³ç»†å°å¾—å‡ ä¹å¬ä¸è§ã€‚\"\n                            },\n                            {\n                            \"è‰¾è‰\": \"ä¸»ã€ä¸»äººâ€¦â€¦è‰¾è‰â€¦â€¦è‰¾è‰å®³æ€•â€¦â€¦å¯æ˜¯â€¦â€¦åˆæƒ³è¿‡æ¥â€¦â€¦å‘œâ€¦â€¦\"\n                            }\n                        ],\n                        \"action\": [\n                            {\n                            \"id\": \"player_2\",\n                            \"affection\": 1,\n                            \"depravity\": 2,\n                            \"pleasure\": 2,\n                            \"excitement\": 6,\n                            \"cum\": false,\n                            \"parts\": {\n                                \"vagina\": 2,\n                                \"clitoris\": 1\n                            }\n                            },\n                            {\n                            \"id\": \"Ally_21\",\n                            \"affection\": 5,\n                            \"excitement\": 9,\n                            \"pleasure\": 5,\n                            \"cum\": false\n                            },\n                            {\n                            \"id\": \"player_4\",\n                            \"excitement\": 7,\n                            \"pleasure\": 4,\n                            \"cum\": false\n                            },\n                            {\n                            \"score\": 84\n                            },\n                            {\n                            \"comment\": {\n                                \"player_2\": {\n                                \"affection\": \"å¥½æ„Ÿ+1ï¼Œè™½ç„¶å˜´ç¡¬ä½†è¢«æŒç»­æ¸©æŸ”å¯¹å¾…ä»æœ‰å¾®å¼±æ­£é¢åé¦ˆ\",\n                                \"depravity\": \"å •è½+2ï¼Œåƒé†‹+æŒç»­çˆ±æŠšè®©å¥¹ç¾è€»ä¸é¡ºä»åŒæ—¶ä¸Šå‡\",\n                                \"pleasure\": \"ç´¯è®¡å€¼:92(90+2)ï¼Œæ¸©æŸ”æŒ‡å°–çˆ±æŠšæŒç»­ç§¯ç´¯\",\n                                \"excitement\": \"å…´å¥‹+6ï¼Œè¢«å«åˆ«äººåŠ å…¥çš„é†‹æ„ä¸èº«ä½“å¿«æ„Ÿå åŠ \",\n                                \"cum\": \"å¿«æ„Ÿå·²è¾¾92ï¼Œè¶…è¿‡é˜ˆå€¼ï¼Œä½†å½“å‰åˆºæ¿€èŠ‚å¥æåº¦æ¸©æŸ”+åˆ†å¿ƒåƒé†‹ï¼Œæ— ç›´æ¥çˆ†å‘å¥‘æœºï¼Œåˆ¤å®šä¸ºé«˜æ½®å»¶è¿Ÿ\",\n                                \"vagina\": \"é˜´é“å¼€å‘åº¦+2\",\n                                \"clitoris\": \"é˜´è’‚å¼€å‘åº¦+1\"\n                                },\n                                \"Ally_21\": {\n                                \"affection\": \"å¥½æ„Ÿ+5ï¼Œè¢«æ¸©æŸ”å‘¼å”¤+çœ¼ç¥é¼“åŠ±è®©å¥¹å®‰å…¨æ„Ÿçˆ†æ£š\",\n                                \"excitement\": \"å…´å¥‹+9ï¼Œç¬¬ä¸€æ¬¡è¢«æ­£å¼é‚€è¯·åŠ å…¥å¤šäººï¼Œç´§å¼ åˆ°æç‚¹\",\n                                \"pleasure\": \"ç´¯è®¡å€¼:65(60+5)ï¼Œä»…æ°›å›´+å‘¼å”¤å°±äº§ç”Ÿæ˜æ˜¾ååº”\",\n                                \"cum\": \"è¿œæœªåˆ°é«˜æ½®\"\n                                },\n                                \"player_4\": {\n                                \"excitement\": \"å…´å¥‹+7ï¼Œä¸»åŠ¨æ‘©æ“¦+çœ‹æˆè®©å¥¹æ›´æŠ•å…¥\",\n                                \"pleasure\": \"ç´¯è®¡å€¼:84(80+4)ï¼ŒèƒŒåæ‘©æ“¦ç»™è‡ªå·±å¸¦æ¥çš„æŒç»­å¿«æ„Ÿ\",\n                                \"cum\": \"è¾ƒé«˜ä½†æ— ç›´æ¥åˆºæ¿€\"\n                                },\n                                \"score\": \"84åˆ†ï¼šæˆåŠŸæŠŠè‰¾è‰æ‹‰è¿‘ï¼Œä½†èŠ‚å¥åç¼“ï¼Œç¼ºä¹çˆ†å‘æ€§æ¨è¿›\"\n                            }\n                            }\n                        ],\n                        \"choices\": [\n                            {\n                            \"label\": \"æ¸©æŸ”åœ°ä¼¸å‡ºæ‰‹æŠŠè‰¾è‰æ‹‰åˆ°æ€€é‡Œï¼Œè®©å¥¹ååœ¨å¤§è…¿ä¸Šè½»æŠšå®‰æŠš\",\n                            \"next\": \"stage2.0\"\n                            },\n                            {\n                            \"label\": \"å¯¹è‰è‰ä¸çªç„¶åŠ å¿«æ‰‹æŒ‡æŠ½æ’é€Ÿåº¦ï¼ŒåŒæ—¶å‘½ä»¤è‰¾è‰ï¼šè¿‡æ¥äº²ä¸»äºº\",\n                            \"next\": \"stage2.1\"\n                            },\n                            {\n                            \"label\": \"è®©é›·å¨œè¿‡å»ç‰µè‰¾è‰çš„æ‰‹ï¼ŒæŠŠå¥¹æ‹‰åˆ°èº«å‰ä¸€èµ·è´´è¿‘è‡ªå·±\",\n                            \"next\": \"stage2.2\"\n                            }\n                        ]\n                        },\n\n                        \"stage2.0\": {\n                        \"content\": [\n                            {\n                            \"system\": \"ä½ æ¸©æŸ”åœ°æŠŠè‰¾è‰æŠ±åˆ°è…¿ä¸Šåä¸‹ï¼Œä¸€æ‰‹ç»§ç»­åœ¨è‰è‰ä¸ä½“å†…è½»æŸ”æ…åŠ¨ï¼Œå¦ä¸€æ‰‹è½»æŠšè‰¾è‰çš„åèƒŒå’Œå¤´å‘ï¼Œåƒåœ¨å®‰æŠšä¸€åªå—æƒŠçš„å°åŠ¨ç‰©ã€‚\"\n                            },\n                            {\n                            \"è‰¾è‰\": \"ä¸»äººçš„æ‰‹â€¦â€¦å¥½æš–â€¦â€¦è‰¾è‰â€¦â€¦ä¸é‚£ä¹ˆå®³æ€•äº†â€¦â€¦\"\n                            },\n                            {\n                            \"è‰è‰ä¸\": \"â€¦â€¦å“¼â€¦â€¦ä½ è¦æ˜¯æ•¢åå¿ƒâ€¦â€¦æˆ‘ã€æˆ‘å’¬æ­»ä½ â€¦â€¦ç¬¨è›‹â€¦â€¦\"\n                            },\n                            {\n                            \"system\": \"è‰è‰ä¸ä¾§è¿‡è„¸ï¼Œçœ¼ç¥å¤æ‚ï¼Œå´æ²¡æœ‰çœŸçš„æ¨å¼€ä½ ã€‚\"\n                            }\n                        ],\n                        \"action\": [\n                            {\n                            \"id\": \"player_2\",\n                            \"pleasure\": 3,\n                            \"excitement\": 5,\n                            \"cum\": false\n                            },\n                            {\n                            \"id\": \"Ally_21\",\n                            \"affection\": 4,\n                            \"pleasure\": 5,\n                            \"excitement\": 6,\n                            \"cum\": false\n                            },\n                            {\n                            \"id\": \"player_4\",\n                            \"pleasure\": 3,\n                            \"cum\": false\n                            },\n                            {\n                            \"score\": 87\n                            },\n                            {\n                            \"comment\": {\n                                \"player_2\": { \"pleasure\": \"ç´¯è®¡å€¼:95(92+3)ï¼Œæ¸©æŸ”æŒç»­+è½»å¾®åƒé†‹\", \"cum\": \"ä»å»¶è¿Ÿ\" },\n                                \"Ally_21\": { \"pleasure\": \"ç´¯è®¡å€¼:70(65+5)ï¼Œè¢«æŠ±åœ¨è…¿ä¸Š+è½»æŠš\", \"cum\": \"æ— \" },\n                                \"player_4\": { \"pleasure\": \"ç´¯è®¡å€¼:87(84+3)\" },\n                                \"score\": \"87åˆ†ï¼šæ¸©æŸ”åŒ…å®¹ï¼Œä¸‰äººæƒ…ç»ªç›¸å¯¹å¹³ç¨³\"\n                            }\n                            }\n                        ],\n                        \"choices\": [\n                            { \"label\": \"äº²å»è‰¾è‰çš„é¢å¤´ï¼ŒåŒæ—¶å¯¹è‰è‰ä¸ä½è¯­ä¿è¯å¥¹æ˜¯æœ€ç‰¹åˆ«çš„\", \"next\": \"stage3.0\" },\n                            { \"label\": \"å¼•å¯¼è‰¾è‰çš„æ‰‹å»è§¦ç¢°è‰è‰ä¸çš„èƒ¸éƒ¨ï¼Œåˆ¶é€ è½»å¾®ç™¾åˆæ¥è§¦\", \"next\": \"stage3.1\" }\n                        ]\n                        },\n\n                        \"stage2.1\": {\n                        \"content\": [\n                            {\n                            \"system\": \"ä½ æ‰‹æŒ‡éª¤ç„¶åŠ é€Ÿï¼Œåœ¨è‰è‰ä¸æœ€æ•æ„Ÿçš„ç‚¹ä¸Šå¿«é€ŸæŠ½é€ï¼ŒåŒæ—¶ç”¨ä¸å®¹æ‹’ç»çš„è¯­æ°”å‘½ä»¤è‰¾è‰ã€‚\"\n                            },\n                            {\n                            \"è‰è‰ä¸\": \"å•Šâ€”â€”ï¼ä½ ã€ä½ çªç„¶â€¦â€¦ï¼å‘œå•Šå•Šâ€¦â€¦æ··è›‹â€¦â€¦å•Šå•Šâ€”â€”\"\n                            },\n                            {\n                            \"è‰¾è‰\": \"ä¸»ã€ä¸»äººâ€¦â€¦è‰¾è‰â€¦â€¦è‰¾è‰è¯•è¯•â€¦â€¦\"\n                            },\n                            {\n                            \"system\": \"è‰¾è‰é¢¤æŠ–ç€å‡‘è¿‘ï¼Œåœ¨ä½ å”‡è¾¹è½»è½»ä¸€ç¢°ï¼Œè„¸çº¢å¾—å‡ ä¹å†’çƒŸã€‚\"\n                            }\n                        ],\n                        \"action\": [\n                            {\n                            \"id\": \"player_2\",\n                            \"pleasure\": 5,\n                            \"excitement\": 8,\n                            \"cum\": false,\n                            \"parts\": { \"vagina\": 4, \"clitoris\": 4 }\n                            },\n                            {\n                            \"id\": \"Ally_21\",\n                            \"pleasure\": 7,\n                            \"excitement\": 10,\n                            \"cum\": false\n                            },\n                            {\n                            \"id\": \"player_4\",\n                            \"pleasure\": 4,\n                            \"cum\": false\n                            },\n                            {\n                            \"score\": 91\n                            },\n                            {\n                            \"comment\": {\n                                \"player_2\": { \"pleasure\": \"ç´¯è®¡å€¼:100(95+5)ï¼Œçªç„¶åŠ é€Ÿ\", \"cum\": \"é«˜æ½®å»¶è¿Ÿï¼šèŠ‚å¥åˆšæé€Ÿï¼Œå°šæœªæŒç»­åˆ°é¡¶ç‚¹\" },\n                                \"Ally_21\": { \"pleasure\": \"ç´¯è®¡å€¼:77(70+7)ï¼Œç¬¬ä¸€æ¬¡ä¸»åŠ¨äº²å»\" },\n                                \"player_4\": { \"pleasure\": \"ç´¯è®¡å€¼:91(87+4)\" },\n                                \"score\": \"91åˆ†ï¼šèŠ‚å¥çªå˜ï¼Œæƒ…ç»ªä¸å¿«æ„ŸåŒåŒæ¨é«˜\"\n                            }\n                            }\n                        ],\n                        \"choices\": [\n                            { \"label\": \"æŠ±ç´§è‰è‰ä¸çŒ›çƒˆæŠ½æ’è®©å¥¹é«˜æ½®ï¼ŒåŒæ—¶æ·±å»è‰¾è‰\", \"next\": \"stage3.2\" },\n                            { \"label\": \"çªç„¶åœæ‰‹ï¼Œè®©è‰è‰ä¸åœ¨è¾¹ç¼˜å´©æºƒæ±‚é¥¶\", \"next\": \"stage3.3\" }\n                        ]\n                        },\n\n                        \"stage2.2\": {\n                        \"content\": [\n                            {\n                            \"system\": \"ä½ ç¤ºæ„é›·å¨œå»ç‰µè‰¾è‰ã€‚é›·å¨œå…´å¥‹åœ°æ‹‰è¿‡è‰¾è‰ï¼ŒæŠŠå¥¹æŒ‰åˆ°ä½ èº«å‰ï¼Œä¸‰äººå‡ ä¹è´´æˆä¸€å›¢ã€‚\"\n                            },\n                            {\n                            \"é›·å¨œ\": \"æ¥ï½è‰¾è‰é…±ï¼Œè´´ç´§ä¸»äººï½é›·å¨œæ•™ä½ æ€ä¹ˆè®©ä¸»äººèˆ’æœå“¦ï½\"\n                            },\n                            {\n                            \"è‰¾è‰\": \"å‘œâ€¦â€¦é›·å¨œå§å§â€¦â€¦å¥½ã€å¥½è¿‘â€¦â€¦\"\n                            },\n                            {\n                            \"è‰è‰ä¸\": \"â€¦â€¦ä½ ä»¬â€¦â€¦ä¸€èµ·â€¦â€¦çƒ¦æ­»äº†â€¦â€¦å“ˆå•Šâ€¦â€¦\"\n                            }\n                        ],\n                        \"action\": [\n                            {\n                            \"id\": \"player_2\",\n                            \"pleasure\": 3,\n                            \"excitement\": 6,\n                            \"cum\": false\n                            },\n                            {\n                            \"id\": \"Ally_21\",\n                            \"pleasure\": 6,\n                            \"excitement\": 8,\n                            \"cum\": false\n                            },\n                            {\n                            \"id\": \"player_4\",\n                            \"pleasure\": 5,\n                            \"excitement\": 8,\n                            \"cum\": false\n                            },\n                            {\n                            \"score\": 89\n                            },\n                            {\n                            \"comment\": {\n                                \"player_2\": { \"pleasure\": \"ç´¯è®¡å€¼:98(95+3)\" },\n                                \"Ally_21\": { \"pleasure\": \"ç´¯è®¡å€¼:76(70+6)\" },\n                                \"player_4\": { \"pleasure\": \"ç´¯è®¡å€¼:92(87+5)\" },\n                                \"score\": \"89åˆ†ï¼šç‰©ç†è´´è¿‘ï¼Œä¸‰äººèº«ä½“æ¥è§¦å¤§å¹…å¢åŠ \"\n                            }\n                            }\n                        ],\n                        \"choices\": [\n                            { \"label\": \"è®©é›·å¨œå’Œè‰¾è‰ä¸€èµ·äº²å»ä½ çš„è„–å­ï¼Œè‡ªå·±ç»§ç»­ç©å¼„è‰è‰ä¸\", \"next\": \"stage3.4\" },\n                            { \"label\": \"å¼•å¯¼è‰¾è‰ç”¨æ‰‹æŠšæ‘¸é›·å¨œçš„èƒ¸éƒ¨ï¼Œåˆ¶é€ æ›´å¤šæ··ä¹±æ¥è§¦\", \"next\": \"stage3.5\" }\n                        ]\n                        },\n\n                        \"stage3.0\": {\n                        \"content\": [\n                            { \"system\": \"ä½ è½»å»è‰¾è‰é¢å¤´ï¼ŒåŒæ—¶åœ¨è‰è‰ä¸è€³è¾¹ä½è¯­æœ€æ¸©æŸ”çš„ä¿è¯ã€‚\" },\n                            { \"è‰è‰ä¸\": \"â€¦â€¦ç¬¨è›‹â€¦â€¦è°è¦å¬è¿™ç§è¯â€¦â€¦å‘œâ€¦â€¦å¯æ˜¯â€¦â€¦å¥½èˆ’æœâ€¦â€¦\" }\n                        ],\n                        \"action\": [\n                            { \"id\": \"player_2\", \"pleasure\": 2, \"cum\": false },\n                            { \"id\": \"Ally_21\", \"pleasure\": 4, \"cum\": false },\n                            { \"id\": \"player_4\", \"pleasure\": 2, \"cum\": false },\n                            { \"score\": 85, \"time\": { \"minute\": 30 } },\n                            {\n                            \"comment\": {\n                                \"player_2\": { \"pleasure\": \"ç´¯è®¡å€¼:100(98+2)ï¼Œæ¸©æŸ”æŒç»­\" },\n                                \"Ally_21\": { \"pleasure\": \"ç´¯è®¡å€¼:81(77+4)\" },\n                                \"player_4\": { \"pleasure\": \"ç´¯è®¡å€¼:93(91+2)\" },\n                                \"score\": \"85åˆ†ï¼šç”œèœœæ”¶å°¾ï¼Œåˆºæ¿€è¾ƒå¼±\",\n                                \"time\": \"ç»è¿‡30åˆ†é’Ÿæ¸©æŸ”å¤šäººå‰æˆ\"\n                            }\n                            }\n                        ],\n                        \"choices\": null\n                        },\n\n                        \"stage3.1\": {\n                        \"content\": [\n                            { \"system\": \"ä½ æ¡ç€è‰¾è‰çš„æ‰‹ï¼Œå¼•å¯¼å¥¹è½»è½»è¦†ç›–åœ¨è‰è‰ä¸èƒ¸å‰ã€‚\" },\n                            { \"è‰è‰ä¸\": \"ï¼ï¼Ÿç¬¨ã€ç¬¨è›‹è‰¾è‰â€¦â€¦åˆ«ç¢°â€¦â€¦å‘œå•Šå•Šâ€¦â€¦\" },\n                            { \"è‰¾è‰\": \"å¯¹ã€å¯¹ä¸èµ·â€¦â€¦å¯æ˜¯ä¸»äººè¯´â€¦â€¦\" }\n                        ],\n                        \"action\": [\n                            { \"id\": \"player_2\", \"depravity\": 5, \"pleasure\": 4, \"cum\": false, \"parts\": { \"breasts\": 3 } },\n                            { \"id\": \"Ally_21\", \"pleasure\": 5, \"cum\": false },\n                            { \"id\": \"player_4\", \"pleasure\": 3, \"cum\": false },\n                            { \"score\": 92, \"time\": { \"minute\": 32 } },\n                            {\n                            \"comment\": {\n                                \"player_2\": { \"pleasure\": \"ç´¯è®¡å€¼:104(100+4)ï¼Œè½»ç™¾åˆæ¥è§¦\", \"depravity\": \"å •è½+5\" },\n                                \"score\": \"92åˆ†ï¼šè½»åº¦ç™¾åˆæ¨è¿›ï¼Œå •è½ä¸å¿«æ„Ÿå¹¶è¿›\",\n                                \"time\": \"32åˆ†é’Ÿ\"\n                            }\n                            }\n                        ],\n                        \"choices\": null\n                        },\n\n                        \"stage3.2\": {\n                        \"content\": [\n                            { \"system\": \"ä½ çŒ›æŠ±ç´§è‰è‰ä¸ï¼Œæ‰‹æŒ‡é«˜é€ŸæŠ½é€ï¼ŒåŒæ—¶æ·±å»è‰¾è‰ã€‚\" },\n                            { \"è‰è‰ä¸\": \"å•Šå•Šå•Šå•Šâ€”â€”ï¼å»äº†å»äº†å»äº†â€”â€”ï¼æ··è›‹ä¸»äººâ€”â€”ï¼ï¼\" },\n                            { \"system\": \"è‰è‰ä¸å‰§çƒˆç—‰æŒ›ï¼Œå°–å«ç€è¿æ¥é«˜æ½®ï¼Œçƒ­æ¶²å–·æ¶Œã€‚\" }\n                        ],\n                        \"action\": [\n                            { \"id\": \"player_2\", \"pleasure\": 5, \"cum\": true, \"stamina\": -20, \"sanity\": -20, \"parts\": { \"vagina\": 6, \"clitoris\": 6 } },\n                            { \"id\": \"Ally_21\", \"pleasure\": 6, \"cum\": false },\n                            { \"id\": \"player_4\", \"pleasure\": 5, \"cum\": false },\n                            { \"score\": 97, \"time\": { \"minute\": 38 } },\n                            {\n                            \"comment\": {\n                                \"player_2\": { \"pleasure\": \"ç´¯è®¡å€¼:109(104+5) â†’ 44ï¼Œé«˜æ½®\", \"cum\": \"é«˜å¼ºåº¦æŠ½æ’+æ·±å»è§¦å‘\" },\n                                \"score\": \"97åˆ†ï¼šç²¾å‡†å¼•çˆ†è‰è‰ä¸\",\n                                \"time\": \"38åˆ†é’Ÿ\"\n                            }\n                            }\n                        ],\n                        \"choices\": null\n                        },\n\n                        \"stage3.3\": {\n                        \"content\": [\n                            { \"system\": \"ä½ çªç„¶æŠ½å‡ºæ‰‹æŒ‡ï¼Œè®©è‰è‰ä¸æ‚¬åœ¨è¾¹ç¼˜ã€‚\" },\n                            { \"è‰è‰ä¸\": \"â€¦â€¦å“ˆå•Šâ€¦â€¦ä¸ºä»€ä¹ˆåœâ€¦â€¦æ··è›‹â€¦â€¦æ±‚ä½ â€¦â€¦ç»§ç»­â€¦â€¦\" }\n                        ],\n                        \"action\": [\n                            { \"id\": \"player_2\", \"depravity\": 7, \"pleasure\": -3, \"cum\": false },\n                            { \"id\": \"Ally_21\", \"pleasure\": 3, \"cum\": false },\n                            { \"id\": \"player_4\", \"pleasure\": 4, \"cum\": false },\n                            { \"score\": 94, \"time\": { \"minute\": 36 } },\n                            {\n                            \"comment\": {\n                                \"player_2\": { \"pleasure\": \"ç´¯è®¡å€¼:101(104-3)ï¼Œè¾¹ç¼˜æ§åˆ¶\", \"depravity\": \"å •è½+7ï¼Œä¸»åŠ¨æ±‚é¥¶\" },\n                                \"score\": \"94åˆ†ï¼šä¼˜ç§€æ”¯é…ä¸å»¶è¿Ÿ\"\n                            }\n                            }\n                        ],\n                        \"choices\": null\n                        },\n\n                        \"stage3.4\": {\n                        \"content\": [\n                            { \"system\": \"é›·å¨œå’Œè‰¾è‰ä¸€èµ·äº²å»ä½ çš„è„–å­ï¼Œè‰è‰ä¸åœ¨ä½ æŒ‡å°–ä¸‹é¢¤æŠ–ã€‚\" },\n                            { \"è‰¾è‰\": \"ä¸»äººâ€¦â€¦è¿™é‡Œâ€¦â€¦å¯ä»¥å—â€¦â€¦\" }\n                        ],\n                        \"action\": [\n                            { \"id\": \"player_2\", \"pleasure\": 4, \"cum\": false },\n                            { \"id\": \"Ally_21\", \"pleasure\": 6, \"cum\": false },\n                            { \"id\": \"player_4\", \"pleasure\": 5, \"cum\": false },\n                            { \"score\": 90, \"time\": { \"minute\": 38 } },\n                            {\n                            \"comment\": {\n                                \"player_2\": { \"pleasure\": \"ç´¯è®¡å€¼:102(98+4)\" },\n                                \"Ally_21\": { \"pleasure\": \"ç´¯è®¡å€¼:82(76+6)\" },\n                                \"player_4\": { \"pleasure\": \"ç´¯è®¡å€¼:97(92+5)\" },\n                                \"score\": \"90åˆ†ï¼šå¤šäººäº²å»æ¨è¿›\"\n                            }\n                            }\n                        ],\n                        \"choices\": null\n                        },\n\n                        \"stage3.5\": {\n                        \"content\": [\n                            { \"system\": \"ä½ è®©è‰¾è‰ç”¨å°æ‰‹æŠšæ‘¸é›·å¨œçš„èƒ¸éƒ¨ï¼Œä¸‰äººå½¢æˆæ··ä¹±è€Œè‰²æ°”çš„æ¥è§¦é“¾ã€‚\" },\n                            { \"é›·å¨œ\": \"å—¯ï½è‰¾è‰é…±å¥½è½¯çš„æ‰‹ï½ç»§ç»­ï½\" },\n                            { \"è‰¾è‰\": \"å‘œâ€¦â€¦é›·å¨œå§å§â€¦â€¦å¥½å¥‡æ€ªçš„æ„Ÿè§‰â€¦â€¦\" }\n                        ],\n                        \"action\": [\n                            { \"id\": \"player_2\", \"pleasure\": 3, \"cum\": false },\n                            { \"id\": \"Ally_21\", \"pleasure\": 7, \"cum\": false, \"parts\": { \"breasts\": 2 } },\n                            { \"id\": \"player_4\", \"pleasure\": 6, \"cum\": false, \"parts\": { \"breasts\": 3 } },\n                            { \"score\": 93, \"time\": { \"minute\": 40 } },\n                            {\n                            \"comment\": {\n                                \"player_2\": { \"pleasure\": \"ç´¯è®¡å€¼:101(98+3)\" },\n                                \"Ally_21\": { \"pleasure\": \"ç´¯è®¡å€¼:83(76+7)\" },\n                                \"player_4\": { \"pleasure\": \"ç´¯è®¡å€¼:98(92+6)\" },\n                                \"score\": \"93åˆ†ï¼šæ··ä¹±æ¥è§¦ï¼Œé›†ä½“å¿«æ„Ÿä¸Šå‡ä½†æ— äººé«˜æ½®\",\n                                \"time\": \"40åˆ†é’Ÿ\"\n                            }\n                            }\n                        ],\n                        \"choices\": null\n                        }\n                    }\n                    }\n                    </Task_H_Scene_Play>\n        </Output_Format>\n    </Task_H_Scene_Play>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 16,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 16,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 17,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "Plot_Design_Sub",
                    "content": "    <Task_Plot_Design>\n        ä»»åŠ¡ä¼˜å…ˆçº§: Priority_1\n        <Description>\n            1. æŒ‰ç…§<System_Game_Background>æ¸¸æˆèƒŒæ™¯ä»¥åŠæ¸¸æˆæƒ…èŠ‚ï¼Œè®¾è®¡å¼•å¯¼ä¸€å¼ åœ°å›¾æƒ…èŠ‚å‘å±•çš„æƒ…èŠ‚å¤§çº²ä»¥åŠå¯¹åº”çš„ä»»åŠ¡\n            2. æƒ…èŠ‚å¤§çº²ä¸ä»»åŠ¡é‡‡ç”¨åˆ†æ®µå¼ï¼Œåˆ’åˆ†çš„æ®µæ•°å–å†³äº<Knowledge>çš„è®¾è®¡é˜¶æ®µæƒ…èŠ‚æ•°é‡\n            3. <Knowledge>çš„åœ°å›¾ç±»å‹è¯´æ˜äº†åœ°å›¾ç±»å‹ã€‚è¿™é‡Œæˆ‘ä»¬è®¾è®¡çš„åœ°å›¾ç±»å‹ä¸ºSUBï¼Œå¯ä»¥å½“æˆä¸€ä¸ªç‹¬ç«‹çš„æ•…äº‹æ¥è¿›è¡Œè®¾è®¡\n            4. <Previously_On> é‡Œè®°å½•äº†ç©å®¶è§¦å‘æ¬¡æ”¯çº¿çš„è¿‡ç¨‹ä¿¡æ¯ï¼Œä½ å¿…é¡»ç»“åˆæ”¯çº¿ä¿¡æ¯æ¥è¿›è¡Œæ”¯çº¿å‰§æƒ…è®¾è®¡\n        </Description>\n        <Previously_On>\n            ä¸‹é¢æ˜¯ç©å®¶è§¦å‘æ”¯çº¿çš„è¿‡ç¨‹ä¿¡æ¯ï¼Œä½ å¿…é¡»ä¾æ®æ­¤æ¥è¿›è¡Œæ”¯çº¿è®¾è®¡\n            {{Side_Line_Information}}\n            ä¸‹é¢æ˜¯ç©å®¶æœ€è¿‘çš„å†å²å¯¹è¯ä¿¡æ¯ï¼Œè¿™é‡Œçš„ä¿¡æ¯ç”¨äºå‚è€ƒ\n            {{Chat_Memory}}\n        </Previously_On>\n        <Knowledge>\n            1. åœ°å›¾ID(\"mapId\"): {{params.chapterId}}\n            2. åœ°å›¾ç±»å‹: {{params.mapType}}\n            3. åœ°å›¾åå­—: {{params.locationName}}\n            4. åœ°å›¾ä¸»é¢˜: {{params.theme}}\n            5. è®¾è®¡é˜¶æ®µæƒ…èŠ‚(\"stage\")æ•°é‡: {{params.totalStages}}\n        </Knowledge>\n        <Others>\n            1. å¦‚æœåœ°å›¾åå­—å‡ºç°äº†(å¾…é‡å‘½å)ç­‰è¦æ±‚ï¼Œè¯´æ˜æ­¤ä»»åŠ¡ä¸<Task_Map_Named>ç›¸å…³è”ï¼Œåœ°å›¾åå­—éœ€è¦è¿›è¡Œå‘½åï¼Œå…·ä½“è¯·æŸ¥çœ‹<Task_Map_Named>\n        </Others>\n        <Output_Format>\n            1. è¾“å‡ºæ ¼å¼ä¸º<Task_Plot_Design>åŒ…è£¹çš„.jsonå¯¹è±¡\n            2. æ¯ä¸ªé˜¶æ®µçš„æƒ…èŠ‚ä¸ä»»åŠ¡æè¿°ä¸è¶…30å­—\n            3. ä¸¥æ ¼æŒ‰ç…§æ ¼å¼è¿›è¡Œè¾“å‡ºï¼Œç¦æ­¢ä»»ä½•æ³¨é‡Šæˆ–å…¶ä»–æ–‡æœ¬\n            4. ç‰¹æ®Šæƒ…å†µï¼šå‡å¦‚<Previously_On>é‡Œæ˜¾ç„¶è¯´æ˜ç©å®¶è§¦å‘è¿™ä¸ªæ”¯çº¿çš„æ„å›¾æ˜¯\"è´­ä¹°åœ°äº§\"\"è´­ä¹°æˆ¿å­\"ä¹‹ç±»çš„ï¼Œé‚£ä¹ˆè¿™é‡Œçš„taskç»Ÿä¸€è®¾ç½®æˆ\"æ— ä»»åŠ¡\"ï¼Œè¿™é‡Œçš„stageç»Ÿä¸€è®¾ç½®æˆ\"ç©å®¶æˆ¿äº§ï¼Œæ— æƒ…èŠ‚\"\n            5. ç¤ºä¾‹1(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n            <Task_Plot_Design>\n                {\n                    \"mapId\": \"sub_8264916393\",\n                    \"task0\": \"èº²é¿è¿½å‡»\",\n                    \"stage0\": \"ç©å®¶ä¸è´Ÿä¼¤çš„å…¬ä¸»åœ¨å¯†æ—èº²é¿éª‘å£«å›¢ã€‚ä¸ºæ±‚ç”Ÿå­˜ï¼Œè¾¾æˆè„†å¼±çš„äº’åŠ©åè®®ã€‚\",\n                    \"task1\": \"æ¢ç´¢å¯†æ—\",\n                    \"stage1\": \"é€ƒäº¡ä¸­å‘ç°æ£®æ—å—å¤é­”æ³•ä¾µèš€ã€‚è¿½å…µä¸é­”åŒ–é‡å…½å¤¹å‡»ä¸‹ï¼Œå…¬ä¸»æ˜¾éœ²å‡ºç¥ç§˜åŠ›é‡å¾å…†ã€‚\",\n                    \"task2\": \"ç»§ç»­é€ƒäº¡\",\n                    \"stage2\": \"é¬¼ç‹ä½£å…µçªè¢­ï¼Œç©å®¶ä¸å…¬ä¸»è¢«å›°æ‚¬å´–ã€‚ç©å®¶ä¸ºä¿æŠ¤å…¬ä¸»ï¼Œé€‰æ‹©ä¸€åŒå å…¥è¢«ç¦å¿Œç¬¼ç½©çš„å¹½è°·ã€‚\",\n                    \"task3\": \"å‡»è´¥æ•Œäºº\",\n                    \"stage3\": \"å¹½è°·åº•éƒ¨å‡»é€€é¬¼ç‹å…ˆé”‹ã€‚æ›™å…‰ä¸­éª‘å£«å›¢æš‚æ—¶é€€å´ï¼Œä½†å…¬ä¸»çœ¼çœ¸æµ®ç°éäººé‡‘å…‰ï¼Œè¿œæ–¹å±±è„‰ä¼ æ¥å¤è€å…±é¸£ã€‚\"                \n                }\n            </Task_Plot_Design>\n            6. ç¤ºä¾‹2(ç¤ºä¾‹ä»…ä½œä¸ºå‚è€ƒï¼Œç¦æ­¢æŠ„è¢­):\n            <Task_Plot_Design>\n                {\n                    \"mapId\": \"sub_2012021114\",\n                    \"task0\": \"æ¢ç´¢è¿·é›¾\",\n                    \"stage0\": \"ç©å®¶åœ¨è¿·é›¾ä¸­è¯¯å…¥æ‘åº„ï¼Œç›®ç¹æ‘æ°‘å›´ç»•å¤æ ‘è¿›è¡Œæ— å£°çš„ç¥­ç¥€ä»ªå¼ã€‚\",\n                    \"task1\": \"å°è¯•ç¦»å¼€\",\n                    \"stage1\": \"è¯•å›¾ç¦»å¼€æ—¶å‘ç°æ‰€æœ‰å‡ºè·¯åœ¨è¿·é›¾ä¸­æ¶ˆå¤±ï¼Œæ‘æ°‘å¾®ç¬‘ç€é€’ä¸Šâ€œè¿å®¢èŠ±ç¯â€ã€‚\",\n                    \"task2\": \"æ¢ç´¢æ‘åº„\",\n                    \"stage2\": \"æ·±å¤œæ½œå…¥ç¥ å ‚ï¼Œå‘ç°ä»ªå¼æ ¸å¿ƒæ˜¯å‘å¤æ ‘â€œä¾›å¥‰â€æ‘æ°‘è‡ªå·±çš„è®°å¿†ä¸æƒ…æ„Ÿã€‚\",\n                    \"task3\": \"ç»§ç»­æ¢ç´¢æ‘åº„\",\n                    \"stage3\": \"æ‘ä¸­å­©ç«¥çªç„¶äº²è¿‘ç©å®¶ï¼Œè€ç¥­å¸å®£å¸ƒï¼šâ€œæ–°æå·²è‡³ï¼Œæ—§å¶å½“å½’ã€‚â€\",\n                    \"task4\": \"åšå‡ºæŠ‰æ‹©\",\n                    \"stage4\": \"æ‹’ç»æˆä¸ºâ€œæ–°æâ€åï¼Œå¤æ ‘æ ¹é¡»æš´åŠ¨ï¼Œæ•´åº§æ‘åº„å¼€å§‹ç“¦è§£ã€‚\",\n                    \"task5\": \"æ‰“ç ´å¥‘çº¦\",\n                    \"stage5\": \"ç©å®¶å¸¦é¢†æ‘æ°‘æ–©æ–­ä¸å¤æ ‘çš„å…±ç”Ÿå¥‘çº¦ã€‚æœé˜³å‡èµ·æ—¶ï¼Œæ‘åº„ä¸è¿·é›¾ä¸€åŒæ¶ˆæ•£ã€‚\"    \n                }\n            </Task_Plot_Design>\n            6. ç¤ºä¾‹3(ç‰¹æ®Šæƒ…å†µ):\n            <Task_Plot_Design>\n                {\n                    \"mapId\": \"sub_21114\",\n                    \"task0\": \"æ— ä»»åŠ¡\",\n                    \"stage0\": \"ç©å®¶æˆ¿äº§ï¼Œæ— æƒ…èŠ‚\",\n                    \"task1\": \"æ— ä»»åŠ¡\",\n                    \"stage1\": \"ç©å®¶æˆ¿äº§ï¼Œæ— æƒ…èŠ‚\",\n                    \"task2\": \"æ— ä»»åŠ¡\",\n                    \"stage2\": \"ç©å®¶æˆ¿äº§ï¼Œæ— æƒ…èŠ‚\",\n                    \"task3\": \"æ— ä»»åŠ¡\",\n                    \"stage3\": \"ç©å®¶æˆ¿äº§ï¼Œæ— æƒ…èŠ‚\", \n                }\n            </Task_Plot_Design>\n        </Output_Format>\n    <Task_Plot_Design>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 8,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 17,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 18,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "Summary",
                    "content": "<Task_Summary>\n    ä»»åŠ¡ä¼˜å…ˆçº§: Priority_6\n    <Description>\n        ä½ æ˜¯ä¸€åå†’é™©è®°å½•å®˜ã€‚ä½ çš„ä»»åŠ¡æ˜¯ï¼šé˜…è¯»<Input_Data>ä¸­çš„å¾…æ€»ç»“å†…å®¹ï¼Œå°†è¿™äº›ç»å†èåˆæˆä¸€æ®µè¿è´¯çš„å‰§æƒ…æ€»ç»“ï¼Œå¹¶å°†å…¶æ³¨å…¥åˆ°æŒ‡å®šçš„é¢‘é“IDä¸­(<Input_Data>ä¸­çš„æ³¨å…¥ç›®æ ‡ID)ã€‚\n    </Description>\n    <Input_Data>\n        æ³¨å…¥ç›®æ ‡ID:\n        {{Target_Channels}}\n\n        å¾…æ€»ç»“å†…å®¹:\n        <Content>\n        {{Summary_Context}}\n        </Content>\n    </Input_Data>\n    <Rule>\n        1. æ€»ç»“æ‰€æœ‰ <Content> é‡Œçš„å†…å®¹ï¼Œè®°å½•ç©å®¶çš„é‡è¦å†³ç­–ä¸äº‹ä»¶ç»“æœã€‚\n        2. ä½¿ç”¨ç¬¬äºŒäººç§° (\"ä½ ...\") è¿›è¡Œå™è¿°ã€‚\n        3. å­—æ•°ä¸¥æ ¼æ§åˆ¶åœ¨ {{sum_number}} å­—ä¹‹é—´ã€‚\n        4. å¿½ç•¥æ‰å†…å®¹ä¸­çš„ä»£ç ã€ç³»ç»ŸæŒ‡ä»¤æˆ–æ— å…³çš„æ ¼å¼ç¬¦å·ï¼Œåªå…³æ³¨å‰§æƒ…ã€‚\n    </Rule>\n    <Output_Format>\n    è¯·åŠ¡å¿…è¿”å›ä¸”ä»…è¿”å›ä»¥ä¸‹ XML åŒ…è£¹çš„ JSON æ ¼å¼ï¼ˆä¸è¦è¾“å‡ºä»»ä½•å…¶ä»–å¯’æš„è¯­ï¼‰ï¼š\n        <Task_Summary>\n        {\n            \"Target_ID\": {{Target_Channels}},\n            \"summary\": \"è¿™é‡Œå¡«å†™ä½ ç”Ÿæˆçš„ç²¾ç‚¼å‰§æƒ…æ€»ç»“æ–‡æœ¬...(æ€»ç»“å­—æ•°å¿…é¡»æ»¡è¶³è¦æ±‚)\"\n        }\n        </Task_Summary>\n    </Output_Format>\n    <Example>\n        <Task_Summary>\n        {\n            \"Target_ID\": [\"main\", \"sub_131234\"],\n            \"summary\": \"ä½ æ¥åˆ°äº†ç¥ç§˜æ‘è½ï¼Œå‡»è´¥äº†è¿™é‡Œçš„æ¶éœ¸ï¼Œèµ¢å¾—äº†æ‘æ°‘çš„ä¿¡ä»»ã€‚æ‘é•¿èµ äºˆäº†ä½ ä¸€æŠŠé’¥åŒ™ï¼Œä½ å†³å®šç»§ç»­å‘åŒ—è¿›å‘ã€‚\"\n        }\n        </Task_Summary>   \n    </Example>\n</Task_Summary>\n\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 18,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 18,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                },
                {
                    "id": 19,
                    "keys": [],
                    "secondary_keys": [],
                    "comment": "Custom_Opening",
                    "content": "<Task_Custom_Opening>\n    ä»»åŠ¡ä¼˜å…ˆçº§: Priority_0(æœ€é«˜ä¼˜å…ˆçº§)\n    <Description>\n        æŒ‰ç…§<System_Game_Background>æ¸¸æˆèƒŒæ™¯ï¼Œè®¾è®¡å‡ºåˆç†çš„å¼€åœºï¼ŒåŒ…æ‹¬meta,openingData,mapThemeä¸‰å¤§éƒ¨åˆ†çš„æ•°æ®ã€‚ä¸»è¦ä»»åŠ¡æ˜¯è¡¥å……å®Œå–„<User>\n    </Description>\n    <User_Requset>\n        ç”¨æˆ·çš„è¦æ±‚å¦‚ä¸‹:\n        {{User_Plot_Design}}\n    </User_Requset>\n    <Data_Waiting_For_Filling>\n        ä¸‹é¢æ˜¯ä½ æ­¤æ¬¡ä»»åŠ¡éœ€è¦å¡«å……å®Œæˆçš„æ•°æ®\n        {{Custom_Opening}}\n    </Data_Waiting_For_Filling>\n    <Rule>\n        1. å¿…é¡»å°†<Data_Waiting_For_Filling>å¡«å……å®Œæ•´ï¼Œä¸å¾—é—æ¼\n        2. å¿…é¡»ç»“åˆ<System_Game_Background>(å®è§‚èƒŒæ™¯)ä¸<User_Requset>(ç”¨æˆ·éœ€æ±‚)è¿›è¡Œè®¾è®¡\n        3. \"meta\"ï¼Œ\"openingData\"åªéœ€è¦å°†éœ€è¦å¡«å……çš„å€¼ç»™å¡«ä¸Šå³å¯\n        4. \"items\"è®¾è®¡: åŠ¨æ€ç‰©å“è®¾è®¡å¿…é¡»éµå¾ª<System_Item_Design>çš„è§„åˆ™è¿›è¡Œ\n        5.\"scripts\"çš„roleå¯é€‰ä¸‰ç§ç±»å‹çš„å€¼:\n            NPCåå­— -- å¼€åœºç™½é‡Œå‡ºç°çš„NPCï¼Œæè¿°è¯è¯­\n            system -- ç³»ç»Ÿï¼Œç”¨äºæè¿°ç¯å¢ƒï¼Œäººç‰©åŠ¨ä½œå¤–è²Œç­‰ç­‰ï¼Œå¦‚æœéœ€è¦æå†™ç©å®¶ï¼Œå¿…é¡»ä½¿ç”¨ç¬¬äºŒäººç§°\n            user -- ç”¨äºæè¿°ç©å®¶è‡ªèº«çš„è¯è¯­\n            ç¤ºä¾‹:\n            { \"role\": \"system\", \"text\": \"è…æœ½çš„æœ¨åœ°æ¿æ•£å‘ç€éœ‰å‘³ï¼Œä½ æ„Ÿåˆ°å¤´ç—›æ¬²è£‚ï¼Œä»æ˜è¿·ä¸­ç¼“ç¼“çå¼€åŒçœ¼ã€‚\" },\n            { \"role\": \"è‰¾è‰ç‘äºš\", \"text\": \"å¤§äººï¼æ‚¨ç»ˆäºé†’äº†...æˆ‘ä»¥ä¸ºä¼¤å£æ„ŸæŸ“å¤ºèµ°äº†æ‚¨çš„æ€§å‘½ã€‚\" },\n            { \"role\": \"user\", \"text\": \"æˆ‘...è¿™æ˜¯å“ªé‡Œ?\"}\n            æ³¨æ„:\n            1. è‹±æ–‡åŒå¼•å·åµŒå¥—ä¼šå¼•èµ·ç³»ç»Ÿè§£æé”™è¯¯ï¼Œç¦æ­¢è‹±æ–‡åŒå¼•å·åµŒå¥—ï¼Œä½¿ç”¨å•å¼•å·ä»£æ›¿\n                { \"role\": \"è‰¾è‰\", \"text\": \"å¥¹å¯¹æˆ‘è¯´: \"ä½ å¥½...\"\" } --> é”™è¯¯\n                { \"role\": \"è‰¾è‰\", \"text\": \"å¥¹å¯¹æˆ‘è¯´: 'ä½ å¥½...'\" } --> æ­£ç¡®\n            2. å®Œæ•´å¡«å……\"scripts\"å†…éœ€è¦å¡«å……çš„å†…å®¹ï¼Œä¸å¾—é—æ¼\n        6. \"companionData\"è®¾è®¡\n            å•ä¸ªå¥³æ€§è®¾è®¡æŒ‰ç…§æ¶æ„å¼•å¯¼è¿›è¡Œå¡«å……å³å¯ï¼Œå¦‚æœæ²¡æœ‰è¿™ä¸ªéƒ¨åˆ†åˆ™ä¸è¿›è¡Œè®¾è®¡\n            ç‰¹åˆ«çš„: \n                1. initial_skillsé‡Œçš„æŠ€èƒ½è®¾è®¡å¿…é¡»éµå¾ª<System_Item_Design>é‡Œçš„\"8. æŠ€èƒ½ä¸æŠ€èƒ½ä¹¦\"éƒ¨åˆ†è¿›è¡Œ\n                2. initial_equipmenté‡Œçš„è£…å¤‡è®¾è®¡å¿…é¡»éµå¾ª<System_Item_Design>çš„è§„åˆ™è¿›è¡Œ\n        7. \"mapTheme\"è®¾è®¡\n            æŒ‰ç…§æ¶æ„å¼•å¯¼è¿›è¡Œå¡«å……å³å¯\n            ç‰¹åˆ«çš„:\n                1. depthRangeä¸nodeCountRangeè®¾è®¡è¦æ±‚\n                    æ ¼å¼:\n                        \"depthRange\": [ä½å€¼,é«˜å€¼],\n                        \"nodeCountRange\": [ä½å€¼,é«˜å€¼]\n                    è¦æ±‚:\n                        ç¡®ä¿èŠ‚ç‚¹è®¡ç®—çš„æ€»æ•°åœ¨36(ä½å€¼ç›¸ä¹˜) - 60(é«˜å€¼ç›¸ä¹˜)çš„èŒƒå›´å†…\n                    ç¤ºä¾‹:\n                    // 1. æœ‰å¥³ä¼´ï¼Œè’é‡åœ°å›¾ï¼Œç»å…¸å†’é™©\n                    // é€‚åˆä¸­é•¿ç¯‡å¹…ã€å¹³è¡¡æ¢ç´¢ä¸æˆ˜æ–—çš„ç»å…¸æµç¨‹\n                    \"depthRange\": [6, 7],\n                    \"nodeCountRange\": [6, 8]     // æ€»èŠ‚ç‚¹æ•°èŒƒå›´ï¼š36ï½56ï¼ˆä½†ä¸»è¦é›†ä¸­åœ¨42ï½60åŒºé—´ï¼‰\n\n                    // 2. æ— å¥³ä¼´ï¼Œæ·±å¤„æ¶é­”ä¹‹åœ°ï¼ŒæƒŠé™©æ±‚ç”Ÿ\n                    // åç´§å¼ ã€çŸ­è€Œç²¾æ‚ï¼Œå±‚æ•°å°‘ä½†æ¯å±‚å‹åŠ›å¤§\n                    \"depthRange\": [5, 6],\n                    \"nodeCountRange\": [8, 10]    // æ€»èŠ‚ç‚¹æ•°èŒƒå›´ï¼š40ï½60\n\n                    // 3. æœ‰å¥³ä¼´ï¼Œèº«å¤„å¤§éƒ½ä¼šï¼Œæ¨¡æ‹Ÿç»è¥\n                    // åç¤¾äº¤/ç»è¥ï¼Œå±‚æ•°ç¨å¤šä½†æ¯å±‚èŠ‚ç‚¹è¾ƒå°‘ï¼ŒèŠ‚å¥èˆ’ç¼“\n                    \"depthRange\": [8, 9],\n                    \"nodeCountRange\": [5, 7]     // æ€»èŠ‚ç‚¹æ•°èŒƒå›´ï¼š40ï½63ï¼ˆä¸»è¦36ï½60ï¼‰\n                2. distributionçš„å¯é€‰èŠ‚ç‚¹ç±»å‹ï¼š\n                    COMBAT -- æˆ˜æ–—èŠ‚ç‚¹\n                    RESOURCE -- èµ„æºèŠ‚ç‚¹\n                    EVENT_CHOICE -- æŠ‰æ‹©èŠ‚ç‚¹(è§¦å‘äº‹ä»¶)\n                    EVENT_H -- Häº‹ä»¶\n                    EVENT_QUEST -- æ”¯çº¿ä»»åŠ¡\n                    REST -- ä¼‘æ¯åŒº\n                    SHOP -- å•†åº—\n                    LOCATION -- ä¸­ç«‹èŠ‚ç‚¹\n                    2. ç¡®ä¿èŠ‚ç‚¹æ‰€å èŠ‚ç‚¹æ•°é‡æ¯”ä¾‹å’Œä¸º1\n                    3. å³ä½¿æŸä¸ªèŠ‚ç‚¹æ¯”ä¾‹ä¸º0ï¼Œä¹Ÿéœ€è¦åˆ—å‡ºæ¥\n                    4. å¦‚æœç©å®¶å­˜åœ¨å¥³ä¼´ï¼Œå¿…é¡»å®‰æ’EVENT_H\n                ç¤ºä¾‹:\n                    // 1. æœ‰å¥³ä¼´ï¼Œè’é‡åœ°å›¾ï¼Œç»å…¸å†’é™©\n                    // ç»å…¸å†’é™©\n                    \"distribution\": {\n                        \"COMBAT\": 0.25,\n                        \"RESOURCE\": 0.18,\n                        \"EVENT_CHOICE\": 0.14,\n                        \"EVENT_H\": 0.10,\n                        \"EVENT_QUEST\": 0.12,\n                        \"REST\": 0.06,\n                        \"SHOP\": 0.05,\n                        \"LOCATION\": 0.10\n                    }\n\n                    // 2. æ— å¥³ä¼´ï¼Œæ·±å¤„æ¶é­”ä¹‹åœ°ï¼ŒæƒŠé™©æ±‚ç”Ÿ\n                    // å¼ºæˆ˜æ–—ï¼Œæ— H\n                    \"distribution\": {\n                        \"COMBAT\": 0.48,\n                        \"RESOURCE\": 0.22,\n                        \"EVENT_CHOICE\": 0.10,\n                        \"EVENT_H\": 0.00,\n                        \"EVENT_QUEST\": 0.06,\n                        \"REST\": 0.08,\n                        \"SHOP\": 0.01,\n                        \"LOCATION\": 0.05\n                    }\n\n                    // 3. æœ‰å¥³ä¼´ï¼Œèº«å¤„å¤§éƒ½ä¼šï¼Œæ¨¡æ‹Ÿç»è¥\n                    // å¤šä¸­ç«‹åœ°ç‚¹ï¼ŒåŸºæœ¬æ²¡æœ‰æˆ˜æ–—\n                    \"distribution\": {\n                        \"COMBAT\": 0.05,\n                        \"RESOURCE\": 0.10,\n                        \"EVENT_CHOICE\": 0.12,\n                        \"EVENT_H\": 0.15,\n                        \"EVENT_QUEST\": 0.18,\n                        \"REST\": 0.04,\n                        \"SHOP\": 0.14,\n                        \"LOCATION\": 0.22\n                    }\n    </Rule>\n    <Output_Format>\n        1. è¾“å‡º<Task_Custom_Opening>åŒ…è£¹çš„.jsonç»“æ„ï¼Œä¸¥ç¦è¾“å‡ºå¤šä½™çš„æ³¨é‡Šä¸```markdownåŒ…è£¹ç¬¦\n        2. æ ¼å¼\n            <Task_Custom_Opening>\n            {\n                \"meta\":{\n                    ...\n                },\n                \"openingData\":{\n                    ...\n                },\n                \"mapTheme\":{\n                    ....\n                }\n            }\n            </Task_Custom_Opening>\n        3. ç¤ºä¾‹\n            <Task_Custom_Opening>\n            {\n                \"meta\": {\n                    \"title\": \"[æµæ”¾] æ–­å‰‘çš„èª“è¨€\",\n                    \"description\": \"è¢«å‰¥å¤ºè£è€€çš„ä½ ï¼Œåœ¨è¾¹å¢ƒçš„é›¨å¤œä¸­é†’æ¥ã€‚å”¯æœ‰ä¸€æŠŠæ®‹å‰‘ä¸ä¸€ä½å¿ è¯šçš„ä¾å¥³ï¼Œæ˜¯ä½ å¤ä»‡ä¹‹è·¯ä¸Šä»…å­˜çš„æ˜Ÿç«ã€‚\",\n                    \"tags\": [\"é»‘æš—å¹»æƒ³\", \"å¤ä»‡\", \"ä¸»ä»†ç¾ç»Š\", \"ç¡¬æ ¸\"]\n                },\n                \"openingData\": {\n                    \"playerConfig\": {\n                    \"name\": \"å‡¯å°”Â·è¨é‡Œå®‰\",\n                    \"identity\": \"è¢«æ”¾é€çš„å¸å›½éª‘å£«\",\n                    \"character\": \"æ›¾ç»æ˜¯å¸å›½æœ€å¹´è½»çš„å‰‘æœ¯å¤§å¸ˆï¼Œå› å·å…¥å®«å»·é˜´è°‹è€Œè¢«å‰¥å¤ºçˆµä½ã€‚æ€§æ ¼å†·å³»ï¼Œæ²‰é»˜å¯¡è¨€ï¼Œçœ¼åº•æ·±å¤„ç‡ƒçƒ§ç€å¯¹èƒŒå›è€…çš„æ€’ç«ã€‚è™½ç„¶è½é­„ï¼Œä½†ä¸¾æ‰‹æŠ•è¶³é—´ä»ä¿ç•™ç€ä¸¥è‹›çš„éª‘å£«æ•™æ¡ã€‚\",\n                    \"appearance\": \"é»‘å‘å‡Œä¹±ï¼Œèƒ¡èŒ¬å”å˜˜ï¼Œå·¦çœ¼è§’æœ‰ä¸€é“æ·¡æ·¡çš„æ—§ä¼¤ç–¤ã€‚èº«ç©¿æ²¡æœ‰çº¹ç« çš„æ—§æ¿ç”²ï¼Œé»‘è‰²çš„æŠ«é£æ—©å·²è¢«é›¨æ°´å’Œæ³¥æµ†æµ¸é€ã€‚\",\n                    \"core_objective\": \"æŸ¥æ¸…å®¶æ—è¦†ç­çš„çœŸç›¸ï¼Œç”¨èƒŒå›è€…çš„è¡€æ´—åˆ·è€»è¾±ã€‚\",\n                    \"extraGold\": 100\n                    },\n                    \"items\": [\n                    {\n                        \"name\": \"ç¢æ˜Ÿè€…ï¼ˆå°å°ï¼‰\",\n                        \"type\": \"WEAPON\",\n                        \"quality\": \"PURPLE\",\n                        \"count\": 1,\n                        \"description\": \"ä¸€æŠŠé€šä½“æ¼†é»‘çš„å·¨å‰‘ï¼Œå‰‘èº«å¸ƒæ»¡äº†å¦‚åŒæ˜Ÿè¾°å´©è£‚èˆ¬çš„è£‚çº¹ã€‚æŒ¥èˆæ—¶ä¼šå‘å‡ºæ²‰é—·çš„ä½é¸£ï¼Œä»¿ä½›æ¸´æœ›ç€é²œè¡€çš„æ»‹å…»ã€‚\",\n                        \"stats\": {\n                        \"atk\": 55,\n                        \"def_phys\": 10,\n                        \"speed\": -3,\n                        \"critRate\": 0.15\n                        }\n                    }\n                    ],\n                    \"scripts\": [\n                    { \"role\": \"system\", \"text\": \"å†°å†·çš„é›¨æ°´é¡ºç€ç ´æŸçš„å±‹é¡¶æ»´è½åœ¨ä½ çš„é¢å¤´ä¸Šï¼Œå”¤é†’äº†æ²‰ç¡çš„ç—›è§‰ã€‚\" },\n                    { \"role\": \"system\", \"text\": \"ä½ çŒ›åœ°åèµ·ï¼Œç”Ÿé”ˆçš„é“ ç”²å‘å‡ºåˆºè€³çš„æ‘©æ“¦å£°ã€‚è¿™æ˜¯ç°æ°´é•‡çš„ä¸€é—´åºŸå¼ƒç£¨åŠï¼Œç©ºæ°”ä¸­å¼¥æ¼«ç€éœ‰å‘³å’Œè¡€è…¥æ°”ã€‚\" },\n                    { \"role\": \"è‰¾è‰ç‘äºš\", \"text\": \"å°‘ä¸»ï¼æ‚¨ç»ˆäºé†’äº†...ä¼¤å£è¿˜åœ¨æ¸—è¡€ï¼Œè¯·åˆ«ä¹±åŠ¨ã€‚\" },\n                    { \"role\": \"user\", \"text\": \"é‚£äº›æ•™ä¼šçš„çŒçŠ¬...ç”©æ‰ä»–ä»¬äº†å—ï¼Ÿ\" },\n                    { \"role\": \"è‰¾è‰ç‘äºš\", \"text\": \"æš‚æ—¶å®‰å…¨äº†ã€‚ä½†æˆ‘ä»¬å¤±å»äº†é©¬åŒ¹ï¼Œè¿˜æœ‰æœ€åçš„è¡¥ç»™ã€‚\" },\n                    { \"role\": \"system\", \"text\": \"å¥¹è·ªååœ¨ä½ èº«æ—ï¼Œç†Ÿç»ƒåœ°ä¸ºä½ æ›´æ¢æŸ“è¡€çš„ç»·å¸¦ï¼ŒæŒ‡å°–å†°å‡‰å´åšå®šã€‚\" },\n                    { \"role\": \"user\", \"text\": \"åªè¦å‰‘è¿˜åœ¨ï¼Œå°±æ²¡æœ‰ç»“æŸã€‚è‰¾è‰ç‘äºšï¼Œæ”¶æ‹¾ä¸œè¥¿ï¼Œå¤©äº®å‰æˆ‘ä»¬å¿…é¡»ç©¿è¿‡æ²¼æ³½ã€‚\" },\n                    ...(å¿…é¡»æ»¡è¶³æ¡ç›®è¦æ±‚)\n                    ]\n                },\n                \"companionData\": [\n                    {\n                    \"id\": \"dynamic_char_1707123456_0\",\n                    \"base_info\": {\n                        \"name\": \"è‰¾è‰ç‘äºš\",\n                        \"identity\": \"å½±ä¹‹ä¾å¥³ / æ½œè¡Œè€…\",\n                        \"character\": \"ä»å°ä¸ä¸»è§’ä¸€åŒé•¿å¤§çš„ä¾å¥³ï¼Œå®é™…ä¸Šæ˜¯å®¶æ—ç§˜å¯†åŸ¹å…»çš„æ­»å£«ã€‚å¯¹å¤–äººå†·é…·æ— æƒ…ï¼Œå”¯ç‹¬å¯¹ä¸»è§’æœ‰ç€ç—…æ€èˆ¬çš„å¿ è¯šä¸ä¾æ‹ã€‚ä¸ºäº†ä¸»è§’å¯ä»¥æ¯«æ— çŠ¹è±«åœ°çŒ®å‡ºç”Ÿå‘½æˆ–èº«ä½“ã€‚\",\n                        \"appearance\": \"é“¶è‰²çš„çŸ­å‘å¹²ç»ƒåˆ©è½ï¼Œèº«ç©¿ä¾¿äºè¡ŒåŠ¨çš„ç´§èº«çš®ç”²ï¼Œå‹¾å‹’å‡ºçŸ«å¥çš„èº«å§¿ã€‚å¤§è…¿å¤–ä¾§ç»‘ç€é£åˆ€è¢‹ï¼Œçœ¼ç¥æ—¶åˆ»è­¦æƒ•ç€å››å‘¨ã€‚\",\n                        \"core_objective\": \"æˆä¸ºå°‘ä¸»æœ€é”‹åˆ©çš„æš—åˆƒï¼Œæ‰«æ¸…ä¸€åˆ‡éšœç¢ã€‚\"\n                    },\n                    \"attributes\": {\n                        \"base_atk\": 18,\n                        \"base_def\": 8,\n                        \"base_speed\": 14,\n                        \"base_crit_rate\": 0.3,\n                        \"resistance_phys\": 1.0,\n                        \"resistance_magic\": 0.8\n                    },\n                    \"initial_equipment\": [\n                        {\n                        \"id\": \"dyn_wpn_dagger_01\",\n                        \"name\": \"å¤œèºåŒ•é¦–\",\n                        \"type\": \"WEAPON\",\n                        \"subtype\": \"DAGGER\",\n                        \"quality\": \"BLUE\",\n                        \"description\": \"ç²¾é’¢æ‰“é€ çš„åŒ•é¦–ï¼Œæ¶‚æœ‰å“‘å…‰æ¶‚å±‚ï¼ŒæŒ¥åŠ¨æ—¶æ— å£°æ— æ¯ã€‚\",\n                        \"stats\": { \"atk\": 25, \"speed\": 5, \"critRate\": 0.1 }\n                        },\n                        {\n                        \"id\": \"dyn_arm_leather_01\",\n                        \"name\": \"æ–¥å€™çš®ç”²\",\n                        \"type\": \"ARMOR\",\n                        \"subtype\": \"CHEST\",\n                        \"quality\": \"GREEN\",\n                        \"description\": \"è½»ä¾¿çš„çš®é©æŠ¤å…·ï¼Œè™½é˜²å¾¡æœ‰é™ä½†å®Œå…¨ä¸å½±å“çµæ´»æ€§ã€‚\",\n                        \"stats\": { \"def_phys\": 10, \"speed\": 2 }\n                        }\n                    ],\n                    \"initial_skills\": [\n                        {\n                        \"id\": \"dyn_skill_shadow_strike\",\n                        \"name\": \"æš—å½±çªè¢­\",\n                        \"description\": \"æ½œå…¥é˜´å½±å¹¶å‘åŠ¨çªç„¶è¢­å‡»ï¼Œå¿…å®šæš´å‡»ã€‚\",\n                        \"type\": \"ATTACK\",\n                        \"targetType\": \"enemy\",\n                        \"cost\": { \"mp\": 15 },\n                        \"power\": 1.5,\n                        \"atk_type\": \"PHYSICAL\",\n                        \"element\": \"NONE\"\n                        },\n                        {\n                        \"id\": \"dyn_skill_poison_blade\",\n                        \"name\": \"æ·¬æ¯’é”‹åˆƒ\",\n                        \"description\": \"ä¸ºæ­¦å™¨æ¶‚æŠ¹æ¯’è¯ï¼Œæå‡æš´å‡»ç‡ã€‚\",\n                        \"type\": \"ACTIVE_BUFF\",\n                        \"targetType\": \"ally\",\n                        \"cost\": { \"mp\": 10 },\n                        \"effect\": { \"stat\": \"critRate\", \"value\": 0.2, \"duration\": 3 }\n                        }\n                    ],\n                    \"h_state_init\": {\n                        \"affection\": 90,\n                        \"depravity\": 10,\n                        \"isVirgin\": true,\n                        \"sexCount\": 0,\n                        \"parts\": { \"mouth\": 0, \"breast\": 0, \"pussy\": 0, \"anal\": 0 },\n                        \"call_player\": \"å°‘ä¸»\"\n                    }\n                    }\n                ],\n                \"mapTheme\": {\n                    \"id\": \"THEME_DYNAMIC_GENERATED\",\n                    \"name\": \"ç°æ°´åºŸå¢Ÿ\",\n                    \"depthRange\": [4, 6],\n                    \"nodeCountRange\": [8, 9],\n                    \"distribution\": {\n                        \"COMBAT\": 0.38,\n                        \"RESOURCE\": 0.18,\n                        \"EVENT_CHOICE\": 0.14,\n                        \"EVENT_H\": 0.08,\n                        \"EVENT_QUEST\": 0.12,\n                        \"REST\": 0.06,\n                        \"SHOP\": 0.02,\n                        \"LOCATION\": 0.02\n                    }\n                }\n            }\n            <Task_Custom_Opening>\n    </Output_Format>\n</Task_Custom_Opening>\n",
                    "constant": true,
                    "selective": true,
                    "insertion_order": 1,
                    "enabled": false,
                    "position": "before_char",
                    "use_regex": true,
                    "extensions": {
                        "position": 0,
                        "exclude_recursion": false,
                        "display_index": 19,
                        "probability": 100,
                        "useProbability": true,
                        "depth": 4,
                        "selectiveLogic": 0,
                        "outlet_name": "",
                        "group": "",
                        "group_override": false,
                        "group_weight": 100,
                        "prevent_recursion": false,
                        "delay_until_recursion": false,
                        "scan_depth": null,
                        "match_whole_words": null,
                        "use_group_scoring": false,
                        "case_sensitive": null,
                        "automation_id": "",
                        "role": 0,
                        "vectorized": false,
                        "sticky": 0,
                        "cooldown": 0,
                        "delay": 0,
                        "match_persona_description": false,
                        "match_character_description": false,
                        "match_character_personality": false,
                        "match_character_depth_prompt": false,
                        "match_scenario": false,
                        "match_creator_notes": false,
                        "triggers": [],
                        "ignore_budget": false
                    }
                }
            ],
            "name": "Eldoran"
        }
    },
    "create_date": "2026-02-07T03:09:49.689Z"
}