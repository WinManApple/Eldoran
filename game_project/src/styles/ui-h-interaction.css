/*
* Project: Eldoran
 * Copyright (C) 2026 WinManApple
 *
 * This work is licensed under the Creative Commons Attribution-NonCommercial
 * 4.0 International License. To view a copy of this license, visit
 * http://creativecommons.org/licenses/by-nc/4.0/
*/

/* src/styles/ui-h-interaction.css */

/* =========================================
   7. H äº’åŠ¨ç³»ç»Ÿ (H-Interaction System) - Pink Neon Refactor
   ========================================= */

/* --- åŸºç¡€å˜é‡å®šä¹‰ (ç²‰è‰²ç³») --- */
:root {
    --h-bg-overlay: rgba(10, 5, 10, 0.85); /* æ·±è‰²èƒŒæ™¯ï¼Œç•¥å¸¦ç´« */
    --h-panel-bg: rgba(20, 10, 15, 0.95);  /* é¢æ¿èƒŒæ™¯ */
    --h-border-color: rgba(255, 105, 180, 0.3); /* æ·¡ç²‰è‰²è¾¹æ¡† */
    
    /* æ ¸å¿ƒä¸»è‰² */
    --h-pink-primary: #FF69B4; /* HotPink - é«˜äº®/ä¸»è¦æ–‡æœ¬ */
    --h-pink-deep: #FF1493;    /* DeepPink - è¿›åº¦æ¡æ·±è‰²/æŒ‰é’®æ¿€æ´» */
    --h-pink-glow: rgba(255, 20, 147, 0.4); /* å…‰æ™•é¢œè‰² */
    
    --h-text-main: #FFF0F5;    /* LavenderBlush - ä¸»æ–‡æœ¬ */
    --h-text-dim: #D8BFD8;     /* Thistle - æ¬¡è¦æ–‡æœ¬ */
}

/* 1. å…¨å±é®ç½© (é˜»æ­¢ç‚¹å‡»ç©¿é€) */
.h-backdrop {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    
    /* ğŸ”´ ä¿®æ”¹: å¢å¼ºèƒŒæ™¯è§†è§‰æ·±åº¦ (å¯é€‰ï¼Œä¿æŒåŸæ ·ä¹Ÿå¯) */
    background: radial-gradient(circle at center, rgba(30, 10, 20, 0.9) 0%, #050005 100%);
    
    /* ğŸŸ¢ å…³é”®: ç¡®ä¿å±‚çº§æé«˜ (é«˜äºæ™®é€š UI å’Œ Canvas) */
    z-index: 4000;
    
    display: flex;
    justify-content: center;
    align-items: center;
    backdrop-filter: blur(5px);
    animation: fadeIn 0.4s ease-out;
    
    /* ğŸŸ¢ æ ¸å¿ƒä¿®æ­£: å¼ºåˆ¶æ•è·æ‰€æœ‰é¼ æ ‡äº‹ä»¶ï¼Œé˜²æ­¢ç©¿é€ */
    pointer-events: all; /* å…¼å®¹æ€§å†™æ³•ï¼Œç­‰åŒäº auto */
    cursor: default;     /* é‡ç½®é¼ æ ‡æ ·å¼ï¼Œè¡¨æ˜è¿™é‡Œæ˜¯æ™®é€šåŒºåŸŸ */
}

/* é˜²æ­¢å®¹å™¨å†…éƒ¨ç‚¹å‡»å†’æ³¡å¯¼è‡´æ„å¤–å…³é—­ (å¦‚æœå¤–éƒ¨æœ‰ç‚¹å‡»å…³é—­é€»è¾‘çš„è¯) */
.h-container {
    /* ... (ä¹‹å‰çš„å±æ€§) */
    
    /* ç¡®ä¿å®¹å™¨æœ¬èº«ä¹Ÿæ˜¯é˜»æŒ¡ç©¿é€çš„å®ä½“ */
    pointer-events: auto; 
    z-index: 4001; /* ç•¥é«˜äºé®ç½© */
}

/* 2. ä¸»å®¹å™¨ */
.h-container {
    /* ğŸ”´ å“åº”å¼å°ºå¯¸è°ƒæ•´ */
    width: 95%;           /* ç§»åŠ¨ç«¯ä¼˜å…ˆï¼Œå æ»¡å®½åº¦ */
    max-width: 1000px;    /* PCç«¯é™åˆ¶æœ€å¤§å®½åº¦ï¼Œé˜²æ­¢è¿‡å®½ */
    height: 90vh;         /* ä½¿ç”¨è§†å£é«˜åº¦ï¼Œç•™å‡ºä¸Šä¸‹è¾¹è· */
    max-height: 900px;    /* é™åˆ¶æœ€å¤§é«˜åº¦ */
    min-height: 500px;    /* é˜²æ­¢é«˜åº¦è¿‡å°å¯¼è‡´å†…å®¹æ— æ³•æ˜¾ç¤º */
    
    background: var(--h-panel-bg);
    border: 1px solid var(--h-border-color);
    box-shadow: 0 0 30px rgba(255, 20, 147, 0.15); /* æŸ”å’Œç²‰è‰²å…‰æ™• */
    display: flex;
    flex-direction: column;
    position: relative;
    overflow: hidden;
    border-radius: 6px;
}

/* --- ğŸŸ¢ æ–°å¢ï¼šç¯å¢ƒä¿¡æ¯æ  --- */
.h-header-bar {
    height: 36px;
    background: rgba(0, 0, 0, 0.4);
    border-bottom: 1px solid rgba(255, 105, 180, 0.15);
    display: flex;
    align-items: center;
    justify-content: center; /* å±…ä¸­æ˜¾ç¤º */
    gap: 15px;
    font-size: 0.85rem;
    color: var(--h-text-dim);
    letter-spacing: 1px;
}

.info-item {
    display: flex;
    align-items: center;
    gap: 6px;
}

.info-item .icon {
    font-size: 0.9rem;
    filter: drop-shadow(0 0 2px var(--h-pink-primary)); /* å¢åŠ ä¸€ç‚¹éœ“è™¹å…‰æ™• */
}

.info-item .text {
    color: var(--h-text-main);
    font-family: 'Cinzel', serif; /* ä¿æŒä¸€è‡´çš„è¡¬çº¿å­—ä½“ */
}

.info-divider {
    width: 4px;
    height: 4px;
    background: var(--h-pink-primary);
    border-radius: 50%;
    opacity: 0.5;
}

/* =========================================
   3. é¡¶å±‚ï¼šçŠ¶æ€ç›‘æ§ (Monitor Panel)
   ========================================= */
/* ä¿®æ”¹å */
.h-monitor-panel {
    /* ğŸ”´ ç§»é™¤å›ºå®šé«˜åº¦ï¼Œæ”¹ä¸ºå¼¹æ€§å¸ƒå±€ */
    min-height: 120px; 
    flex-shrink: 0;       /* é˜²æ­¢è¢«ä¸­é—´èŠå¤©åŒºæŒ¤å‹ */
    
    padding: 15px 20px;   /* ç¨å¾®å‡å°å†…è¾¹è· */
    background: rgba(0, 0, 0, 0.2);
    border-bottom: 1px solid var(--h-border-color);
    display: flex;
    align-items: center;
    gap: 20px;            /* å‡å°é—´è· */
    
    /* ğŸ”´ ç§»åŠ¨ç«¯é€‚é…ï¼šå…è®¸æ¢è¡Œ */
    flex-wrap: wrap;      
    justify-content: center; /* æ¢è¡Œåå±…ä¸­å¯¹é½ */
}

/* --- å·¦ä¾§ï¼šè§’è‰²ä¿¡æ¯ç»„ --- */
.char-info-group {
    position: relative; /* ç”¨äºæ‚¬æµ®çª—å®šä½ */
    cursor: help;
}

/* ç®€æ˜“è§’è‰²æ–¹æ¡† (æ›¿ä»£å¤´åƒ) */
.char-box-simple {
    width: 120px;
    height: 60px;
    border: 1px solid var(--h-pink-primary);
    background: rgba(255, 105, 180, 0.05);
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 4px;
    transition: all 0.3s ease;
}

.char-name-text {
    color: var(--h-pink-primary);
    font-family: 'Cinzel', serif; /* ä¿æŒæ¸¸æˆç»Ÿä¸€å­—ä½“ */
    font-size: 1.1rem;
    font-weight: bold;
    letter-spacing: 1px;
    text-shadow: 0 0 5px var(--h-pink-glow);
}

/* æ‚¬åœé«˜äº® */
.char-info-group:hover .char-box-simple {
    background: rgba(255, 105, 180, 0.15);
    box-shadow: 0 0 15px var(--h-pink-glow);
}

/* --- æ‚¬æµ®çª—ï¼šé•¿æœŸå±æ€§ (Tooltip) --- */
.h-stat-tooltip {
    position: absolute;
    top: 100%;
    left: 0;
    margin-top: 15px; /* ä¸æ–¹æ¡†çš„é—´è· */
    width: 260px;
    
    background: rgba(15, 10, 15, 0.98);
    border: 1px solid var(--h-pink-primary);
    border-radius: 4px;
    padding: 15px;
    
    opacity: 0;
    visibility: hidden;
    transform: translateY(-5px);
    transition: all 0.2s ease-in-out;
    
    box-shadow: 0 5px 20px rgba(0,0,0,0.8);
    z-index: 100;
    pointer-events: none; /* é˜²æ­¢é¼ æ ‡æŒ¡ä½ */
}

.char-info-group:hover .h-stat-tooltip {
    opacity: 1;
    visibility: visible;
    transform: translateY(0);
}

.tooltip-header {
    text-align: center;
    color: var(--h-pink-primary);
    font-size: 0.9rem;
    font-weight: bold;
    margin-bottom: 10px;
    letter-spacing: 2px;
    border-bottom: 1px solid rgba(255, 105, 180, 0.2);
    padding-bottom: 5px;
}

.tooltip-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 4px;
    font-size: 0.85rem;
    color: var(--h-text-dim);
}
.tooltip-row .val { color: var(--h-text-main); font-weight: bold; }

.tooltip-divider {
    height: 1px;
    background: rgba(255, 105, 180, 0.2);
    margin: 8px 0;
}

.tooltip-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4px 10px;
}

.part-item {
    display: flex;
    justify-content: space-between;
    font-size: 0.8rem;
}
.part-name { color: #888; }

/* å¼€å‘åº¦æ•°å€¼é¢œè‰² */
.part-val.dev-low { color: #aaa; }
.part-val.dev-mid { color: #ffb7b2; } /* æµ…ç²‰ */
.part-val.dev-high { color: #ff69b4; font-weight: bold; } /* äº®ç²‰ */


/* --- å³ä¾§ï¼šçŸ­æœŸå±æ€§ç½‘æ ¼ --- */
.stats-grid {
    flex: 1;
    display: grid;
    /* ğŸ”´ ä½¿ç”¨ minmax å®ç°è‡ªé€‚åº”ï¼šå®½å±åŒåˆ—ï¼Œçª„å±å•åˆ— */
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 8px 20px;
    width: 100%; /* ç¡®ä¿åœ¨æ¢è¡Œæ—¶å æ»¡å®¹å™¨ */
}

.stat-row {
    display: flex;
    align-items: center;
    gap: 10px;
}
/* å¿«æ„Ÿæ¡å æ»¡ä¸¤åˆ— */
.stat-row.large {
    grid-column: span 2;
    margin: 5px 0;
}

.stat-label {
    width: 40px;
    font-size: 0.8rem;
    color: var(--h-text-dim);
    text-align: right;
}
.stat-label.icon { font-size: 1.1rem; color: var(--h-pink-primary); }

.stat-track {
    flex: 1;
    height: 6px;
    background: rgba(255, 255, 255, 0.1);
    border-radius: 3px;
    overflow: hidden;
}
.stat-row.large .stat-track { height: 10px; }

/* è¿›åº¦æ¡é€šç”¨æ ·å¼ (å¹³æ»‘è¿‡æ¸¡) */
.stat-fill {
    height: 100%;
    border-radius: 3px;
    transition: width 0.6s cubic-bezier(0.22, 1, 0.36, 1); /* ä¸æ»‘ç¼“åŠ¨ */
    box-shadow: 0 0 5px currentColor; /* è‡ªèº«é¢œè‰²çš„å…‰æ™• */
}

/* å„å±æ€§é…è‰² (ç²‰/çº¢ç³») */
.stat-fill.stamina { background: #ff6b81; color: #ff6b81; } /* æµ…çº¢ */
.stat-fill.sanity { background: #70a1ff; color: #70a1ff; }  /* ä¿æŒä¸€ç‚¹è“è‰²ä½œä¸ºå¯¹æ¯”ï¼Œæˆ–è€…æ”¹ä¸ºæ·¡ç´« #a29bfe */
.stat-fill.pleasure { 
    background: linear-gradient(90deg, var(--h-pink-primary), var(--h-pink-deep)); 
    color: var(--h-pink-deep);
}
.stat-fill.excitement { background: #ffa502; color: #ffa502; } /* æ©™è‰² */
.stat-fill.shame { background: #ff4757; color: #ff4757; }     /* æ·±çº¢ */

.stat-val {
    font-size: 0.9rem;
    color: var(--h-pink-primary);
    width: 40px;
    text-align: right;
    font-weight: bold;
}

/* æ ‡ç­¾å®¹å™¨ */
.sexuality-tags-container {
    display: flex;
    flex-wrap: wrap;       /* å…è®¸è‡ªåŠ¨æ¢è¡Œ */
    gap: 6px;              /* æ ‡ç­¾é—´è· */
    margin-top: 8px;       /* ä¸æ ‡é¢˜çš„è·ç¦» */
    justify-content: flex-start; /* å·¦å¯¹é½ */
}

/* å•ä¸ªæ€§ç™–æ ‡ç­¾ */
.sexuality-tag {
    font-size: 0.75rem;    /* å°å­—å· */
    color: var(--h-text-main);
    background: rgba(255, 105, 180, 0.08); /* ææ·¡çš„ç²‰è‰²èƒŒæ™¯ */
    border: 1px solid rgba(255, 105, 180, 0.3); /* ç»†å¾®è¾¹æ¡† */
    padding: 3px 8px;      /* å†…è¾¹è· */
    border-radius: 4px;    /* åœ†è§’çŸ©å½¢ */
    line-height: 1.2;
    transition: all 0.2s ease;
    cursor: default;
    
    /* å¢åŠ ä¸€ç‚¹æ–‡å­—é˜´å½±é˜²æ­¢çœ‹ä¸æ¸… */
    text-shadow: 0 0 2px rgba(0,0,0,0.5);
}

/* æ‚¬åœé«˜äº®æ•ˆæœ */
.sexuality-tag:hover {
    background: rgba(255, 105, 180, 0.25);
    border-color: var(--h-pink-primary);
    color: #fff;
    box-shadow: 0 0 8px var(--h-pink-glow);
    transform: translateY(-1px);
}

/* =========================================
   4. ä¸­å±‚ï¼šå‰§æƒ…æµ (Stage Panel)
   ========================================= */
.h-stage-panel {
    flex: 1;
    overflow-y: auto;
    padding: 20px 40px;
    display: flex;
    flex-direction: column;
    scroll-behavior: smooth;
    background: linear-gradient(to bottom, rgba(0,0,0,0.1), rgba(0,0,0,0.3));
}

.log-wrapper { display: flex; flex-direction: column; gap: 12px; }

.h-log-item {
    display: flex;
    max-width: 85%;
    animation: slideUp 0.3s ease-out;
}

/* AI æ¶ˆæ¯ (å·¦ä¾§) */
.h-log-item.ai { align-self: flex-start; }
.h-log-item.ai .log-content-box {
    background: rgba(40, 20, 30, 0.6);
    border: 1px solid rgba(255, 105, 180, 0.15);
    border-radius: 2px 12px 12px 12px;
    padding: 12px 18px;
    color: var(--h-text-main);
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}
.h-log-item.ai .log-name { color: var(--h-pink-primary); }

/* ç©å®¶æ¶ˆæ¯ (å³ä¾§) */
.h-log-item.user { align-self: flex-end; flex-direction: row-reverse; }
.h-log-item.user .log-content-box {
    background: rgba(60, 60, 70, 0.5);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 12px 2px 12px 12px;
    padding: 12px 18px;
    text-align: right;
    color: #eee;
}
.h-log-item.user .log-name { color: #aaa; }

/* ç³»ç»Ÿæ¶ˆæ¯ (å±…ä¸­) */
.h-log-item.system { 
    align-self: center; 
    max-width: 100%; 
    margin: 10px 0;
}
.h-log-item.system .log-content-box {
    /* ğŸ”´ å­—ä½“è°ƒæ•´ï¼šä¸å¯¹è¯ä¸€è‡´ */
    color: #ecf0f1;      /* äº®ç™½è‰²æ–‡æœ¬ï¼Œä¸å†æ˜¯æš—æ·¡çš„ç°è‰² */
    font-size: 1rem;     /* å¢å¤§å­—å·ï¼ŒåŸä¸º 0.85rem */
    font-style: normal;  /* å–æ¶ˆæ–œä½“ (å¯é€‰ï¼Œå¦‚æœå¸Œæœ›çœ‹æ¸…æ¥šå»ºè®®å–æ¶ˆ) */
    
    /* ğŸ”´ èƒŒæ™¯å¢å¼º */
    background: rgba(0, 0, 0, 0.6); /* æ·±è‰²åŠé€æ˜èƒŒæ™¯ */
    border: 1px solid rgba(255, 105, 180, 0.3); /* å¾®å¼±çš„ç²‰è‰²è¾¹æ¡† */
    border-radius: 6px;
    padding: 8px 15px;   /* å¢åŠ å†…è¾¹è·æ’‘å¼€èƒŒæ™¯ */
    
    text-align: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.3); /* å¢åŠ ä¸€ç‚¹ç«‹ä½“æ„Ÿ */
}

.log-name {
    font-size: 0.75rem;
    margin-bottom: 4px;
    font-weight: bold;
    letter-spacing: 0.5px;
}
.log-text { line-height: 1.5; white-space: pre-wrap; }

/* =========================================
   5. åº•å±‚ï¼šæ§åˆ¶å° (Console Panel) - åŠ¨æ€åˆ‡æ¢
   ========================================= */
.h-console-panel {
    height: auto;
    min-height: 140px;
    max-height: 25vh; /* é™åˆ¶æœ€å¤§é«˜åº¦ä¸è¶…è¿‡è§†å£çš„ 1/4 */
    flex-shrink: 0;   /* åŒæ ·é˜²æ­¢è¢«å‹ç¼© */
    
    background: rgba(15, 8, 12, 0.9);
    border-top: 1px solid var(--h-border-color);
    padding: 20px 30px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    position: relative;
}

/* --- æ¨¡å¼ A: æ–‡æœ¬è¾“å…¥åŒº --- */
.h-input-area {
    display: flex;
    flex-direction: row; /* ğŸ”´ å¼ºåˆ¶æ¨ªå‘æ’åˆ— */
    flex-wrap: nowrap;   /* ğŸ”´ ç¦æ­¢æ¢è¡Œ */
    align-items: stretch; /* è®©æŒ‰é’®å’Œè¾“å…¥æ¡†é«˜åº¦è‡ªåŠ¨ä¸€è‡´ */
    gap: 15px;
    height: 100%;
    width: 100%;
}

.h-input-area textarea {
    flex: 1;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 105, 180, 0.2);
    border-radius: 4px;
    color: var(--h-text-main);
    padding: 10px;
    font-size: 1rem;
    resize: none;
    transition: all 0.3s;
}

textarea:focus {
    outline: none;
    border-color: var(--h-pink-primary);
    background: rgba(20, 10, 15, 0.5);
}

.h-send-btn {
    width: 60px;
    flex-shrink: 0;      /* ğŸ”´ ç¦æ­¢æŒ‰é’®è¢«æŒ¤å‹å˜å° */
    height: auto;        /* è·Ÿéšå®¹å™¨é«˜åº¦ */
    
    /* ä»¥ä¸‹ä¿æŒåŸæ · */
    background: rgba(255, 105, 180, 0.1);
    border: 1px solid var(--h-pink-primary);
    color: var(--h-pink-primary);
    border-radius: 4px;
    cursor: pointer;
    transition: all 0.2s;
    font-size: 1.2rem;
    display: flex;       /* ç¡®ä¿å›¾æ ‡å±…ä¸­ */
    justify-content: center;
    align-items: center;
}
.send-btn:hover {
    background: var(--h-pink-primary);
    color: #fff;
}

/* --- æ¨¡å¼ B: é€‰é¡¹é€‰æ‹©åŒº (Choice Grid) --- */
.choice-area {
    flex: 1;
    overflow-y: auto; /* é€‰é¡¹è¿‡å¤šå¯æ»šåŠ¨ */
}

.h-choice-grid {
    display: grid;
    grid-template-columns: 1fr 1fr; /* åŒåˆ—æ˜¾ç¤º */
    gap: 10px;
    height: 100%;
}

.h-choice-btn {
    background: rgba(255, 105, 180, 0.05);
    border: 1px solid var(--h-border-color);
    color: var(--h-text-main);
    padding: 10px 15px;
    border-radius: 4px;
    cursor: pointer;
    text-align: left;
    transition: all 0.2s;
    font-size: 0.95rem;
    display: flex;
    align-items: center;
}

.h-choice-btn:hover {
    background: rgba(255, 105, 180, 0.2);
    border-color: var(--h-pink-primary);
    transform: translateX(2px);
    box-shadow: 0 0 10px rgba(255, 105, 180, 0.1);
}

.h-choice-btn::before {
    content: 'â—‡';
    margin-right: 8px;
    color: var(--h-pink-primary);
}
.h-choice-btn:hover::before { content: 'â—†'; }

/* --- æ¨¡å¼ C: åŠ è½½/å¤„ç†ä¸­ --- */
.loading-area {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
}
.loading-bar-container {
    width: 60%;
    text-align: center;
}
.loading-text {
    color: var(--h-pink-primary);
    font-size: 0.9rem;
    margin-bottom: 8px;
    letter-spacing: 2px;
    animation: blink 1.5s infinite;
}
.loading-bar-indeterminate {
    height: 4px;
    width: 100%;
    background: rgba(255,255,255,0.1);
    border-radius: 2px;
    overflow: hidden;
    position: relative;
}
.loading-bar-indeterminate::after {
    content: '';
    position: absolute;
    top: 0; left: 0; bottom: 0;
    width: 30%;
    background: var(--h-pink-primary);
    animation: shimmer 1.5s infinite linear;
}

/* --- åº•éƒ¨åŠŸèƒ½æ¡ --- */
.action-bar {
    height: 30px;
    display: flex;
    align-items: center;
}
.spacer { flex: 1; }

.ctrl-btn.leave {
    background: transparent;
    border: 1px solid #555;
    color: #888;
    padding: 4px 12px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.8rem;
    transition: all 0.2s;
}
.ctrl-btn.leave:hover {
    border-color: #e74c3c;
    color: #e74c3c;
}

/* ç‚¹å‡»ç»§ç»­æç¤º */
.continue-hint {
    flex: 1;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    height: 100%;
}
.blink-text {
    color: var(--h-pink-primary);
    font-size: 1.1rem;
    animation: pulse-opacity 1.5s infinite;
}

/* =========================================
   8. ç»“ç®—é¢æ¿ (Settlement Modal)
   ========================================= */
.h-settlement-modal {
    position: absolute;
    top: 190px; /* é¿å¼€é¡¶éƒ¨çš„ Monitor Panel */
    left: 0;
    width: 100%;
    bottom: 0;
    background: rgba(15, 10, 15, 0.98); /* æ·±è‰²èƒŒæ™¯é®æŒ¡ä½èŠå¤©æµ */
    z-index: 50;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    animation: slideUp 0.5s ease-out;
    backdrop-filter: blur(5px);
}

.settlement-header {
    text-align: center;
    margin-bottom: 30px;
}

.settlement-title {
    color: var(--h-text-dim);
    letter-spacing: 5px;
    font-size: 0.9rem;
    margin-bottom: 10px;
    border-bottom: 1px solid var(--h-pink-primary);
    display: inline-block;
    padding-bottom: 5px;
}

.settlement-score {
    font-size: 5rem;
    font-family: 'Cinzel', serif;
    font-weight: bold;
    color: var(--h-pink-primary);
    text-shadow: 0 0 20px var(--h-pink-primary), 0 0 40px var(--h-pink-deep);
    line-height: 1;
    animation: pulse-red 2s infinite;
}

.settlement-rank {
    font-size: 1rem;
    color: #fff;
    letter-spacing: 2px;
    opacity: 0.8;
}

.settlement-body {
    width: 80%;
    display: flex;
    flex-direction: column;
    gap: 20px;
    margin-bottom: 40px;
}

/* è¯„ä»·æ¡† */
.ai-comment-box {
    background: rgba(255, 105, 180, 0.05);
    border: 1px solid rgba(255, 105, 180, 0.3);
    padding: 15px;
    border-radius: 8px;
    text-align: center;
}

.ai-comment-box .label, .rewards-box .label {
    color: var(--h-pink-primary);
    font-size: 0.85rem;
    margin-bottom: 8px;
    font-weight: bold;
}

.ai-comment-box .text {
    color: var(--h-text-main);
    font-style: italic;
    font-size: 1.1rem;
    line-height: 1.6;
}

/* å¥–åŠ±åˆ—è¡¨ */
.rewards-box {
    text-align: center;
}

.reward-list {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
}

.reward-item {
    background: rgba(255, 255, 255, 0.05);
    padding: 8px 15px;
    border-radius: 4px;
    border: 1px solid #444;
    color: #ecf0f1;
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.9rem;
}

/* äº¤äº’æç¤º */
.char-box-simple.interactive {
    cursor: pointer;
    border-style: dashed; /* ç¨å¾®åŒºåˆ†ä¸€ä¸‹å•äººæ¨¡å¼ */
}
.char-box-simple.interactive:hover {
    background: rgba(255, 105, 180, 0.25);
    transform: scale(1.02);
}

.reward-item.exp { border-color: #f1c40f; color: #f1c40f; }
.reward-item.item { border-color: #a29bfe; color: #a29bfe; }

/* åº•éƒ¨æŒ‰é’® */
.finish-btn {
    padding: 12px 40px;
    background: transparent;
    border: 2px solid var(--h-pink-primary);
    color: var(--h-pink-primary);
    font-size: 1.2rem;
    border-radius: 30px;
    cursor: pointer;
    transition: all 0.3s;
    font-family: 'Cinzel', serif;
}

.finish-btn:hover {
    background: var(--h-pink-primary);
    color: #fff;
    box-shadow: 0 0 20px rgba(255, 105, 180, 0.4);
    transform: scale(1.05);
}

/* åŠ¨ç”»è¡¥å…… */
.fade-enter-active, .fade-leave-active {
    transition: opacity 0.5s;
}
.fade-enter-from, .fade-leave-to {
    opacity: 0;
}

@keyframes pulse-opacity {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.3; }
}

/* =========================================
   6. å…³é”®åŠ¨ç”»
   ========================================= */
@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes slideUp {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

@keyframes shimmer {
    0% { left: -30%; }
    100% { left: 100%; }
}

@keyframes blink {
    0%, 100% { opacity: 1; }
    50% { opacity: 0.5; }
}

/* =========================================
   9. ç§»åŠ¨ç«¯é€‚é… (Mobile Responsive)
   ========================================= */
@media (max-width: 768px) {
    /* è°ƒæ•´å®¹å™¨å¤§å° */
    .h-container {
        width: 100%;
        height: 100%;
        border-radius: 0; /* å…¨å±æ¨¡å¼ä¸‹å»é™¤åœ†è§’ */
        border: none;
    }

    /* é¡¶éƒ¨é¢æ¿ç´§å‡‘åŒ– */
    .h-monitor-panel {
        padding: 10px;
        gap: 10px;
    }

    /* è§’è‰²æ¡†ç¼©å° */
    .char-box-simple {
        width: 80px;
        height: 80px; /* å˜æˆæ­£æ–¹å½¢å¤´åƒé£æ ¼ */
        border-radius: 50%; /* åœ†å½¢å¤´åƒ */
    }
    .char-name-text {
        font-size: 0.8rem; /* ç¼©å°å­—ä½“ */
    }

    /* å±æ€§æ¡æ›´ç´§å‡‘ */
    .stat-label { width: 25px; font-size: 0.7rem; }
    .stat-val { width: 30px; font-size: 0.8rem; }
    .stats-grid { gap: 5px 10px; }

    /* èŠå¤©åŒºåŸŸ */
    .h-stage-panel {
        padding: 15px; /* å‡å°‘ç•™ç™½ */
    }
    .h-log-item {
        max-width: 95%; /* æ°”æ³¡æ›´å®½ */
    }
    .log-content-box {
        padding: 10px 12px;
        font-size: 0.95rem;
    }

    /* åº•éƒ¨è¾“å…¥åŒº */
    .h-console-panel {
        padding: 10px 15px;
        min-height: 120px;
    }
    .h-input-area {
        gap: 8px;
    }
    .h-send-btn {
        width: 50px;
        font-size: 1rem;
    }
    
    /* é€‰é¡¹å˜ä¸ºå•åˆ—ï¼Œæ–¹ä¾¿æ‰‹æŒ‡ç‚¹å‡» */
    .h-choice-grid {
        grid-template-columns: 1fr; 
    }
    .h-choice-btn {
        padding: 12px; /* å¢å¤§ç‚¹å‡»åŒºåŸŸ */
    }
}